(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.e)(c.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(a,o),a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&t(s,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,s=this.onInitCallbacks.get(e);if(s)try{for(var o=Object(r.g)(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=o),this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(c),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a});var i="8.6.8";r.a.registerVersion("firebase",i,"app"),r.a.SDK_VERSION=i},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("EY2u"),i=n("LRne"),s=n("z6cu");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return dn}),n.d(e,"b",function(){return nl}),n.d(e,"c",function(){return Yc}),n.d(e,"d",function(){return Qc}),n.d(e,"e",function(){return Xc}),n.d(e,"f",function(){return Yl}),n.d(e,"g",function(){return Vl}),n.d(e,"h",function(){return Wu}),n.d(e,"i",function(){return fl}),n.d(e,"j",function(){return mu}),n.d(e,"k",function(){return sl}),n.d(e,"l",function(){return vu}),n.d(e,"m",function(){return Kl}),n.d(e,"n",function(){return kr}),n.d(e,"o",function(){return kc}),n.d(e,"p",function(){return Ts}),n.d(e,"q",function(){return jn}),n.d(e,"r",function(){return I}),n.d(e,"s",function(){return hn}),n.d(e,"t",function(){return Hs}),n.d(e,"u",function(){return Mu}),n.d(e,"v",function(){return Uu}),n.d(e,"w",function(){return il}),n.d(e,"x",function(){return nc}),n.d(e,"y",function(){return Bl}),n.d(e,"z",function(){return ec}),n.d(e,"A",function(){return Nl}),n.d(e,"B",function(){return gl}),n.d(e,"C",function(){return Nn}),n.d(e,"D",function(){return el}),n.d(e,"E",function(){return tl}),n.d(e,"F",function(){return Ic}),n.d(e,"G",function(){return Su}),n.d(e,"H",function(){return wu}),n.d(e,"I",function(){return Nr}),n.d(e,"J",function(){return Cu}),n.d(e,"K",function(){return Er}),n.d(e,"L",function(){return Pn}),n.d(e,"M",function(){return zl}),n.d(e,"N",function(){return Yu}),n.d(e,"O",function(){return El}),n.d(e,"P",function(){return fn}),n.d(e,"Q",function(){return xu}),n.d(e,"R",function(){return Ou}),n.d(e,"S",function(){return ic}),n.d(e,"T",function(){return L}),n.d(e,"U",function(){return Pl}),n.d(e,"V",function(){return Dl}),n.d(e,"W",function(){return f}),n.d(e,"X",function(){return In}),n.d(e,"Y",function(){return Al}),n.d(e,"Z",function(){return Ql}),n.d(e,"ab",function(){return xl}),n.d(e,"bb",function(){return rl}),n.d(e,"cb",function(){return Rs}),n.d(e,"db",function(){return ha}),n.d(e,"eb",function(){return g}),n.d(e,"fb",function(){return wr}),n.d(e,"gb",function(){return rr}),n.d(e,"hb",function(){return Wn}),n.d(e,"ib",function(){return Kn}),n.d(e,"jb",function(){return Yn}),n.d(e,"kb",function(){return Qn}),n.d(e,"lb",function(){return Gn}),n.d(e,"mb",function(){return Xn}),n.d(e,"nb",function(){return aa}),n.d(e,"ob",function(){return Gl}),n.d(e,"pb",function(){return ua}),n.d(e,"qb",function(){return ca}),n.d(e,"rb",function(){return $n}),n.d(e,"sb",function(){return B}),n.d(e,"tb",function(){return Js}),n.d(e,"ub",function(){return wo}),n.d(e,"vb",function(){return vo}),n.d(e,"wb",function(){return _o}),n.d(e,"xb",function(){return oa}),n.d(e,"yb",function(){return Tt}),n.d(e,"zb",function(){return l}),n.d(e,"Ab",function(){return zn}),n.d(e,"Bb",function(){return Ws}),n.d(e,"Cb",function(){return _t}),n.d(e,"Db",function(){return du}),n.d(e,"Eb",function(){return Ii}),n.d(e,"Fb",function(){return io}),n.d(e,"Gb",function(){return Vo}),n.d(e,"Hb",function(){return ta}),n.d(e,"Ib",function(){return ea}),n.d(e,"Jb",function(){return Mo}),n.d(e,"Kb",function(){return qc}),n.d(e,"Lb",function(){return J}),n.d(e,"Mb",function(){return ot}),n.d(e,"Nb",function(){return w}),n.d(e,"Ob",function(){return S}),n.d(e,"Pb",function(){return rt}),n.d(e,"Qb",function(){return at}),n.d(e,"Rb",function(){return uo}),n.d(e,"Sb",function(){return po}),n.d(e,"Tb",function(){return yo}),n.d(e,"Ub",function(){return go}),n.d(e,"Vb",function(){return mo}),n.d(e,"Wb",function(){return fo}),n.d(e,"Xb",function(){return ho}),n.d(e,"Yb",function(){return bo}),n.d(e,"Zb",function(){return on}),n.d(e,"ac",function(){return na}),n.d(e,"bc",function(){return nu}),n.d(e,"cc",function(){return iu}),n.d(e,"dc",function(){return ru}),n.d(e,"ec",function(){return Rn}),n.d(e,"fc",function(){return un}),n.d(e,"gc",function(){return Gc}),n.d(e,"hc",function(){return So}),n.d(e,"ic",function(){return Hc}),n.d(e,"jc",function(){return Ee}),n.d(e,"kc",function(){return Se}),n.d(e,"lc",function(){return Oo}),n.d(e,"mc",function(){return Oc}),n.d(e,"nc",function(){return xc}),n.d(e,"oc",function(){return ko}),n.d(e,"pc",function(){return To}),n.d(e,"qc",function(){return co}),n.d(e,"rc",function(){return Ro}),n.d(e,"sc",function(){return Io}),n.d(e,"tc",function(){return vc}),n.d(e,"uc",function(){return _c}),n.d(e,"vc",function(){return wc}),n.d(e,"wc",function(){return Sc}),n.d(e,"xc",function(){return Uc}),n.d(e,"yc",function(){return ao}),n.d(e,"zc",function(){return Kt}),n.d(e,"Ac",function(){return Cr}),n.d(e,"Bc",function(){return it}),n.d(e,"Cc",function(){return Fo}),n.d(e,"Dc",function(){return oo}),n.d(e,"Ec",function(){return Kc}),n.d(e,"Fc",function(){return Yo}),n.d(e,"Gc",function(){return Zo}),n.d(e,"Hc",function(){return Jo}),n.d(e,"Ic",function(){return Bc});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=u({__forward_ref__:u});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function v(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${b(t)} found${n}`)}function _(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return{providers:t.providers||[],imports:t.imports||[]}}function E(t){return C(t,x)||C(t,k)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function O(t){return t&&(t.hasOwnProperty(T)||t.hasOwnProperty(R))?t[T]:null}const x=u({"\u0275prov":u}),T=u({"\u0275inj":u}),k=u({ngInjectableDef:u}),R=u({ngInjectorDef:u});var I=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let A;function D(t){const e=A;return A=t,e}function j(t,e,n){const r=E(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&I.Optional?null:void 0!==e?e:void v(l(t),"Injector")}function N(t){return{toString:t}.toString()}var P=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,B=F||U||M||V,q={},H=[],z=[],W=u({"\u0275cmp":u}),$=u({"\u0275dir":u}),K=u({"\u0275pipe":u}),G=u({"\u0275mod":u}),Q=u({"\u0275loc":u}),X=u({"\u0275fac":u}),Y=u({__NG_ELEMENT_ID__:u});let Z=0;function J(t){return N(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Z++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(et):null,n})}function tt(t){return ut(t)||function(t){return t[$]||null}(t)}function et(t){return function(t){return t[K]||null}(t)}const nt={};function rt(t){const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&N(()=>{nt[t.id]=t.type}),e}function it(t,e){return N(()=>{const n=ct(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function st(t,e){if(null==t)return q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ot=J;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ut(t){return t[W]||null}function ct(t,e){const n=t[G]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const lt=20,ht=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function ft(t){return Array.isArray(t)&&!0===t[1]}function pt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function gt(t){return 1==(1&t.flags)}function yt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(X)?t[X]:null}class vt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return wt}function wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Et),St}function St(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Et(t,e,n,r){const i=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:q,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new vt(u&&u.currentValue,e,o===q),t[r]=e}function Ct(t){return t.__ngSimpleChanges__||null}_t.ngInherit=!0;const Ot="http://www.w3.org/2000/svg";let xt;function Tt(t){xt=t}function kt(){return void 0!==xt?xt:"undefined"!=typeof document?document:void 0}function Rt(t){return!!t.listen}const It={createRenderer:(t,e)=>kt()};function At(t){for(;Array.isArray(t);)t=t[0];return t}function Dt(t,e){return At(e[t])}function jt(t,e){return At(e[t.index])}function Nt(t,e){return t.data[e]}function Pt(t,e){return t[e]}function Lt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ft(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Mt(t){return 4==(4&t[2])}function Vt(t){return 128==(128&t[2])}function Ut(t,e){return null==e?null:t[e]}function Bt(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ht={lFrame:me(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zt(){return Ht.bindingsEnabled}function Wt(){return Ht.lFrame.lView}function $t(){return Ht.lFrame.tView}function Kt(t){Ht.lFrame.contextLView=t}function Gt(){let t=Qt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Qt(){return Ht.lFrame.currentTNode}function Xt(){const t=Ht.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Yt(t,e){const n=Ht.lFrame;n.currentTNode=t,n.isParent=e}function Zt(){return Ht.lFrame.isParent}function Jt(){Ht.lFrame.isParent=!1}function te(){return Ht.isInCheckNoChangesMode}function ee(t){Ht.isInCheckNoChangesMode=t}function ne(){const t=Ht.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function re(){return Ht.lFrame.bindingIndex}function ie(){return Ht.lFrame.bindingIndex++}function se(t){const e=Ht.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function oe(t){Ht.lFrame.inI18n=t}function ae(t,e){const n=Ht.lFrame;n.bindingIndex=n.bindingRootIndex=t,ue(e)}function ue(t){Ht.lFrame.currentDirectiveIndex=t}function ce(){return Ht.lFrame.currentQueryIndex}function le(t){Ht.lFrame.currentQueryIndex=t}function he(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function de(t,e,n){if(n&I.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&I.Host||(r=he(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ht.lFrame=pe();return r.currentTNode=e,r.lView=t,!0}function fe(t){const e=pe(),n=t[1];Ht.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function pe(){const t=Ht.lFrame,e=null===t?null:t.child;return null===e?me(t):e}function me(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ge(){const t=Ht.lFrame;return Ht.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ye=ge;function be(){const t=ge();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ve(){return Ht.lFrame.selectedIndex}function _e(t){Ht.lFrame.selectedIndex=t}function we(){const t=Ht.lFrame;return Nt(t.tView,t.selectedIndex)}function Se(){Ht.lFrame.currentNamespace=Ot}function Ee(){Ht.lFrame.currentNamespace=null}function Ce(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Oe(t,e,n){ke(t,e,3,n)}function xe(t,e,n,r){(3&t[2])===n&&ke(t,e,n,r)}function Te(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ke(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Re(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Re(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Ie=-1;class Ae{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function De(t,e,n){const r=Rt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Ne(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function je(t){return 3===t||4===t||6===t}function Ne(t){return 64===t.charCodeAt(0)}function Pe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Le(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Le(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Fe(t){return t!==Ie}function Me(t){return 32767&t}function Ve(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ue=!0;function Be(t){const e=Ue;return Ue=t,e}let qe=0;function He(t,e){const n=We(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ze(r.data,t),ze(e,null),ze(r.blueprint,null));const i=$e(t,e),s=t.injectorIndex;if(Fe(i)){const t=Me(i),n=Ve(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function ze(t,e){t.push(0,0,0,0,0,0,0,0,e)}function We(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function $e(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ie;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ie}function Ke(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=qe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ge(t,e,n){if(n&I.Optional)return t;v(e,"NodeInjector")}function Qe(t,e,n,r){if(n&I.Optional&&void 0===r&&(r=null),0==(n&(I.Self|I.Host))){const i=t[9],s=D(void 0);try{return i?i.get(e,r,n&I.Optional):j(e,r,n&I.Optional)}finally{D(s)}}return Ge(r,e,n)}function Xe(t,e,n,r=I.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:Ze:e}(n);if("function"==typeof s){if(!de(e,t,r))return r&I.Host?Ge(i,n,r):Qe(e,n,r,i);try{const t=s();if(null!=t||r&I.Optional)return t;v(n)}finally{ye()}}else if("number"==typeof s){let i=null,o=We(t,e),a=Ie,u=r&I.Host?e[16][6]:null;for((-1===o||r&I.SkipSelf)&&(a=-1===o?$e(t,e):e[o+8],a!==Ie&&rn(r,!1)?(i=e[1],o=Me(a),e=Ve(a,e)):o=-1);-1!==o;){const t=e[1];if(nn(s,o,t.data)){const t=Je(o,e,n,i,r,u);if(t!==Ye)return t}a=e[o+8],a!==Ie&&rn(r,e[1].data[o+8]===u)&&nn(s,o,e)?(i=t,o=Me(a),e=Ve(a,e)):o=-1}}}return Qe(e,n,r,i)}const Ye={};function Ze(){return new sn(Gt(),Wt())}function Je(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=tn(a,o,n,null==r?mt(a)&&Ue:r!=o&&0!=(3&a.type),i&I.Host&&s===a);return null!==u?en(e,o,u,a):Ye}function tn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&yt(t)&&t.type===n)return u}return null}function en(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Ae){const o=i;o.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(b(s[n]));const a=Be(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?D(o.injectImpl):null;de(t,r,I.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&D(u),Be(a),o.resolving=!1,ye()}}return i}function nn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function rn(t,e){return!(t&I.Self||t&I.Host&&e)}class sn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Xe(this._tNode,this._lView,t,void 0,e)}}function on(t){return N(()=>{const e=t.prototype.constructor,n=e[X]||an(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||an(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function an(t){return m(t)?()=>{const e=an(p(t));return e&&e()}:bt(t)}function un(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(je(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Gt(),t)}const cn="__parameters__";function ln(t,e,n){return N(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(cn)?t[cn]:Object.defineProperty(t,cn,{value:[]})[cn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class hn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const dn=new hn("AnalyzeForEntryComponents"),fn=Function;function pn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),pn(r,e)):e!==t&&e.push(r)}return e}function mn(t,e){t.forEach(t=>Array.isArray(t)?mn(t,e):e(t))}function gn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function vn(t,e,n){let r=wn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function _n(t,e){const n=wn(t,e);if(n>=0)return t[1|n]}function wn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Sn={},En=/\n/gm,Cn="__source",On=u({provide:String,useValue:u});let xn;function Tn(t){const e=xn;return xn=t,e}function kn(t,e=I.Default){if(void 0===xn)throw new Error("inject() must be called from an injection context");return null===xn?j(t,void 0,e):xn.get(t,e&I.Optional?null:void 0,e)}function Rn(t,e=I.Default){return(A||kn)(p(t),e)}const In=Rn;function An(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=I.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(Rn(t,n))}else e.push(Rn(r))}return e}function Dn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const jn=Dn(ln("Inject",t=>({token:t})),-1),Nn=Dn(ln("Optional"),8),Pn=Dn(ln("SkipSelf"),4);let Ln;function Fn(t){var e;return(null===(e=function(){if(void 0===Ln&&(Ln=null,B.trustedTypes))try{Ln=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Ln}())||void 0===e?void 0:e.createHTML(t))||t}class Mn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Vn extends Mn{getTypeName(){return"HTML"}}class Un extends Mn{getTypeName(){return"Style"}}class Bn extends Mn{getTypeName(){return"Script"}}class qn extends Mn{getTypeName(){return"URL"}}class Hn extends Mn{getTypeName(){return"ResourceURL"}}function zn(t){return t instanceof Mn?t.changingThisBreaksApplicationSecurity:t}function Wn(t,e){const n=$n(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function $n(t){return t instanceof Mn&&t.getTypeName()||null}function Kn(t){return new Vn(t)}function Gn(t){return new Un(t)}function Qn(t){return new Bn(t)}function Xn(t){return new qn(t)}function Yn(t){return new Hn(t)}function Zn(t){const e=new tr(t);return function(){try{return!!(new window.DOMParser).parseFromString(Fn(""),"text/html")}catch(t){return!1}}()?new Jn(e):e}class Jn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Fn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class tr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Fn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Fn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const er=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,nr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function rr(t){return(t=String(t)).match(er)||t.match(nr)?t:"unsafe:"+t}function ir(t){return(t=String(t)).split(",").map(t=>rr(t.trim())).join(", ")}function sr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function or(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ar=sr("area,br,col,hr,img,wbr"),ur=sr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cr=sr("rp,rt"),lr=or(cr,ur),hr=or(ar,or(ur,sr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),or(cr,sr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lr),dr=sr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fr=sr("srcset"),pr=or(dr,fr,sr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mr=sr("script,style,template");class gr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!hr.hasOwnProperty(e))return this.sanitizedSomething=!0,!mr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!pr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=t.value;dr[i]&&(s=rr(s)),fr[i]&&(s=ir(s)),this.buf.push(" ",e,'="',vr(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();hr.hasOwnProperty(e)&&!ar.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(vr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const yr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,br=/([^\#-~ |!])/g;function vr(t){return t.replace(/&/g,"&amp;").replace(yr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(br,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _r;function wr(t,e){let n=null;try{_r=_r||Zn(t);let r=e?String(e):"";n=_r.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=_r.getInertBodyElement(r)}while(r!==s);return Fn((new gr).sanitizeChildren(Sr(n)||n))}finally{if(n){const t=Sr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Sr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Er=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Cr(t){const e=function(){const t=Wt();return t&&t[12]}();return e?e.sanitize(Er.URL,t)||"":Wn(t,"URL")?zn(t):rr(y(t))}function Or(t){return t.ngDebugContext}function xr(t){return t.ngOriginalError}function Tr(t,...e){t.error(...e)}class kr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Tr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Or(t)?Or(t):this._findContext(xr(t)):null}_findOriginalError(t){let e=xr(t);for(;e&&xr(e);)e=xr(e);return e}}const Rr=/^>|^->|<!--|-->|--!>|<!-$/g,Ir=/(<|>)/;function Ar(t,e){t.__ngContext__=e}const Dr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function jr(t){return t instanceof Function?t():t}var Nr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Pr;function Lr(t,e){return Pr(t,e)}function Fr(t){const e=t[3];return ft(e)?e[3]:e}function Mr(t){return Ur(t[13])}function Vr(t){return Ur(t[4])}function Ur(t){for(;null!==t&&!ft(t);)t=t[4];return t}function Br(t,e,n,r,i){if(null!=r){let s,o=!1;ft(r)?s=r:dt(r)&&(o=!0,r=r[0]);const a=At(r);0===t&&null!==n?null==i?Jr(e,n,a):Zr(e,n,a,i||null,!0):1===t&&null!==n?Zr(e,n,a,i||null,!0):2===t?hi(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==At(n)&&Br(e,t,r,s,i);for(let o=ht;o<n.length;o++){const i=n[o];fi(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function qr(t,e){return Rt(t)?t.createText(e):t.createTextNode(e)}function Hr(t,e,n){Rt(t)?t.setValue(e,n):e.textContent=n}function zr(t,e){return t.createComment(function(t){return t.replace(Rr,t=>t.replace(Ir,"\u200b$1\u200b"))}(e))}function Wr(t,e,n){return Rt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function $r(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qt(i,-1)),n.splice(r,1)}function Kr(t,e){if(t.length<=ht)return;const n=ht+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&$r(s,r),e>0&&(t[n-1][4]=r[4]);const o=yn(t,ht+e);fi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Gr(t,e){if(!(256&e[2])){const n=e[11];Rt(n)&&n.destroyNode&&fi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Qr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Qr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Qr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Qr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ae)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):At(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Rt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ft(e[3])){n!==e[3]&&$r(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Xr(t,e,n){return Yr(t,e.parent,n)}function Yr(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return jt(r,n)}function Zr(t,e,n,r,i){Rt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Jr(t,e,n){Rt(t)?t.appendChild(e,n):e.appendChild(n)}function ti(t,e,n,r,i){null!==r?Zr(t,e,n,r,i):Jr(t,e,n)}function ei(t,e){return Rt(t)?t.parentNode(e):e.parentNode}function ni(t,e,n){return si(t,e,n)}function ri(t,e,n){return 40&t.type?jt(t,n):null}let ii,si=ri;function oi(t,e){si=t,ii=e}function ai(t,e,n,r){const i=Xr(t,r,e),s=e[11],o=ni(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)ti(s,i,n[a],o,!1);else ti(s,i,n,o,!1);void 0!==ii&&ii(s,r,e,n,i)}function ui(t,e){if(null!==e){const n=e.type;if(3&n)return jt(e,t);if(4&n)return li(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return ui(t,n);{const n=t[e.index];return ft(n)?li(-1,n):At(n)}}if(32&n)return Lr(e,t)()||At(t[e.index]);{const n=ci(t,e);return null!==n?Array.isArray(n)?n[0]:ui(Fr(t[16]),n):ui(t,e.next)}}return null}function ci(t,e){return null!==e?t[16][6].projection[e.projection]:null}function li(t,e){const n=ht+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ui(t,r)}return e[7]}function hi(t,e,n){const r=ei(t,e);r&&function(t,e,n,r){Rt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function di(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Ar(At(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)di(t,e,n.child,r,i,s,!1),Br(e,t,i,a,s);else if(32&u){const o=Lr(n,r);let u;for(;u=o();)Br(e,t,i,u,s);Br(e,t,i,a,s)}else 16&u?pi(t,e,r,n,i,s):Br(e,t,i,a,s);n=o?n.projectionNext:n.next}}function fi(t,e,n,r,i,s){di(n,r,t.firstChild,e,i,s,!1)}function pi(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Br(e,t,i,a[u],s);else di(t,e,a,o[3],i,s,!0)}function mi(t,e,n){Rt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function gi(t,e,n){Rt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function yi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const bi="ng-template";function vi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==yi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function _i(t){return 4===t.type&&t.value!==bi}function wi(t,e,n){return e===(4!==t.type||n?t.value:bi)}function Si(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(je(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!wi(t,u,n)||""===u&&1===e.length){if(Ei(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!vi(t.attrs,c,n)){if(Ei(r))return!1;o=!0}continue}const l=Ci(8&r?"class":u,i,_i(t),n);if(-1===l){if(Ei(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==yi(e,c,0)||2&r&&c!==t){if(Ei(r))return!1;o=!0}}}}else{if(!o&&!Ei(r)&&!Ei(u))return!1;if(o&&Ei(u))continue;o=!1,r=u|1&r}}return Ei(r)||o}function Ei(t){return 0==(1&t)}function Ci(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Oi(t,e,n=!1){for(let r=0;r<e.length;r++)if(Si(t,e[r],n))return!0;return!1}function xi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Ti(t,e){return t?":not("+e.trim()+")":e}function ki(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Ei(o)||(e+=Ti(s,i),i=""),r=o,s=s||!Ei(r);n++}return""!==i&&(e+=Ti(s,i)),e}const Ri={};function Ii(t){Ai($t(),Wt(),ve()+t,te())}function Ai(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Oe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&xe(e,r,0,n)}_e(n)}function Di(t,e){return t<<17|e<<2}function ji(t){return t>>17&32767}function Ni(t){return 2|t}function Pi(t){return(131068&t)>>2}function Li(t,e){return-131069&t|e<<2}function Fi(t){return 1|t}function Mi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];le(i),n.contentQueries(2,e[s],s)}}}function Vi(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Bt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Ui(t,e,n,r,i){let s=t.data[e];if(null===s)s=Bi(t,e,n,r,i),Ht.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=Xt();s.injectorIndex=null===t?-1:t.injectorIndex}return Yt(s,!0),s}function Bi(t,e,n,r,i){const s=Qt(),o=Zt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function qi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Hi(t,e,n){fe(e);try{const r=t.viewQuery;null!==r&&_s(1,r,n);const i=t.template;null!==i&&$i(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Mi(t,e),t.staticViewQueries&&_s(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)ms(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,be()}}function zi(t,e,n,r){const i=e[2];if(256==(256&i))return;fe(e);const s=te();try{Bt(e),Ht.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&$i(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Oe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&xe(e,n,0,null),Te(e,0)}if(function(t){for(let e=Mr(t);null!==e;e=Vr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Mr(t);null!==e;e=Vr(e))for(let t=ht;t<e.length;t++){const n=e[t],r=n[1];Vt(n)&&zi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Mi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Oe(e,n)}else{const n=t.contentHooks;null!==n&&xe(e,n,1),Te(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)_e(~r);else{const i=r,s=n[++t],o=n[++t];ae(s,i),o(2,e[i])}}}finally{_e(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)fs(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&_s(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Oe(e,n)}else{const n=t.viewHooks;null!==n&&xe(e,n,2),Te(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{be()}}function Wi(t,e,n,r){const i=e[10],s=!te(),o=Mt(e);try{s&&!o&&i.begin&&i.begin(),o&&Hi(t,e,r),zi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function $i(t,e,n,r,i){const s=ve(),o=2&r;try{_e(-1),o&&e.length>lt&&Ai(t,e,lt,te()),n(r,i)}finally{_e(s)}}function Ki(t,e,n){if(pt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Gi(t,e,n){zt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||He(n,e),Ar(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=yt(r);s&&us(e,n,r);const u=en(e,t,a,n);Ar(u,e),null!==o&&ls(0,a-i,u,r,0,o),s&&(Lt(n.index,e)[8]=u)}}(t,e,n,jt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ht.lFrame.currentDirectiveIndex;try{_e(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ue(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||rs(r,i)}}finally{_e(-1),ue(o)}}(t,e,n))}function Qi(t,e,n=jt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Xi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Yi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Yi(t,e,n,r,i,s,o,a,u,c){const l=lt+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ri);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Zi(t,e,n,r){const i=Ss(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Es(t).push(r,i.length-1))}function Ji(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ts(t,e,n,r,i,s,o,a){const u=jt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Os(t,n,c,r,i),mt(e)&&function(t,e){const n=Lt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,Rt(s)?s.setProperty(u,r,i):Ne(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function es(t,e,n,r){let i=!1;if(zt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Oi(n,o.selectors,!1)&&(i||(i=[]),Ke(He(n,e),t,o.type),yt(o)?(is(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,os(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=qi(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Pe(n.mergedAttrs,c.hostAttrs),as(t,n,e,u,c),ss(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||_i(e)?null:hs(n,i);s.push(c),o=Ji(n,u,o),a=Ji(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new g("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Pe(n.mergedAttrs,n.attrs),i}function ns(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function rs(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function is(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ss(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yt(e)&&(n[""]=t)}}function os(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function as(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=bt(i.type)),o=new Ae(s,yt(i),null);t.blueprint[r]=o,n[r]=o,ns(t,e,0,r,qi(t,n,i.hostVars,Ri),i)}function us(t,e,n){const r=jt(e,t),i=Xi(n),s=t[10],o=gs(t,Vi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function cs(t,e,n,r,i,s,o){if(null==s)Rt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);Rt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function ls(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function hs(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ds(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function fs(t,e){const n=Lt(e,t);if(Vt(n)){const t=n[1];80&n[2]?zi(t,n,t.template,n[8]):n[5]>0&&ps(n)}}function ps(t){for(let n=Mr(t);null!==n;n=Vr(n))for(let t=ht;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];zi(t,e,t.template,e[8])}else e[5]>0&&ps(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Lt(e[n],t);Vt(r)&&r[5]>0&&ps(r)}}function ms(t,e){const n=Lt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Hi(r,n,n[8])}function gs(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ys(t){for(;t;){t[2]|=64;const e=Fr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function bs(t,e,n){const r=e[10];r.begin&&r.begin();try{zi(t,e,t.template,n)}catch(i){throw Cs(e,i),i}finally{r.end&&r.end()}}function vs(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ft(n),i=r[1];Wi(i,r,i.template,n)}}(t[8])}function _s(t,e,n){le(0),e(t,n)}const ws=(()=>Promise.resolve(null))();function Ss(t){return t[7]||(t[7]=[])}function Es(t){return t.cleanup||(t.cleanup=[])}function Cs(t,e){const n=t[9],r=n?n.get(kr,null):null;r&&r.handleError(e)}function Os(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function xs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Ts=new hn("INJECTOR",-1);class ks{get(t,e=Sn){if(e===Sn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const Rs=new hn("Set Injector scope."),Is={},As={},Ds=[];let js;function Ns(){return void 0===js&&(js=new ks),js}function Ps(t,e=null,n=null,r){return new Ls(t,n,e||Ns(),r)}class Ls{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&mn(e,n=>this.processProvider(n,t,e)),mn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Ts,Vs(void 0,this));const s=this.records.get(Rs);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Sn,n=I.Default){this.assertNotDestroyed();const r=Tn(this);try{if(!(n&I.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof hn)&&E(t);e=n&&this.injectableDefInScope(n)?Vs(Fs(t),Is):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&I.Self?Ns():this.parent).get(t,e=n&I.Optional&&e===Sn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(l(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Cn]&&i.unshift(e[Cn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(En,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Tn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=O(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=O(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{mn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];mn(r,t=>this.processProvider(t,n,r||Ds))}}this.injectorDefTypes.add(s);const a=bt(s)||(()=>new s);this.records.set(s,Vs(a,Is));const u=r.providers;if(null!=u&&!o){const e=t;mn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Bs(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Us(t)?Vs(void 0,t.useValue):Vs(Ms(t),Is)}(t);if(Bs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Vs(void 0,Is,!0),e.factory=()=>An(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Is&&(e.value=As,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Fs(t){const e=E(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;if(t instanceof hn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=bn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[k]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ms(t,e,n){let r;if(Bs(t)){const e=p(t);return bt(e)||Fs(e)}if(Us(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...An(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Rn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||Fs(e);r=()=>new e(...An(t.deps))}var i;return r}function Vs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Us(t){return null!==t&&"object"==typeof t&&On in t}function Bs(t){return"function"==typeof t}const qs=function(t,e,n){return function(t,e=null,n=null,r){const i=Ps(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Hs=(()=>{class t{static create(t,e){return Array.isArray(t)?qs(t,e,""):qs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Sn,t.NULL=new ks,t.\u0275prov=w({token:t,providedIn:"any",factory:()=>Rn(Ts)}),t.__NG_ELEMENT_ID__=-1,t})();function zs(t,e){Ce(Ft(t)[1],Gt())}function Ws(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(yt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=$s(t.inputs),e.declaredInputs=$s(t.declaredInputs),e.outputs=$s(t.outputs);const n=i.hostBindings;n&&Qs(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Ks(t,s),o&&Gs(t,o),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),yt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Ws&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pe(i.hostAttrs,n=Pe(n,i.hostAttrs))}}(r)}function $s(t){return t===q?{}:t===z?[]:t}function Ks(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Gs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Qs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Xs=null;function Ys(){if(!Xs){const t=B.Symbol;if(t&&t.iterator)Xs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Xs=n)}}}return Xs}class Zs{constructor(t){this.wrapped=t}static wrap(t){return new Zs(t)}static unwrap(t){return Zs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Zs}}function Js(t){return!!to(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ys()in t)}function to(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function eo(t,e,n){return t[e]=n}function no(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ro(t,e,n,r){const i=no(t,e,n);return no(t,e+1,r)||i}function io(t,e,n,r){const i=Wt();return no(i,ie(),e)&&($t(),function(t,e,n,r,i,s){const o=jt(t,e);cs(e[11],o,s,t.value,n,r,i)}(we(),i,t,e,n,r)),io}function so(t,e,n,r){return no(t,ie(),n)?e+y(n)+r:Ri}function oo(t,e,n,r,i,s,o,a){const u=Wt(),c=$t(),l=t+lt,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ui(e,t,4,o||null,Ut(c,a));es(e,n,l,Ut(c,u)),Ce(e,l);const h=l.tViews=Yi(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Yt(h,!1);const d=u[11].createComment("");ai(c,u,d,h),Ar(d,u),gs(u,u[l]=ds(d,u,d,h)),gt(h)&&Gi(c,u,h),null!=o&&Qi(u,h,a)}function ao(t){return Pt(Ht.lFrame.contextLView,lt+t)}function uo(t,e=I.Default){const n=Wt();return null===n?Rn(t,e):Xe(Gt(),n,p(t),e)}function co(t,e,n){const r=Wt();return no(r,ie(),e)&&ts($t(),we(),r,t,e,r[11],n,!1),co}function lo(t,e,n,r,i){const s=i?"class":"style";Os(t,n,e.inputs[s],s,r)}function ho(t,e,n,r){const i=Wt(),s=$t(),o=lt+t,a=i[11],u=i[o]=Wr(a,e,Ht.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Ui(e,t,2,i,Ut(a,s));return es(e,n,u,Ut(a,o)),null!==u.attrs&&xs(u,u.attrs,!1),null!==u.mergedAttrs&&xs(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Yt(c,!0);const l=c.mergedAttrs;null!==l&&De(a,u,l);const h=c.classes;null!==h&&gi(a,u,h);const d=c.styles;null!==d&&mi(a,u,d),64!=(64&c.flags)&&ai(s,i,u,c),0===Ht.lFrame.elementDepthCount&&Ar(u,i),Ht.lFrame.elementDepthCount++,gt(c)&&(Gi(s,i,c),Ki(s,c,i)),null!==r&&Qi(i,c)}function fo(){let t=Gt();Zt()?Jt():(t=t.parent,Yt(t,!1));const e=t;Ht.lFrame.elementDepthCount--;const n=$t();n.firstCreatePass&&(Ce(n,t),pt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&lo(n,e,Wt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&lo(n,e,Wt(),e.stylesWithoutHost,!1)}function po(t,e,n,r){ho(t,e,n,r),fo()}function mo(t,e,n){const r=Wt(),i=$t(),s=t+lt,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Ut(s,r),a=Ui(e,t,8,"ng-container",o);return null!==o&&xs(a,o,!0),es(e,n,a,Ut(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Yt(o,!0);const a=r[s]=r[11].createComment("");ai(i,r,a,o),Ar(a,r),gt(o)&&(Gi(i,r,o),Ki(i,o,r)),null!=n&&Qi(r,o)}function go(){let t=Gt();const e=$t();Zt()?Jt():(t=t.parent,Yt(t,!1)),e.firstCreatePass&&(Ce(e,t),pt(t)&&e.queries.elementEnd(t))}function yo(t,e,n){mo(t,e,n),go()}function bo(){return Wt()}function vo(t){return!!t&&"function"==typeof t.then}function _o(t){return!!t&&"function"==typeof t.subscribe}const wo=_o;function So(t,e,n=!1,r){const i=Wt(),s=$t(),o=Gt();return function(t,e,n,r,i,s,o=!1,a){const u=gt(r),c=t.firstCreatePass&&Es(t),l=Ss(e);let h=!0;if(3&r.type){const d=jt(r,e),f=a?a(d):q,p=f.target||d,m=l.length,g=a?t=>a(At(t[r.index])).target:r.index;if(Rt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Co(r,e,0,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),c&&c.push(i,g,m,m+1)}}else s=Co(r,e,0,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,m,o)}else s=Co(r,e,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),So}function Eo(t,e,n,r){try{return!1!==n(r)}catch(i){return Cs(t,i),!1}}function Co(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Lt(t.index,e):e;0==(32&e[2])&&ys(o);let a=Eo(e,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=Eo(e,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Oo(t=1){return function(t){return(Ht.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ht.lFrame.contextLView))[8]}(t)}function xo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Oi(t,s,!0):xi(r,s))return i}else n=i}return n}function To(t){const e=Wt()[16][6];if(!e.projection){const n=e.projection=bn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?xo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function ko(t,e=0,n){const r=Wt(),i=$t(),s=Ui(i,lt+t,16,null,n||null);null===s.projection&&(s.projection=e),Jt(),64!=(64&s.flags)&&function(t,e,n){pi(e[11],0,e,n,Xr(t,n,e),ni(n.parent||e[6],n,e))}(i,r,s)}function Ro(t,e,n){return Io(t,"",e,"",n),Ro}function Io(t,e,n,r,i){const s=Wt(),o=so(s,e,n,r);return o!==Ri&&ts($t(),we(),s,t,o,s[11],i,!1),Io}function Ao(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ji(s):Pi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];Do(t[a],e)&&(u=!0,t[a+1]=r?Fi(n):Ni(n)),a=r?ji(n):Pi(n)}u&&(t[n+1]=r?Ni(s):Fi(s))}function Do(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&wn(t,e)>=0}const jo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function No(t){return t.substring(jo.key,jo.keyEnd)}function Po(t,e){const n=jo.textEnd;return n===e?-1:(e=jo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,jo.key=e,n),Lo(t,e,n))}function Lo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Fo(t,e,n){return Bo(t,e,n,!1),Fo}function Mo(t,e){return Bo(t,e,null,!0),Mo}function Vo(t){qo(vn,Uo,t,!0)}function Uo(t,e){for(let n=function(t){return function(t){jo.key=0,jo.keyEnd=0,jo.value=0,jo.valueEnd=0,jo.textEnd=t.length}(t),Po(t,Lo(t,0,jo.textEnd))}(e);n>=0;n=Po(e,n))vn(t,No(e),!0)}function Bo(t,e,n,r){const i=Wt(),s=$t(),o=se(2);s.firstUpdatePass&&zo(s,t,o,r),e!==Ri&&no(i,o,e)&&Ko(s,s.data[ve()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(zn(t)))),t}(e,n),r,o)}function qo(t,e,n,r){const i=$t(),s=se(2);i.firstUpdatePass&&zo(i,null,s,r);const o=Wt();if(n!==Ri&&no(o,s,n)){const a=i.data[ve()];if(Xo(a,r)&&!Ho(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),lo(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===Ri&&(i=H);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const d=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let p,m=null;l===h?(u+=2,c+=2,d!==f&&(m=h,p=f)):null===h||null!==l&&l<h?(u+=2,m=l):(c+=2,m=h,p=f),null!==m&&Ko(t,e,n,r,m,p,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return H;const r=[],i=zn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function Ho(t,e){return e>=t.expandoStartIndex}function zo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[ve()],o=Ho(t,n);Xo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Ht.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=$o(n=Wo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Wo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Pi(r))return t[ji(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Wo(null,t,e,n[1],r),n=$o(n,e.attrs,r),function(t,e,n,r){t[ji(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=$o(r,t[s].hostAttrs,n);return $o(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ji(o),u=Pi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||wn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ji(t[a+1]);t[r+1]=Di(e,a),0!==e&&(t[e+1]=Li(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Di(a,0),0!==a&&(t[a+1]=Li(t[a+1],r)),a=r;else t[r+1]=Di(u,0),0===a?a=r:t[u+1]=Li(t[u+1],r),u=r;l&&(t[r+1]=Ni(t[r+1])),Ao(t,c,r,!0),Ao(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&wn(s,e)>=0&&(n[r+1]=Fi(n[r+1]))}(e,c,t,r,s),o=Di(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Wo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=$o(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function $o(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Ko(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Qo(1==(1&c)?Go(u,e,n,i,Pi(c),o):void 0)||(Qo(s)||2==(2&c)&&(s=Go(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Rt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Nr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Nr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Dt(ve(),n),i,s))}function Go(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===Ri&&(l=c?H:void 0);let h=c?_n(l,r):u===r?l:void 0;if(s&&!Qo(h)&&(h=_n(e,r)),Qo(h)&&(a=h,o))return a;const d=t[i+1];i=o?ji(d):Pi(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=_n(t,r))}return a}function Qo(t){return void 0!==t}function Xo(t,e){return 0!=(t.flags&(e?16:32))}function Yo(t,e=""){const n=Wt(),r=$t(),i=t+lt,s=r.firstCreatePass?Ui(r,i,1,e,null):r.data[i],o=n[i]=qr(n[11],e);ai(r,n,o,s),Yt(s,!1)}function Zo(t){return Jo("",t,""),Zo}function Jo(t,e,n){const r=Wt(),i=so(r,t,e,n);return i!==Ri&&function(t,e,n){const r=Dt(e,t);Hr(t[11],r,n)}(r,ve(),i),Jo}function ta(t,e,n){qo(vn,Uo,so(Wt(),t,e,n),!0)}function ea(t,e,n,r,i,s,o,a,u){qo(vn,Uo,function(t,e,n,r,i,s,o,a,u,c){const l=function(t,e,n,r,i,s){const o=ro(t,e,n,r);return ro(t,e+2,i,s)||o}(t,re(),n,i,o,u);return se(4),l?e+y(n)+r+y(i)+s+y(o)+a+y(u)+c:Ri}(Wt(),t,e,n,r,i,s,o,a,u),!0)}function na(t,e,n){const r=Wt();return no(r,ie(),e)&&ts($t(),we(),r,t,e,r[11],n,!0),na}const ra=void 0;var ia=["en",[["a","p"],["AM","PM"],ra],[["AM","PM"],ra,ra],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ra,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ra,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ra,"{1} 'at' {0}",ra],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let sa={};function oa(t,e,n){"string"!=typeof e&&(n=e,e=t[ha.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),sa[e]=t,n&&(sa[e][ha.ExtraData]=n)}function aa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=la(e);if(n)return n;const r=e.split("-")[0];if(n=la(r),n)return n;if("en"===r)return ia;throw new Error(`Missing locale data for the locale "${t}".`)}function ua(t){return aa(t)[ha.CurrencyCode]||null}function ca(t){return aa(t)[ha.PluralCase]}function la(t){return t in sa||(sa[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),sa[t]}var ha=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const da=["zero","one","two","few","many"],fa="en-US",pa={marker:"element"},ma={marker:"ICU"};var ga=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let ya=fa;function ba(t){var e;null==(e=t)&&_("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(ya=t.toLowerCase().replace(/_/g,"-"))}function va(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?ri(t,0,n):At(n[i])}function _a(t,e,n,r,i){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&e.type||(a=o,o=i),null!==o&&0==(2&e.flags))for(let e=1;e<s.length;e++)Zr(t,o,n[s[e]],a,!1)}}function wa(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];Sa(r)||Ea(r,e)&&null===Ca(r)&&Oa(r,e.index)}}function Sa(t){return!(64&t.type)}function Ea(t,e){return Sa(e)||t.index>e.index}function Ca(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Oa(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(oi(va,_a),t.insertBeforeIndex=e)}function xa(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Ta(t,e,n){const r=Bi(t,n,64,null,null);return wa(e,r),r}function ka(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Ra=0,Ia=0;function Aa(t,e,n,r){const i=n[11];let s,o=null;for(let a=0;a<e.length;a++){const u=e[a];if("string"==typeof u){const t=e[++a];null===n[t]&&(n[t]=qr(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===o&&(o=c,s=ei(i,r)),c===o?(l=r,h=s):(l=null,h=At(n[c])),null!==h){const e=(131070&u)>>>1;Zr(i,h,n[e],l,!1);const r=xa(t,e);if(null!==r&&"object"==typeof r){const e=ka(r,n);null!==e&&Aa(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const d=e[++a],f=e[++a];cs(i,Dt(u>>>1,n),null,null,d,f,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case ma:const t=e[++a],r=e[++a];null===n[r]&&Ar(n[r]=zr(i,t),n);break;case pa:const s=e[++a],o=e[++a];null===n[o]&&Ar(n[o]=Wr(i,s,null),n)}}}function Da(t,e,n,r,i){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&i){let i="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=y(e[r-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],u=n[++o],c=t.data[a];"string"==typeof c?cs(e[11],e[a],null,c,s,i,u):ts(t,c,e,s,i,e[11],u,!1);break;case 0:const l=e[a];null!==l&&Hr(e[11],l,i);break;case 2:Na(t,xa(t,a),e,i);break;case 3:ja(t,xa(t,a),r,e)}}}}else{const i=n[s+1];if(i>0&&3==(3&i)){const n=xa(t,i>>>2);e[n.currentCaseLViewIndex]<0&&ja(t,n,r,e)}}s+=a}}function ja(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let s=Ra;i<0&&(i=r[e.currentCaseLViewIndex]=~i,s=-1),Da(t,r,e.update[i],n,s)}}function Na(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=ca(e)(parseInt(t,10)),r=da[n];return void 0!==r?r:"other"}(e,ya);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(ka(e,n)!==i&&(Pa(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&Aa(t,e.create[i],n,r)}}function Pa(t,e,n){let r=ka(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=Dt(r,n);null!==t&&hi(n[11],t)}else Pa(t,xa(t,~r),n)}}}const La=/\ufffd(\d+):?\d*\ufffd/gi,Fa=/\ufffd(\d+)\ufffd/,Ma=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Va=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Ua=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ba=/\uE500/g;function qa(t,e,n,r,i,s,o){const a=qi(t,r,1,null);let u=a<<ga.SHIFT,c=Xt();e===c&&(c=null),null===c&&(u|=ga.APPEND_EAGERLY),o&&(u|=ga.COMMENT,void 0===Pr&&(Pr=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=ka(t,e);n=null!==i?t.remove[i]:z}function s(){if(r<n.length){const o=n[r++];return o>0?e[o]:(t.push(r,n),i(e[1].data[~o],e),s())}return 0===t.length?null:(n=t.pop(),r=t.pop(),s())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),s}}())),i.push(u,null===s?"":s);const l=Bi(t,a,o?32:1,null===s?"":s,null);wa(n,l);const h=l.index;return Yt(l,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(oi(va,_a),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&_("Expecting array here",r,true,"=="),n.push(e))}(c,h),l}function Ha(t,e,n,r,i,s,o){const a=o.match(La),u=qa(t,e,n,s,r,a?null:o,!1);a&&za(i,o,u.index,null,0,null)}function za(t,e,n,r,i,s){const o=t.length,a=o+1;t.push(null,null);const u=o+2,c=e.split(La);let l=0;for(let h=0;h<c.length;h++){const e=c[h];if(1&h){const n=i+parseInt(e,10);t.push(-1-n),l|=Wa(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,s),t[o]=l,t[a]=t.length-u,l}function Wa(t){return 1<<Math.min(t,31)}function $a(t){let e,n,r="",i=0,s=!1;for(;null!==(e=Va.exec(t));)s?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,s=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],s=!0);return r+=t.substr(i),r}function Ka(t,e,n,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:qi(t,e,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(Wa(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,s),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,s,a);const u=i.values;for(let c=0;c<u.length;c++){const s=u[c],l=[];for(let t=0;t<s.length;t++){const e=s[t];if("string"!=typeof e){const n=l.push(e)-1;s[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=Xa(t,a,e,n,r,i.cases[c],s.join(""),l)|o}o&&function(t,e,n){t.push(e,1,n<<2|3)}(n,o,s)}function Ga(t){const e=[],n=[];let r=1,i=0;const s=Qa(t=t.replace(Ma,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let o=0;o<s.length;){let t=s[o++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Qa(s[o++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function Qa(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(t);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Ma.test(n)?r.push(Ga(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const o=t.substring(e);return r.push(o),r}function Xa(t,e,n,r,i,s,o,a){const u=[],c=[],l=[];e.cases.push(s),e.create.push(u),e.remove.push(c),e.update.push(l);const h=Zn(kt()).getInertBodyElement(o),d=Sr(h)||h;return d?Ya(t,e,n,r,u,c,l,d,i,a,0):0}function Ya(t,e,n,r,i,s,o,a,u,c,l){let h=0,d=a.firstChild;for(;d;){const a=qi(t,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const f=d,p=f.tagName.toLowerCase();if(hr.hasOwnProperty(p)){tu(i,pa,p,u,a),t.data[a]=p;const m=f.attributes;for(let t=0;t<m.length;t++){const e=m.item(t),n=e.name.toLowerCase();e.value.match(La)?pr.hasOwnProperty(n)&&za(o,e.value,a,e.name,0,dr[n]?rr:fr[n]?ir:null):eu(i,a,e)}h=Ya(t,e,n,r,i,s,o,d,a,c,l+1)|h,Za(s,a,l)}break;case Node.TEXT_NODE:const m=d.textContent||"",g=m.match(La);tu(i,null,g?"":m,u,a),Za(s,a,l),g&&(h=za(o,m,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=Fa.exec(d.textContent||"");if(y){const e=c[parseInt(y[1],10)];tu(i,ma,"",u,a),Ka(t,n,r,u,e,a),Ja(s,a,l)}}d=d.nextSibling}return h}function Za(t,e,n){0===n&&t.push(e)}function Ja(t,e,n){0===n&&(t.push(~e),t.push(e))}function tu(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function eu(t,e,n){t.push(e<<1|1,n.name,n.value)}function nu(t,e,n){(function(t,e,n=-1){const r=$t(),i=Wt(),s=lt+t,o=Ut(r.consts,e),a=Xt();r.firstCreatePass&&function(t,e,n,r,i,s){const o=Xt(),a=[],u=[],c=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return $a(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return $a(t.substring(n,r))}}(i,s),h.replace(Ba," ")).split(Ua);var h;for(let d=0;d<l.length;d++){let r=l[d];if(0==(1&d)){const s=Qa(r);for(let r=0;r<s.length;r++){let l=s[r];if(0==(1&r)){const e=l;""!==e&&Ha(t,o,c[0],a,u,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);Ka(t,n,u,e,r,qa(t,o,c[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),lt+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),Yt(Xt(),!1);else{const e=Ta(t,c[0],n);c.unshift([]),Yt(e,!0)}}}t.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,s,o,n);const u=r.data[s],c=Yr(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let s=0;s<e.length;s++){const o=e[s++],a=e[s],u=(o&ga.COMMENT)===ga.COMMENT,c=(o&ga.APPEND_EAGERLY)===ga.APPEND_EAGERLY,l=o>>>ga.SHIFT;let h=t[l];null===h&&(h=t[l]=u?i.createComment(a):qr(i,a)),c&&null!==n&&Zr(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),oe(!0)})(t,e,n),oe(!1)}function ru(t){return no(Wt(),ie(),t)&&(Ra|=1<<Math.min(Ia,31)),Ia++,ru}function iu(t){!function(t,e,n){if(Ia>0){const r=t.data[n];Da(t,e,Array.isArray(r)?r:r.update,re()-Ia-1,Ra)}Ra=0,Ia=0}($t(),Wt(),t+lt)}function su(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)su(t[s],e,n,r,i);else{const s=$t(),o=Wt();let a=Bs(t)?t:p(t.provide),u=Ms(t);const c=Gt(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Bs(t)||!t.multi){const r=new Ae(u,i,uo),f=uu(a,e,i?l:l+d,h);-1===f?(Ke(He(c,o),s,a),ou(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=uu(a,e,l+d,h),p=uu(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Ke(He(c,o),s,a);const l=function(t,e,n,r,i){const s=new Ae(t,n,uo);return s.multi=[],s.index=e,s.componentProviders=0,au(s,i,r&&!n),s}(i?lu:cu,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),ou(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else ou(s,t,f>-1?f:p,au(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function ou(t,e,n,r){const i=Bs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function au(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function uu(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function cu(t,e,n,r){return hu(this.multi,[])}function lu(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=en(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),hu(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],hu(i,s);return s}function hu(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function du(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=$t();if(r.firstCreatePass){const i=yt(t);su(n,r.data,r.blueprint,i,!0),su(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class fu{}class pu{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let mu=(()=>{class t{}return t.NULL=new pu,t})();function gu(...t){}function yu(t,e){return new vu(jt(t,e))}const bu=function(){return yu(Gt(),Wt())};let vu=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=bu,t})();function _u(t){return t instanceof vu?t.nativeElement:t}class wu{}let Su=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Eu(),t})();const Eu=function(){const t=Wt(),e=Lt(Gt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Cu=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class Ou{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const xu=new Ou("11.2.14");class Tu{constructor(){}supports(t){return Js(t)}create(t){return new Ru(t)}}const ku=(t,e)=>e;class Ru{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ku}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<ju(n,r,i)?e:n,o=ju(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Js(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ys()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Iu(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Du),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Du),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Iu{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Au{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Du{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Au,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ju(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Nu{constructor(){}supports(t){return t instanceof Map||to(t)}create(){return new Pu}}class Pu{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||to(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Lu(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Lu{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fu(){return new Mu([new Tu])}let Mu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Fu()),deps:[[t,new Pn,new Nn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=w({token:t,providedIn:"root",factory:Fu}),t})();function Vu(){return new Uu([new Nu])}let Uu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Vu()),deps:[[t,new Pn,new Nn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:Vu}),t})();function Bu(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(At(s)),ft(s))for(let t=ht;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Bu(e[1],e,n,r)}const o=n.type;if(8&o)Bu(t,e,n.child,r);else if(32&o){const t=Lr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=ci(e,n);if(Array.isArray(t))r.push(...t);else{const n=Fr(e[16]);Bu(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class qu{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Bu(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ft(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Kr(t,n),yn(e,n))}this._attachedToViewContainer=!1}Gr(this._lView[1],this._lView)}onDestroy(t){Zi(this._lView[1],this._lView,null,t)}markForCheck(){ys(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){bs(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ee(!0);try{bs(t,e,n)}finally{ee(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,fi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Hu extends qu{constructor(t){super(t),this._view=t}detectChanges(){vs(this._view)}checkNoChanges(){!function(t){ee(!0);try{vs(t)}finally{ee(!1)}}(this._view)}get context(){return null}}const zu=$u;let Wu=(()=>{class t{}return t.__NG_ELEMENT_ID__=zu,t.__ChangeDetectorRef__=!0,t})();function $u(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Lt(t.index,e);return new qu(n,n)}return 47&t.type?new qu(e[16],e):null}(Gt(),Wt(),t)}const Ku=[new Nu],Gu=new Mu([new Tu]),Qu=new Uu(Ku),Xu=function(){return tc(Gt(),Wt())};let Yu=(()=>{class t{}return t.__NG_ELEMENT_ID__=Xu,t})();const Zu=Yu,Ju=class extends Zu{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Vi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Hi(e,n,t),new qu(n)}};function tc(t,e){return 4&t.type?new Ju(e,t,yu(t,e)):null}class ec{}class nc{}const rc=function(){return cc(Gt(),Wt())};let ic=(()=>{class t{}return t.__NG_ELEMENT_ID__=rc,t})();const sc=ic,oc=class extends sc{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return yu(this._hostTNode,this._hostLView)}get injector(){return new sn(this._hostTNode,this._hostLView)}get parentInjector(){const t=$e(this._hostTNode,this._hostLView);if(Fe(t)){const e=Ve(t,this._hostLView),n=Me(t);return new sn(e[1].data[n+8],e)}return new sn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ac(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(ec,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new oc(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ht+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ht?(e[4]=n[i],gn(n,ht+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=li(i,s),a=n[11],u=ei(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,fi(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),gn(uc(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ac(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Kr(this._lContainer,e);n&&(yn(uc(this._lContainer),e),Gr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Kr(this._lContainer,e);return n&&null!=yn(uc(this._lContainer),e)?new qu(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ac(t){return t[8]}function uc(t){return t[8]||(t[8]=[])}function cc(t,e){let n;const r=e[t.index];if(ft(r))n=r;else{let i;if(8&t.type)i=At(r);else{const n=e[11];i=n.createComment("");const r=jt(t,e);Zr(n,ei(n,r),i,function(t,e){return Rt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=ds(r,e,i,t),gs(e,n)}return new oc(n,t,e)}const lc={};class hc extends mu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ut(t);return new pc(e,this.ngModule)}}function dc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const fc=new hn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Dr});class pc extends fu{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ki).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return dc(this.componentDef.inputs)}get outputs(){return dc(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,lc,i);return s!==lc||r===lc?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(wu,It),o=i.get(Cu,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Rt(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Wr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?Ot:"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Dr,clean:ws,playerHandler:null,flags:0},d=Yi(0,null,null,1,0,null,null,null,null,null),f=Vi(null,d,h,l,null,null,s,a,o,i);let p,m;fe(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Ui(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(xs(a,u,!0),null!==t&&(De(i,t,u),null!==a.classes&&gi(i,t,a.classes),null!==a.styles&&mi(i,t,a.styles)));const c=r.createRenderer(t,e),l=Vi(n,Xi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Ke(He(a,n),o,e.type),is(o,a),os(a,n.length,1)),gs(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)De(a,c,["ng-version",xu.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Ei(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&De(a,c,t),e&&e.length>0&&gi(a,c,e.join(" "))}if(m=Nt(d,lt),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Gt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),as(t,r,e,qi(t,e,1,null),n));const i=en(e,t,r.directiveStart,r);Ar(i,e);const s=jt(r,e);return s&&Ar(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Gt();e.contentQueries(1,o,t.directiveStart)}const a=Gt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(_e(a.index),ns(n[1],a,0,a.directiveStart,a.directiveEnd,e),rs(e,o)),o}(t,this.componentDef,f,h,[zs]),Hi(d,f,null)}finally{be()}return new mc(this.componentType,p,yu(m,f),f,m)}}class mc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Hu(r),this.componentType=t}get injector(){return new sn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const gc=new Map;class yc extends ec{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new hc(this);const n=ct(t),r=t[Q]||null;r&&ba(r),this._bootstrapComponents=jr(n.bootstrap),this._r3Injector=Ps(t,e,[{provide:ec,useValue:this},{provide:mu,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Hs.THROW_IF_NOT_FOUND,n=I.Default){return t===Hs||t===ec||t===Ts?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class bc extends nc{constructor(t){super(),this.moduleType=t,null!==ct(t)&&function(t){const e=new Set;!function t(n){const r=ct(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,gc.get(i),n),gc.set(i,n));const s=jr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new yc(this.moduleType,t)}}function vc(t,e,n){const r=ne()+t,i=Wt();return i[r]===Ri?eo(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function _c(t,e,n,r){return Cc(Wt(),ne(),t,e,n,r)}function wc(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return ro(t,a,i,s)?eo(t,a+2,o?r.call(o,i,s):r(i,s)):Ec(t,a+2)}(Wt(),ne(),t,e,n,r,i)}function Sc(t,e,n,r,i,s){return function(t,e,n,r,i,s,o,a){const u=e+n;return function(t,e,n,r,i){const s=ro(t,e,n,r);return no(t,e+2,i)||s}(t,u,i,s,o)?eo(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):Ec(t,u+3)}(Wt(),ne(),t,e,n,r,i,s)}function Ec(t,e){const n=t[e];return n===Ri?void 0:n}function Cc(t,e,n,r,i,s){const o=e+n;return no(t,o,i)?eo(t,o+1,s?r.call(s,i):r(i)):Ec(t,o+1)}function Oc(t,e){const n=$t();let r;const i=t+lt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new g("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=bt(r.type)),o=D(uo);try{const t=Be(!1),e=s();return Be(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Wt(),i,e),e}finally{D(o)}}function xc(t,e,n){const r=t+lt,i=Wt(),s=Pt(i,r);return function(t,e){return Zs.isWrapped(e)&&(e=Zs.unwrap(e),t[re()]=Ri),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?Cc(i,ne(),e,s.transform,n,s):s.transform(n))}function Tc(t){return e=>{setTimeout(t,void 0,e)}}const kc=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(u=Tc(u),a&&(a=Tc(a)),c&&(c=Tc(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function Rc(){return this._results[Ys()]()}class Ic{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ys(),n=Ic.prototype;n[e]||(n[e]=Rc)}get changes(){return this._changes||(this._changes=new kc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=pn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ac{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ac(this.queryList)}setDirty(){this.queryList.setDirty()}}class Dc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Dc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==$c(t,e).matches&&this.queries[e].setDirty()}}class jc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Nc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Nc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Pc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Pc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Lc(e,i)),this.matchTNodeWithReadOption(t,e,tn(e,t,i,!1,!1))}else n===Yu?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,tn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===vu||r===ic||r===Yu&&4&e.type)this.addMatch(e.index,-2);else{const n=tn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Lc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Fc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?yu(t,e):4&t.type?tc(t,e):null}(e,t):-2===n?function(t,e,n){return n===vu?yu(e,t):n===Yu?tc(e,t):n===ic?cc(e,t):void 0}(t,e,r):en(t,t[1],n,e)}function Mc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Fc(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Vc(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Mc(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ht;t<o.length;t++){const e=o[t];e[17]===e[3]&&Vc(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Vc(n[1],n,i,r)}}}}}return r}function Uc(t){const e=Wt(),n=$t(),r=ce();le(r+1);const i=$c(n,r);if(t.dirty&&Mt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Vc(n,e,r,[]):Mc(n,e,i,r);t.reset(s,_u),t.notifyOnChanges()}return!0}return!1}function Bc(t,e,n){const r=$t();r.firstCreatePass&&(Wc(r,new jc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),zc(r,Wt(),e)}function qc(t,e,n,r){const i=$t();if(i.firstCreatePass){const s=Gt();Wc(i,new jc(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}zc(i,Wt(),n)}function Hc(){return t=Wt(),e=ce(),t[19].queries[e].queryList;var t,e}function zc(t,e,n){const r=new Ic(4==(4&n));Zi(t,e,r,r.destroy),null===e[19]&&(e[19]=new Dc),e[19].queries.push(new Ac(r))}function Wc(t,e,n){null===t.queries&&(t.queries=new Nc),t.queries.track(new Pc(e,n))}function $c(t,e){return t.queries.getByIndex(e)}function Kc(t,e){return tc(t,e)}function Gc(t=I.Default){const e=$u(!0);if(null!=e||t&I.Optional)return e;v("ChangeDetectorRef")}const Qc=new hn("Application Initializer");let Xc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=gu,this.reject=gu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();vo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Rn(Qc,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Yc=new hn("AppId"),Zc={provide:Yc,useFactory:function(){return`${Jc()}${Jc()}${Jc()}`},deps:[]};function Jc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tl=new hn("Platform Initializer"),el=new hn("Platform ID"),nl=new hn("appBootstrapListener");let rl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const il=new hn("LocaleId"),sl=new hn("DefaultCurrencyCode");class ol{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const al=function(t){return new bc(t)},ul=al,cl=function(t){return Promise.resolve(al(t))},ll=function(t){const e=al(t),n=jr(ct(t).declarations).reduce((t,e)=>{const n=ut(e);return n&&t.push(new pc(n)),t},[]);return new ol(e,n)},hl=ll,dl=function(t){return Promise.resolve(ll(t))};let fl=(()=>{class t{constructor(){this.compileModuleSync=ul,this.compileModuleAsync=cl,this.compileModuleAndAllComponentsSync=hl,this.compileModuleAndAllComponentsAsync=dl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const pl=(()=>Promise.resolve(0))();function ml(t){"undefined"==typeof Zone?pl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class gl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kc(!1),this.onMicrotaskEmpty=new kc(!1),this.onStable=new kc(!1),this.onError=new kc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vl(t),bl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return _l(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),wl(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return _l(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),wl(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,vl(t),bl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,yl,gu,gu);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const yl={};function bl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function _l(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wl(t){t._nesting--,bl(t)}class Sl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kc,this.onMicrotaskEmpty=new kc,this.onStable=new kc,this.onError=new kc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let El=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gl.assertNotInAngularZone(),ml(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ml(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Rn(gl))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),Cl=(()=>{class t{constructor(){this._applications=new Map,kl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return kl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class Ol{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function xl(t){kl=t}let Tl,kl=new Ol,Rl=!0,Il=!1;function Al(){return Il=!0,Rl}function Dl(){if(Il)throw new Error("Cannot enable prod mode after platform setup.");Rl=!1}const jl=new hn("AllowMultipleToken");class Nl{constructor(t,e){this.name=t,this.token=e}}function Pl(t,e,n=[]){const r=`Platform: ${e}`,i=new hn(r);return(e=[])=>{let s=Ll();if(!s||s.injector.get(jl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Rs,useValue:"platform"});!function(t){if(Tl&&!Tl.destroyed&&!Tl.injector.get(jl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Tl=t.get(Fl);const e=t.get(tl,null);e&&e.forEach(t=>t())}(Hs.create({providers:t,name:r}))}return function(t){const e=Ll();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ll(){return Tl&&!Tl.destroyed?Tl:null}let Fl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Sl:("zone.js"===t?void 0:t)||new gl({enableLongStackTrace:Al(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:gl,useValue:n}];return n.run(()=>{const e=Hs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(kr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Ul(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return vo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Xc);return t.runInitializers(),t.donePromise.then(()=>(ba(i.injector.get(il,fa)||fa),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Ml({},e);return function(t,e,n){const r=new bc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Vl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Rn(Hs))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Ml(t,e){return Array.isArray(e)?e.reduce(Ml,t):Object.assign(Object.assign({},t),e)}let Vl=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{gl.assertNotInAngularZone(),ml(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{gl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,c.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof fu?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ec),i=n.create(Hs.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(El,null),a=o&&i.injector.get(Cl);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Ul(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ul(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(nl,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Rn(gl),Rn(Hs),Rn(kr),Rn(mu),Rn(Xc))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Ul(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Bl{}class ql{}const Hl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let zl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Hl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Wl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Wl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Rn(fl),Rn(ql,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Wl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class $l extends Wu{}class Kl extends $l{}const Gl=function(t){return null},Ql=Pl(null,"core",[{provide:el,useValue:"unknown"},{provide:Fl,deps:[Hs]},{provide:Cl,deps:[]},{provide:rl,deps:[]}]),Xl=[{provide:Vl,useClass:Vl,deps:[gl,Hs,kr,mu,Xc]},{provide:fc,deps:[gl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Xc,useClass:Xc,deps:[[new Nn,Qc]]},{provide:fl,useClass:fl,deps:[]},Zc,{provide:Mu,useFactory:function(){return Gu},deps:[]},{provide:Uu,useFactory:function(){return Qu},deps:[]},{provide:il,useFactory:function(t){return ba(t=t||"undefined"!=typeof $localize&&$localize.locale||fa),t},deps:[[new jn(il),new Nn,new Pn]]},{provide:sl,useValue:"USD"}];let Yl=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(Rn(Vl))},t.\u0275mod=rt({type:t}),t.\u0275inj=S({providers:Xl}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,s=e.length;i<s;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return S}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return E}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return o}),n.d(e,"i",function(){return x}),n.d(e,"j",function(){return c}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return f}),n.d(e,"m",function(){return m}),n.d(e,"n",function(){return g}),n.d(e,"o",function(){return l}),n.d(e,"p",function(){return h}),n.d(e,"q",function(){return p}),n.d(e,"r",function(){return y});var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function s(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function d(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function m(){return c().indexOf("Electron/")>=0}function g(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}var b=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,v.prototype.create),s}return Object(r.c)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?_(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new b(i,a,r);return u},t}();function _(t,e){return t.replace(w,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var w=/\{\$([^}]+)}/g;function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function E(t,e){var n=new C(t,e);return n.subscribe.bind(n)}var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function O(){}function x(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return x}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return S});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.s("angularfire2.app.options"),v=new u.s("angularfire2.app.nameOrConfig"),_=new u.R("6.1.5");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&E("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const S=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.Y)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:w,deps:[b,u.B,[new u.C,v]]};let x=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.Q.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.ec(u.D))},t.\u0275mod=u.Pb({type:t}),t.\u0275inj=u.Ob({providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q"),i=n("KqfI"),s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>{return Object(i.a)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.g)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.6.8",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.h)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.h)(e,t)},createSubscribe:o.f,ErrorFactory:o.b,deepExtend:o.h}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.k)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.p)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.27",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.s("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.ec)(l)}const c=new r.s("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o))},t.\u0275prov=Object(r.Nb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.ec)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.ec)(o).location;return new v(Object(r.ec)(a),e&&e.origin||"")}const b=new r.s("appBaseHref");let v=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.ec(a),r.ec(b,8))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.ec(a),r.ec(b,8))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.o,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.ec(g),r.ec(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Nb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new w(Object(r.ec)(g),Object(r.ec)(a))}function E(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const O=r.qb;class x{}let T=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(O(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.w))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();function k(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class R{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let I=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new R(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new A(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new A(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.S),r.Rb(r.N),r.Rb(r.u))},t.\u0275dir=r.Mb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class A{constructor(t,e){this.record=t,this.view=e}}let D=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new j,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){N("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){N("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.S),r.Rb(r.N))},t.\u0275dir=r.Mb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class j{constructor(){this.$implicit=null,this.ngIf=null}}function N(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.zb)(e)}'.`)}class P{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let L=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),F=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new P(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.S),r.Rb(r.N),r.Rb(L,9))},t.\u0275dir=r.Mb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:[{provide:x,useClass:T}]}),t})();function V(t){return"server"===t}let U=(()=>{class t{}return t.\u0275prov=Object(r.Nb)({token:t,providedIn:"root",factory:()=>new B(Object(r.ec)(o),window)}),t})();class B{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=q(this.window.history)||q(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function q(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class H extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new H,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=W||(W=document.querySelector("base"),W)?W.getAttribute("href"):null;return null==e?null:(n=e,z||(z=document.createElement("a")),z.setAttribute("href",n),"/"===z.pathname.charAt(0)?z.pathname:"/"+z.pathname);var n}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return k(document.cookie,t)}}let z,W=null;const $=new r.s("TRANSITION_ID"),K=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[$,o,r.t],multi:!0}];class G{static init(){Object(r.ab)(new G)}addToWindow(t){r.sb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.sb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.sb.getAllAngularRootElements=()=>t.getAllRootElements(),r.sb.frameworkStabilizers||(r.sb.frameworkStabilizers=[]),r.sb.frameworkStabilizers.push(t=>{const e=r.sb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Q=new r.s("EventManagerPlugins");let X=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(Q),r.ec(r.B))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class Y{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Z=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),J=(()=>{class t extends Z{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(tt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(tt))}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();function tt(t){s().remove(t)}const et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nt=/%COMP%/g;function rt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?rt(t,i,n):(i=i.replace(nt,t),n.push(i))}return n}function it(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let st=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ot(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.T.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new at(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.T.ShadowDom:return new ut(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=rt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.ec(X),r.ec(J),r.ec(r.c))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class ot{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(et[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=et[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=et[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.I.DashCase|r.I.Important)?t.style.setProperty(e,n,i&r.I.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.I.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,it(n)):this.eventManager.addEventListener(t,e,it(n))}}class at extends ot{constructor(t,e,n,r){super(t),this.component=n;const i=rt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(nt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(nt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ut extends ot{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=rt(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ct=(()=>{class t extends Y{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const lt=["alt","control","meta","shift"],ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ft={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let pt=(()=>{class t extends Y{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(lt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&dt.hasOwnProperty(e)&&(e=dt[e]))}return ht[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),lt.forEach(r=>{r!=n&&(0,ft[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const mt=[{provide:r.D,useValue:"browser"},{provide:r.E,useValue:function(){H.makeCurrent(),G.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.yb)(document),document},deps:[]}],gt=Object(r.U)(r.Z,"browser",mt),yt=[[],{provide:r.cb,useValue:"root"},{provide:r.n,useFactory:function(){return new r.n},deps:[]},{provide:Q,useClass:ct,multi:!0,deps:[o,r.B,r.D]},{provide:Q,useClass:pt,multi:!0,deps:[o]},[],{provide:st,useClass:st,deps:[X,J,r.c]},{provide:r.H,useExisting:st},{provide:Z,useExisting:J},{provide:J,useClass:J,deps:[o]},{provide:r.O,useClass:r.O,deps:[r.B]},{provide:X,useClass:X,deps:[Q,r.B]},[]];let bt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:$,useExisting:r.c},K]}}}return t.\u0275fac=function(e){return new(e||t)(r.ec(t,12))},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:yt,imports:[M,r.f]}),t})();"undefined"!=typeof window&&window;var vt=n("Cfvw"),_t=n("HDdC"),wt=n("DH7j"),St=n("lJxs"),Et=n("XoHu");function Ct(t,e){return new _t.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(vt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Ot=new r.s("NgValueAccessor"),xt={provide:Ot,useExisting:Object(r.W)(()=>kt),multi:!0},Tt=new r.s("CompositionEventMode");let kt=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.G),r.Rb(r.l),r.Rb(Tt,8))},t.\u0275dir=r.Mb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.hc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Db([xt])]}),t})();const Rt=new r.s("NgValidators"),It=new r.s("NgAsyncValidators");function At(t){return null!=t}function Dt(t){const e=Object(r.vb)(t)?Object(vt.a)(t):t;return Object(r.ub)(e),e}function jt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Nt(t,e){return e.map(e=>e(t))}function Pt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Lt(t){return null!=t?function(t){if(!t)return null;const e=t.filter(At);return 0==e.length?null:function(t){return jt(Nt(t,e))}}(Pt(t)):null}function Ft(t){return null!=t?function(t){if(!t)return null;const e=t.filter(At);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(wt.a)(e))return Ct(e,null);if(Object(Et.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ct(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ct(t=1===t.length&&Object(wt.a)(t[0])?t[0]:t,null).pipe(Object(St.a)(t=>e(...t)))}return Ct(t,null)}(Nt(t,e).map(Dt)).pipe(Object(St.a)(jt))}}(Pt(t)):null}function Mt(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Vt(t){return t._rawValidators}function Ut(t){return t._rawAsyncValidators}let Bt=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Lt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ft(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t}),t})(),qt=(()=>{class t extends Bt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Ht(e||t)},t.\u0275dir=r.Mb({type:t,features:[r.Bb]}),t})();const Ht=r.Zb(qt);class zt extends Bt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Wt{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let $t=(()=>{class t extends Wt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(zt,2))},t.\u0275dir=r.Mb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Jb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.Bb]}),t})(),Kt=(()=>{class t extends Wt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(qt,10))},t.\u0275dir=r.Mb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Jb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.Bb]}),t})();function Gt(t,e){Yt(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Jt(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Jt(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Qt(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Zt(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Xt(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Yt(t,e,n){const r=Vt(t);null!==e.validator?t.setValidators(Mt(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Ut(t);if(null!==e.asyncValidator?t.setAsyncValidators(Mt(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();Xt(e._rawValidators,n),Xt(e._rawAsyncValidators,n)}}function Zt(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=Vt(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=Ut(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};Xt(e._rawValidators,t),Xt(e._rawAsyncValidators,t)}return r}function Jt(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function te(t,e){Yt(t,e,!1)}function ee(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function ne(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const re="VALID",ie="INVALID",se="PENDING",oe="DISABLED";function ae(t){return(he(t)?t.validators:t)||null}function ue(t){return Array.isArray(t)?Lt(t):t||null}function ce(t,e){return(he(e)?e.asyncValidators:t)||null}function le(t){return Array.isArray(t)?Ft(t):t||null}function he(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class de{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ue(this._rawValidators),this._composedAsyncValidatorFn=le(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===re}get invalid(){return this.status===ie}get pending(){return this.status==se}get disabled(){return this.status===oe}get enabled(){return this.status!==oe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ue(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=le(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=se,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=oe,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=re,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==re&&this.status!==se||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oe:re}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=se,this._hasOwnPendingAsyncValidator=!0;const e=Dt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof pe?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof me&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.o,this.statusChanges=new r.o}_calculateStatus(){return this._allControlsDisabled()?oe:this.errors?ie:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(se)?se:this._anyControlsHaveStatus(ie)?ie:re}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){he(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class fe extends de{constructor(t=null,e,n){super(ae(e),ce(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ne(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ne(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class pe extends de{constructor(t,e,n){super(ae(e),ce(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof fe?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class me extends de{constructor(t,e,n){super(ae(e),ce(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof fe?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const ge={provide:qt,useExisting:Object(r.W)(()=>be)},ye=(()=>Promise.resolve(null))();let be=(()=>{class t extends qt{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.o,this.form=new pe({},Lt(t),Ft(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ye.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Gt(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ye.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),ne(this._directives,t)})}addFormGroup(t){ye.then(()=>{const e=this._findContainer(t.path),n=new pe({});te(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ye.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){ye.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,ee(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Rt,10),r.Rb(It,10))},t.\u0275dir=r.Mb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.hc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Db([ge]),r.Bb]}),t})();const ve={provide:zt,useExisting:Object(r.W)(()=>we)},_e=(()=>Promise.resolve(null))();let we=(()=>{class t extends zt{constructor(t,e,n,i){super(),this.control=new fe,this._registered=!1,this.update=new r.o,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===kt?n=t:Object.getPrototypeOf(t.constructor)===class{}?r=t:i=t}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Gt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){_e.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;_e.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(qt,9),r.Rb(Rt,10),r.Rb(It,10),r.Rb(Ot,10))},t.\u0275dir=r.Mb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Db([ve]),r.Bb,r.Cb]}),t})(),Se=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Ee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})();const Ce=new r.s("NgModelWithFormControlWarning"),Oe={provide:qt,useExisting:Object(r.W)(()=>xe)};let xe=(()=>{class t extends qt{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.o,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zt(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Gt(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Qt(t.control||null,t,!1),ne(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,ee(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(Qt(e||null,t),n instanceof fe&&(Gt(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);te(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return Zt(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Yt(this.form,this,!1),this._oldForm&&Zt(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Rt,10),r.Rb(It,10))},t.\u0275dir=r.Mb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.hc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Db([Oe]),r.Bb,r.Cb]}),t})();const Te={provide:Rt,useExisting:Object(r.W)(()=>ke),multi:!0};let ke=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function(t){return null==(e=t.value)||0===e.length?{required:!0}:null;var e}(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Fb("required",e.required?"":null)},inputs:{required:"required"},features:[r.Db([Te])]}),t})(),Re=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Ee]]}),t})(),Ie=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[Re]}),t})(),Ae=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ce,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[Re]}),t})(),De=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,s=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,s=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,s=null!=e.asyncValidator?e.asyncValidator:null)),new pe(n,{asyncValidators:s,updateOn:r,validators:i})}control(t,e,n){return new fe(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new me(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof fe||t instanceof pe||t instanceof me?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:function(){return new t},token:t,providedIn:Ae}),t})();var je=n("mrSG"),Ne=n("LRne"),Pe=n("5+tZ");function Le(t,e){return Object(Pe.a)(t,e,1)}var Fe=n("7o/Q");function Me(t,e){return function(n){return n.lift(new Ve(t,e))}}class Ve{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ue(t,this.predicate,this.thisArg))}}class Ue extends Fe.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class Be{}class qe{}class He{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof He?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new He;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof He?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ze{encodeKey(t){return We(t)}encodeValue(t){return We(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function We(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class $e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ze,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new $e({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Ke(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Ge(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Qe(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Xe{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new He),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new $e,this.urlWithParams=e}serializeBody(){return null===this.body?null:Ke(this.body)||Ge(this.body)||Qe(this.body)||"string"==typeof this.body?this.body:this.body instanceof $e?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Qe(this.body)?null:Ge(this.body)?this.body.type||null:Ke(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $e?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new Xe(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var Ye=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Ze{constructor(t,e=200,n="OK"){this.headers=t.headers||new He,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Je extends Ze{constructor(t={}){super(t),this.type=Ye.ResponseHeader}clone(t={}){return new Je({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class tn extends Ze{constructor(t={}){super(t),this.type=Ye.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new tn({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class en extends Ze{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function nn(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let rn=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Xe)r=t;else{let i,s;i=n.headers instanceof He?n.headers:new He(n.headers),n.params&&(s=n.params instanceof $e?n.params:new $e({fromObject:n.params})),r=new Xe(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Ne.a)(r).pipe(Le(t=>this.handler.handle(t)));if(t instanceof Xe||"events"===n.observe)return i;const s=i.pipe(Me(t=>t instanceof tn));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(St.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(St.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(St.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(St.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new $e).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,nn(n,e))}post(t,e,n={}){return this.request("POST",t,nn(n,e))}put(t,e,n={}){return this.request("PUT",t,nn(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.ec(Be))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class sn{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const on=new r.s("HTTP_INTERCEPTORS");let an=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const un=/^\)\]\}',?\n/;class cn{}let ln=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),hn=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _t.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new He(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Je({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(un,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new tn({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new en({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new en({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:Ye.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:Ye.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:Ye.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.ec(cn))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const dn=new r.s("XSRF_COOKIE_NAME"),fn=new r.s("XSRF_HEADER_NAME");class pn{}let mn=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=k(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o),r.ec(r.D),r.ec(dn))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),gn=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(pn),r.ec(fn))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),yn=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(on,[]);this.chain=t.reduceRight((t,e)=>new sn(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(qe),r.ec(r.t))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),bn=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:gn,useClass:an}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:dn,useValue:e.cookieName}:[],e.headerName?{provide:fn,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:[gn,{provide:on,useExisting:gn,multi:!0},{provide:pn,useClass:mn},{provide:dn,useValue:"XSRF-TOKEN"},{provide:fn,useValue:"X-XSRF-TOKEN"}]}),t})(),vn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:[rn,{provide:Be,useClass:yn},hn,{provide:qe,useExisting:hn},ln,{provide:cn,useExisting:ln}],imports:[[bn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),_n=(()=>{class t{constructor(t){this.http=t}buscarCep(t){return new Promise(e=>{this.http.get(`https://viacep.com.br/ws/${t}/json/`).subscribe(t=>{let n=t;return console.log(t),e(n)})})}}return t.\u0275fac=function(e){return new(e||t)(r.ec(rn))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var wn=n("D0XW"),Sn=n("bHdf");function En(...t){return Object(Sn.a)(1)(Object(Ne.a)(...t))}var Cn=n("z+Ro");function On(...t){const e=t[t.length-1];return Object(Cn.a)(e)?(t.pop(),n=>En(t,n,e)):e=>En(t,e)}function xn(){return t=>t.lift(new Tn)}class Tn{call(t,e){return e.subscribe(new kn(t))}}class kn extends Fe.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Rn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new In(t,e,n))}}class In{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new An(t,this.accumulator,this.seed,this.hasSeed))}}class An extends Fe.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class Dn{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new jn(t,this.compare,this.keySelector))}}class jn extends Fe.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Nn=n("pxpQ"),Pn=n("spgP"),Ln=n("Jgta"),Fn=n("zIRd"),Mn=n("qOnz"),Vn=n("q/0M"),Un=function(t,e){return(Un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Bn(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var qn,Hn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},zn=zn||{},Wn=Hn||self;function $n(){}function Kn(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Gn(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Qn="closure_uid_"+(1e9*Math.random()>>>0),Xn=0;function Yn(t,e,n){return t.call.apply(t.bind,arguments)}function Zn(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Jn(t,e,n){return(Jn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yn:Zn).apply(null,arguments)}function tr(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function er(){return Date.now()}function nr(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Pb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function rr(){this.j=this.j,this.i=this.i}rr.prototype.j=!1,rr.prototype.ka=function(){!this.j&&(this.j=!0,this.H(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Qn)&&t[Qn]||(t[Qn]=++Xn)}(this)},rr.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ir=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},sr=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function or(t){return Array.prototype.concat.apply([],arguments)}function ar(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ur(t){return/^[\s\xa0]*$/.test(t)}var cr,lr=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function hr(t,e){return-1!=t.indexOf(e)}function dr(t,e){return t<e?-1:t>e?1:0}t:{var fr=Wn.navigator;if(fr){var pr=fr.userAgent;if(pr){cr=pr;break t}}cr=""}function mr(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function gr(t){var e={};for(var n in t)e[n]=t[n];return e}var yr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function br(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<yr.length;s++)n=yr[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vr(t){return vr[" "](t),t}vr[" "]=$n;var _r,wr,Sr=hr(cr,"Opera"),Er=hr(cr,"Trident")||hr(cr,"MSIE"),Cr=hr(cr,"Edge"),Or=Cr||Er,xr=hr(cr,"Gecko")&&!(hr(cr.toLowerCase(),"webkit")&&!hr(cr,"Edge"))&&!(hr(cr,"Trident")||hr(cr,"MSIE"))&&!hr(cr,"Edge"),Tr=hr(cr.toLowerCase(),"webkit")&&!hr(cr,"Edge");function kr(){var t=Wn.document;return t?t.documentMode:void 0}t:{var Rr="",Ir=(wr=cr,xr?/rv:([^\);]+)(\)|;)/.exec(wr):Cr?/Edge\/([\d\.]+)/.exec(wr):Er?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(wr):Tr?/WebKit\/(\S+)/.exec(wr):Sr?/(?:Version)[ \/]?(\S+)/.exec(wr):void 0);if(Ir&&(Rr=Ir?Ir[1]:""),Er){var Ar=kr();if(null!=Ar&&Ar>parseFloat(Rr)){_r=String(Ar);break t}}_r=Rr}var Dr={};function jr(t){return function(t,e){var n=Dr;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=lr(String(_r)).split("."),r=lr(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=dr(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||dr(0==o[2].length,0==a[2].length)||dr(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var Nr=Wn.document&&Er&&(kr()||parseInt(_r,10))||void 0,Pr=!Er||9<=Number(Nr),Lr=Er&&!jr("9"),Fr=function(){if(!Wn.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Wn.addEventListener("test",$n,e),Wn.removeEventListener("test",$n,e)}catch(n){}return t}();function Mr(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Vr(t,e){if(Mr.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(xr){t:{try{vr(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ur[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Mr.prototype.b=function(){this.defaultPrevented=!0},nr(Vr,Mr);var Ur={2:"touch",3:"pen",4:"mouse"};Vr.prototype.b=function(){Vr.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Lr)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Br="closure_listenable_"+(1e6*Math.random()|0),qr=0;function Hr(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++qr,this.Y=this.Z=!1}function zr(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function Wr(t){this.src=t,this.a={},this.b=0}function $r(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=ir(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(zr(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Kr(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.da==r)return i}return-1}Wr.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Kr(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Hr(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Gr="closure_lm_"+(1e6*Math.random()|0),Qr={};function Xr(t,e,n,r,i){if(r&&r.once)return Zr(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Xr(t,e[s],n,r,i);return null}return n=oi(n),t&&t[Br]?t.wa(e,n,Gn(r)?!!r.capture:!!r,i):Yr(t,e,n,!1,r,i)}function Yr(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Gn(i)?!!i.capture:!!i;if(o&&!Pr)return null;var a=ii(t);if(a||(t[Gr]=a=new Wr(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=ri,e=Pr?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Fr||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ei(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Zr(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Zr(t,e[s],n,r,i);return null}return n=oi(n),t&&t[Br]?t.xa(e,n,Gn(r)?!!r.capture:!!r,i):Yr(t,e,n,!0,r,i)}function Jr(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Jr(t,e[s],n,r,i);else r=Gn(r)?!!r.capture:!!r,n=oi(n),t&&t[Br]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Kr(s=t.a[e],n,r,i))&&(zr(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=ii(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Kr(e,n,r,i)),(n=-1<t?e[t]:null)&&ti(n))}function ti(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Br])$r(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ei(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ii(e))?($r(n,t),0==n.b&&(n.src=null,e[Gr]=null)):zr(t)}}}function ei(t){return t in Qr?Qr[t]:Qr[t]="on"+t}function ni(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&ti(t),n.call(r,e)}function ri(t,e){if(t.Y)return!0;if(!Pr){if(!e)t:{e=["window","event"];for(var n=Wn,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ni(t,e=new Vr(e,this))}return ni(t,new Vr(e,this))}function ii(t){return(t=t[Gr])instanceof Wr?t:null}var si="__closure_events_fn_"+(1e9*Math.random()>>>0);function oi(t){return"function"==typeof t?t:(t[si]||(t[si]=function(e){return t.handleEvent(e)}),t[si])}function ai(){rr.call(this),this.c=new Wr(this),this.J=this,this.D=null}function ui(t,e){var n,r=t.D;if(r)for(n=[];r;r=r.D)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Mr(e,t);else if(e instanceof Mr)e.target=e.target||t;else{var i=e;br(e=new Mr(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=ci(o,r,!0,e)&&i}if(i=ci(o=e.a=t,r,!0,e)&&i,i=ci(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=ci(o=e.a=n[s],r,!1,e)&&i}function ci(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.da||o.src;o.Z&&$r(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}nr(ai,rr),ai.prototype[Br]=!0,(qn=ai.prototype).addEventListener=function(t,e,n,r){Xr(this,t,e,n,r)},qn.removeEventListener=function(t,e,n,r){Jr(this,t,e,n,r)},qn.H=function(){if(ai.X.H.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)zr(n[r]);delete e.a[t],e.b--}}this.D=null},qn.wa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},qn.xa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var li=Wn.JSON.stringify;function hi(){this.b=this.a=null}var di,fi=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new mi},function(t){t.reset()});function pi(){var t=vi,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function mi(){this.next=this.b=this.a=null}function gi(t){Wn.setTimeout(function(){throw t},0)}function yi(t,e){di||function(){var t=Wn.Promise.resolve(void 0);di=function(){t.then(_i)}}(),bi||(di(),bi=!0),vi.add(t,e)}hi.prototype.add=function(t,e){var n=fi.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},mi.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},mi.prototype.reset=function(){this.next=this.b=this.a=null};var bi=!1,vi=new hi;function _i(){for(var t;t=pi();){try{t.a.call(t.b)}catch(n){gi(n)}var e=fi;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}bi=!1}function wi(t,e){ai.call(this),this.b=t||1,this.a=e||Wn,this.f=Jn(this.eb,this),this.g=er()}function Si(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ei(t,e,n){if("function"==typeof t)n&&(t=Jn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Jn(t.handleEvent,t)}return 2147483647<Number(e)?-1:Wn.setTimeout(t,e||0)}function Ci(t){t.a=Ei(function(){t.a=null,t.c&&(t.c=!1,Ci(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}nr(wi,ai),(qn=wi.prototype).aa=!1,qn.M=null,qn.eb=function(){if(this.aa){var t=er()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ui(this,"tick"),this.aa&&(Si(this),this.start()))}},qn.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=er())},qn.H=function(){wi.X.H.call(this),Si(this),delete this.a};var Oi=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Un(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ci(this)},e.prototype.H=function(){t.prototype.H.call(this),this.a&&(Wn.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(rr);function xi(t){rr.call(this),this.b=t,this.a={}}nr(xi,rr);var Ti=[];function ki(t,e,n,r){Array.isArray(n)||(n&&(Ti[0]=n.toString()),n=Ti);for(var i=0;i<n.length;i++){var s=Xr(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Ri(t){mr(t.a,function(t,e){this.a.hasOwnProperty(e)&&ti(t)},t),t.a={}}function Ii(){this.a=!0}function Ai(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return li(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}xi.prototype.H=function(){xi.X.H.call(this),Ri(this)},xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ii.prototype.info=function(){};var Di={},ji=null;function Ni(){return ji=ji||new ai}function Pi(t){Mr.call(this,Di.Ga,t)}function Li(t){var e=Ni();ui(e,new Pi(e,t))}function Fi(t,e){Mr.call(this,Di.STAT_EVENT,t),this.stat=e}function Mi(t){var e=Ni();ui(e,new Fi(e,t))}function Vi(t){Mr.call(this,Di.Ha,t)}function Ui(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Wn.setTimeout(function(){t()},e)}Di.Ga="serverreachability",nr(Pi,Mr),Di.STAT_EVENT="statevent",nr(Fi,Mr),Di.Ha="timingevent",nr(Vi,Mr);var Bi={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},qi={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function Hi(){}function zi(){}Hi.prototype.b=null;var Wi,$i={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function Ki(){Mr.call(this,"d")}function Gi(){Mr.call(this,"c")}function Qi(){}function Xi(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new xi(this),this.P=Yi,this.R=new wi(t=Or?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}nr(Ki,Mr),nr(Gi,Mr),nr(Qi,Hi),Qi.prototype.a=function(){return new XMLHttpRequest},Qi.prototype.c=function(){return{}},Wi=new Qi;var Yi=45e3,Zi={},Ji={};function ts(t,e,n){t.G=1,t.i=Ss(gs(e)),t.j=n,t.I=!0,es(t,null)}function es(t,e){t.u=er(),is(t),t.l=gs(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ps(n.b,"t",r),t.D=0,t.a=Io(t.g,t.g.C?e:null),0<t.O&&(t.F=new Oi(Jn(t.Da,t,t.a),t.O)),ki(t.J,t.a,"readystatechange",t.bb),e=t.B?gr(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Li(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function ns(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=rs(t,n);if(i==Ji){4==e&&(t.h=4,Mi(14),r=!1),Ai(t.c,t.f,null,"[Incomplete Response]");break}if(i==Zi){t.h=4,Mi(15),Ai(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Ai(t.c,t.f,i,null),cs(t,i)}4==e&&0==n.length&&(t.h=1,Mi(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),So(e),e.F=!0,Mi(11))):(Ai(t.c,t.f,n,"[Invalid Chunked Response]"),us(t),as(t))}function rs(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Ji:(n=Number(e.substring(n,r)),isNaN(n)?Zi:(r+=1)+n>e.length?Ji:(e=e.substr(r,n),t.D=r+n,e))}function is(t){t.T=er()+t.P,ss(t,t.P)}function ss(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ui(Jn(t.$a,t),e)}function os(t){t.o&&(Wn.clearTimeout(t.o),t.o=null)}function as(t){0==t.g.v||t.A||Oo(t.g,t)}function us(t){os(t);var e=t.F;e&&"function"==typeof e.ka&&e.ka(),t.F=null,Si(t.R),Ri(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ka())}function cs(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||qs(n.b,t)))if(n.I=t.N,!t.C&&qs(n.b,t)&&3==n.v){try{var r=n.la.a.parse(e)}catch(Dg){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Co(n),fo(n)}wo(n),Mi(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=Ui(Jn(n.Xa,n),6e3));if(1>=Bs(n.b)&&n.fa){try{n.fa()}catch(Dg){}n.fa=void 0}}else To(n,11)}else if((t.C||n.a==t)&&Co(n),!ur(e))for(e=r=n.la.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var s=i[3];null!=s&&(n.ia=s,n.c.info("VER="+n.ia));var o=i[4];null!=o&&(n.qa=o,n.c.info("SVER="+n.qa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(hr(l,"spdy")||hr(l,"quic")||hr(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Hs(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.oa=d,ws(u.B,u.A,d))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=er()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).ma=Ro(u,u.C?u.ha:null,u.ga),f.C){zs(u.b,f);var p=f,m=u.D;m&&p.setTimeout(m),p.o&&(os(p),is(p)),u.a=f}else _o(u);0<n.g.length&&go(n)}else"stop"!=i[0]&&"close"!=i[0]||To(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?To(n,7):ho(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);Li(4)}catch(Dg){}}function ls(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Kn(t)||"string"==typeof t)sr(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Kn(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Kn(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function hs(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof hs)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ds(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];fs(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)fs(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function fs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(qn=Xi.prototype).setTimeout=function(t){this.P=t},qn.bb=function(t){t=t.target;var e=this.F;e&&3==ao(t)?e.f():this.Da(t)},qn.Da=function(t){try{if(t==this.a)t:{var e=ao(this.a),n=this.a.va(),r=this.a.W();if(!(3>e||3==e&&!Or&&!this.a.$())){this.A||4!=e||7==n||Li(8==n||0>=r?3:2),os(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ur(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,Mi(12),us(this),as(this);break t}Ai(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,cs(this,u)}this.I?(ns(this,e,s),Or&&this.b&&3==e&&(ki(this.J,this.R,"tick",this.ab),this.R.start())):(Ai(this.c,this.f,s,null),cs(this,s)),4==e&&us(this),this.b&&!this.A&&(4==e?Oo(this.g,this):(this.b=!1,is(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Mi(12)):(this.h=0,Mi(13)),us(this),as(this)}}}catch(c){}},qn.ab=function(){if(this.a){var t=ao(this.a),e=this.a.$();this.D<e.length&&(os(this),ns(this,t,e),this.b&&4!=t&&is(this))}},qn.cancel=function(){this.A=!0,us(this)},qn.$a=function(){this.o=null;var t=er();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.G&&(Li(3),Mi(17)),us(this),this.h=2,as(this)):ss(this,this.T-t)},(qn=hs.prototype).K=function(){ds(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},qn.L=function(){return ds(this),this.a.concat()},qn.get=function(t,e){return fs(this.b,t)?this.b[t]:e},qn.set=function(t,e){fs(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},qn.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var ps=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ms(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ms){this.a=void 0!==e?e:t.a,ys(this,t.f),this.j=t.j,bs(this,t.c),vs(this,t.h),this.g=t.g,e=t.b;var n=new As;n.c=e.c,e.a&&(n.a=new hs(e.a),n.b=e.b),_s(this,n),this.i=t.i}else t&&(n=String(t).match(ps))?(this.a=!!e,ys(this,n[1]||"",!0),this.j=Es(n[2]||""),bs(this,n[3]||"",!0),vs(this,n[4]),this.g=Es(n[5]||"",!0),_s(this,n[6]||"",!0),this.i=Es(n[7]||"")):(this.a=!!e,this.b=new As(null,this.a))}function gs(t){return new ms(t)}function ys(t,e,n){t.f=n?Es(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function bs(t,e,n){t.c=n?Es(e,!0):e}function vs(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function _s(t,e,n){e instanceof As?(t.b=e,function(t,e){e&&!t.f&&(Ds(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(js(this,e),Ps(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Cs(e,Rs)),t.b=new As(e,t.a))}function ws(t,e,n){t.b.set(e,n)}function Ss(t){return ws(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^er()).toString(36)),t}function Es(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Cs(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Os),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Os(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ms.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Cs(e,xs,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Cs(e,xs,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Cs(n,"/"==n.charAt(0)?ks:Ts,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Cs(n,Is)),t.join("")};var xs=/[#\/\?@]/g,Ts=/[#\?:]/g,ks=/[#\?]/g,Rs=/[#\?@]/g,Is=/#/g;function As(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ds(t){t.a||(t.a=new hs,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function js(t,e){Ds(t),e=Ls(t,e),fs(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,fs((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ds(t)))}function Ns(t,e){return Ds(t),e=Ls(t,e),fs(t.a.b,e)}function Ps(t,e,n){js(t,e),0<n.length&&(t.c=null,t.a.set(Ls(t,e),ar(n)),t.b+=n.length)}function Ls(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(qn=As.prototype).add=function(t,e){Ds(this),this.c=null,t=Ls(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},qn.forEach=function(t,e){Ds(this),this.a.forEach(function(n,r){sr(n,function(n){t.call(e,n,r,this)},this)},this)},qn.L=function(){Ds(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},qn.K=function(t){Ds(this);var e=[];if("string"==typeof t)Ns(this,t)&&(e=or(e,this.a.get(Ls(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=or(e,t[n])}return e},qn.set=function(t,e){return Ds(this),this.c=null,Ns(this,t=Ls(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},qn.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},qn.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Fs=function(){return function(t,e){this.b=t,this.a=e}}();function Ms(t){this.g=t||Vs,t=Wn.PerformanceNavigationTiming?0<(t=Wn.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Wn.ja&&Wn.ja.za&&Wn.ja.za()&&Wn.ja.za().Qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Vs=10;function Us(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Bs(t){return t.b?1:t.a?t.a.size:0}function qs(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Hs(t,e){t.a?t.a.add(e):t.b=e}function zs(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ws(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Bn(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ar(t.c)}function $s(){}function Ks(){this.a=new $s}function Gs(t,e,n){var r=n||"";try{ls(t,function(t,n){var i=t;Gn(t)&&(i=li(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(ny){throw e.push(r+"type="+encodeURIComponent("_badmap")),ny}}function Qs(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Ms.prototype.cancel=function(){var t,e;if(this.c=Ws(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Bn(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},$s.prototype.stringify=function(t){return Wn.JSON.stringify(t,void 0)},$s.prototype.parse=function(t){return Wn.JSON.parse(t,void 0)};var Xs=Wn.JSON.parse;function Ys(t){ai.call(this),this.headers=new hs,this.l=t||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=Zs,this.F=this.G=!1}nr(Ys,ai);var Zs="",Js=/^https?$/i,to=["POST","PUT"];function eo(t){return"content-type"==t.toLowerCase()}function no(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,ro(t),so(t)}function ro(t){t.A||(t.A=!0,ui(t,"complete"),ui(t,"error"))}function io(t){if(t.b&&void 0!==zn&&(!t.u[1]||4!=ao(t)||2!=t.W()))if(t.m&&4==ao(t))Ei(t.Aa,0,t);else if(ui(t,"readystatechange"),4==ao(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.C).match(ps)[1]||null;if(!s&&Wn.self&&Wn.self.location){var o=Wn.self.location.protocol;s=o.substr(0,o.length-1)}i=!Js.test(s?s.toLowerCase():"")}e=i}if(e)ui(t,"complete"),ui(t,"success");else{t.h=6;try{var a=2<ao(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",ro(t)}}finally{so(t)}}}function so(t,e){if(t.a){oo(t);var n=t.a,r=t.u[0]?$n:null;t.a=null,t.u=null,e||ui(t,"ready");try{n.onreadystatechange=r}catch(ny){}}}function oo(t){t.a&&t.F&&(t.a.ontimeout=null),t.o&&(Wn.clearTimeout(t.o),t.o=null)}function ao(t){return t.a?t.a.readyState:0}function uo(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return mr(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ws(t,e,n))}function co(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function lo(t){this.qa=0,this.g=[],this.c=new Ii,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=co("failFast",!1,t),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=co("baseRetryDelayMs",5e3,t),this.Sa=co("retryDelaySeedMs",1e4,t),this.Na=co("forwardChannelMaxRetries",2,t),this.na=co("forwardChannelRequestTimeoutMs",2e4,t),this.Oa=t&&t.xmlHttpFactory||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ms(t&&t.concurrentRequestLimit),this.la=new Ks,this.ea=t&&t.fastHandshake||!1,this.Ja=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&t&&t.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function ho(t){if(po(t),3==t.v){var e=t.R++,n=gs(t.B);ws(n,"SID",t.J),ws(n,"RID",e),ws(n,"TYPE","terminate"),bo(t,n),(e=new Xi(t,t.c,e,void 0)).G=2,e.i=Ss(gs(n)),n=!1,Wn.navigator&&Wn.navigator.sendBeacon&&(n=Wn.navigator.sendBeacon(e.i.toString(),"")),!n&&Wn.Image&&((new Image).src=e.i,n=!0),n||(e.a=Io(e.g,null),e.a.ba(e.i)),e.u=er(),is(e)}ko(t)}function fo(t){t.a&&(So(t),t.a.cancel(),t.a=null)}function po(t){fo(t),t.j&&(Wn.clearTimeout(t.j),t.j=null),Co(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Wn.clearTimeout(t.h),t.h=null)}function mo(t,e){t.g.push(new Fs(t.Pa++,e)),3==t.v&&go(t)}function go(t){Us(t.b)||t.h||(t.h=!0,yi(t.Ca,t),t.u=0)}function yo(t,e){var n;n=e?e.f:t.R++;var r=gs(t.B);ws(r,"SID",t.J),ws(r,"RID",n),ws(r,"AID",t.P),bo(t,r),t.i&&t.l&&uo(r,t.i,t.l),n=new Xi(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=vo(t,n,1e3),n.setTimeout(Math.round(.5*t.na)+Math.round(.5*t.na*Math.random())),Hs(t.b,n),ts(n,r,e)}function bo(t,e){t.f&&ls({},function(t,n){ws(e,n,t)})}function vo(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Jn(t.f.Ka,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{Gs(l,o,"req"+c+"_")}catch(da){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function _o(t){t.a||t.j||(t.T=1,yi(t.Ba,t),t.o=0)}function wo(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ui(Jn(t.Ba,t),xo(t,t.o)),t.o++,0))}function So(t){null!=t.s&&(Wn.clearTimeout(t.s),t.s=null)}function Eo(t){t.a=new Xi(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=gs(t.ma);ws(e,"RID","rpc"),ws(e,"SID",t.J),ws(e,"CI",t.G?"0":"1"),ws(e,"AID",t.P),bo(t,e),ws(e,"TYPE","xmlhttp"),t.i&&t.l&&uo(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ha,n.G=1,n.i=Ss(gs(e)),n.j=null,n.I=!0,es(n,t)}function Co(t){null!=t.m&&(Wn.clearTimeout(t.m),t.m=null)}function Oo(t,e){var n=null;if(t.a==e){Co(t),So(t),t.a=null;var r=2}else{if(!qs(t.b,e))return;n=e.s,zs(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=er()-e.u;var i=t.u;ui(r=Ni(),new Vi(r,n,e,i)),go(t)}else _o(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Bs(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ma?0:t.Na)||(t.h=Ui(Jn(t.Ca,t,e),xo(t,t.u)),t.u++,0)))}(t,e)||2==r&&wo(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:To(t,5);break;case 4:To(t,10);break;case 3:To(t,6);break;default:To(t,2)}}function xo(t,e){var n=t.Ia+Math.floor(Math.random()*t.Sa);return t.f||(n*=2),n*e}function To(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Jn(t.cb,t);n||(n=new ms("//www.google.com/images/cleardot.gif"),Wn.location&&"http"==Wn.location.protocol||ys(n,"https"),Ss(n)),function(t,e){var n=new Ii;if(Wn.Image){var r=new Image;r.onload=tr(Qs,n,r,"TestLoadImage: loaded",!0,e),r.onerror=tr(Qs,n,r,"TestLoadImage: error",!1,e),r.onabort=tr(Qs,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=tr(Qs,n,r,"TestLoadImage: timeout",!1,e),Wn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Mi(2);t.v=0,t.f&&t.f.sa(e),ko(t),po(t)}function ko(t){t.v=0,t.I=-1,t.f&&(0==Ws(t.b).length&&0==t.g.length||(t.b.c.length=0,ar(t.g),t.g.length=0),t.f.ra())}function Ro(t,e,n){var r=function(t){return t instanceof ms?gs(t):new ms(t,void 0)}(n);if(""!=r.c)e&&bs(r,e+"."+r.c),vs(r,r.h);else{var i=Wn.location;r=function(t,e,n,r){var i=new ms(null,void 0);return t&&ys(i,t),e&&bs(i,e),n&&vs(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&mr(t.V,function(t,e){ws(r,e,t)}),n=t.oa,(e=t.A)&&n&&ws(r,e,n),ws(r,"VER",t.ia),bo(t,r),r}function Io(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ys(t.Oa)).G=t.C,e}function Ao(){}function Do(){if(Er&&!(10<=Number(Nr)))throw Error("Environmental error: no available transport.")}function jo(t,e){ai.call(this),this.a=new lo(e),this.g=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ur(t)&&(this.a.i=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ur(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Lo(this)}function No(t){Ki.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Po(){Gi.call(this),this.status=1}function Lo(t){this.a=t}function Fo(t){this.f=t}function Mo(t){ai.call(this),this.u=t,this.h=void 0,this.readyState=Vo,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}(qn=Ys.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():Wi.a(),this.u=function(t){return t.b||(t.b=t.c())}(this.l?this.l:Wi),this.a.onreadystatechange=Jn(this.Aa,this);try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(s){return void no(this,s)}t=n||"";var i=new hs(this.headers);r&&ls(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=eo,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Wn.FormData&&t instanceof Wn.FormData,!(0<=ir(to,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{oo(this),0<this.s&&((this.F=function(t){return Er&&jr(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.s,this.a.ontimeout=Jn(this.ya,this)):this.o=Ei(this.ya,this.s,this)),this.m=!0,this.a.send(t),this.m=!1}catch(s){no(this,s)}},qn.ya=function(){void 0!==zn&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,ui(this,"timeout"),this.abort(8))},qn.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ui(this,"complete"),ui(this,"abort"),so(this))},qn.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),so(this,!0)),Ys.X.H.call(this)},qn.Aa=function(){this.j||(this.B||this.m||this.g?io(this):this.Za())},qn.Za=function(){io(this)},qn.W=function(){try{return 2<ao(this)?this.a.status:-1}catch(wr){return-1}},qn.$=function(){try{return this.a?this.a.responseText:""}catch(wr){return""}},qn.Qa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Xs(e)}},qn.va=function(){return this.h},qn.Ra=function(){return"string"==typeof this.f?this.f:String(this.f)},(qn=lo.prototype).ia=8,qn.v=1,qn.Ca=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Xi(this,this.c,t,void 0),r=this.l;if(this.O&&(r?br(r=gr(r),this.O):r=this.O),null===this.i&&(n.B=r),this.ea)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=vo(this,n,e),ws(i=gs(this.B),"RID",t),ws(i,"CVER",22),this.A&&ws(i,"X-HTTP-Session-Id",this.A),bo(this,i),this.i&&r&&uo(i,this.i,r),Hs(this.b,n),this.Ja&&ws(i,"TYPE","init"),this.ea?(ws(i,"$req",e),ws(i,"SID","null"),n.U=!0,ts(n,i,null)):ts(n,i,e),this.v=2}}else 3==this.v&&(t?yo(this,t):0==this.g.length||Us(this.b)||yo(this))},qn.Ba=function(){if(this.j=null,Eo(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ui(Jn(this.Ya,this),t)}},qn.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,Mi(10),fo(this),Eo(this))},qn.Xa=function(){null!=this.m&&(this.m=null,fo(this),wo(this),Mi(19))},qn.cb=function(t){t?(this.c.info("Successfully pinged google.com"),Mi(2)):(this.c.info("Failed to ping google.com"),Mi(1))},(qn=Ao.prototype).ua=function(){},qn.ta=function(){},qn.sa=function(){},qn.ra=function(){},qn.Ka=function(){},Do.prototype.a=function(t,e){return new jo(t,e)},nr(jo,ai),jo.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var t=this.a,e=this.g,n=this.b||void 0;Mi(0),t.ga=e,t.V=n||{},t.G=t.S,t.B=Ro(t,null,t.ga),go(t)},jo.prototype.close=function(){ho(this.a)},jo.prototype.l=function(t){if("string"==typeof t){var e={};e.__data__=t,mo(this.a,e)}else this.m?((e={}).__data__=li(t),mo(this.a,e)):mo(this.a,t)},jo.prototype.H=function(){this.a.f=null,delete this.f,ho(this.a),delete this.a,jo.X.H.call(this)},nr(No,Ki),nr(Po,Gi),nr(Lo,Ao),Lo.prototype.ua=function(){ui(this.a,"a")},Lo.prototype.ta=function(t){ui(this.a,new No(t))},Lo.prototype.sa=function(t){ui(this.a,new Po(t))},Lo.prototype.ra=function(){ui(this.a,"b")},nr(Fo,Hi),Fo.prototype.a=function(){return new Mo(this.f)},Fo.prototype.c=function(t){return function(){return t}}({}),nr(Mo,ai);var Vo=0;function Uo(t){t.f.read().then(t.Ta.bind(t)).catch(t.ca.bind(t))}function Bo(t){t.readyState=4,t.g=null,t.f=null,t.m=null,qo(t)}function qo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(qn=Mo.prototype).open=function(t,e){if(this.readyState!=Vo)throw this.abort(),Error("Error reopening a connection");this.s=t,this.o=e,this.readyState=1,qo(this)},qn.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.o,e)).then(this.Wa.bind(this),this.ca.bind(this))},qn.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Bo(this)),this.readyState=Vo},qn.Wa=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,qo(this)),this.a&&(this.readyState=3,qo(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):void 0!==Wn.ReadableStream&&"body"in t?(this.responseText="",this.f=t.body.getReader(),this.m=new TextDecoder,Uo(this)):t.text().then(this.Va.bind(this),this.ca.bind(this)))))},qn.Ta=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.responseText+=e),t.done?Bo(this):qo(this),3==this.readyState&&Uo(this)}},qn.Va=function(t){this.a&&(this.responseText=t,Bo(this))},qn.Ua=function(){this.a&&Bo(this)},qn.ca=function(){this.a&&Bo(this)},qn.setRequestHeader=function(t,e){this.l.append(t,e)},qn.getResponseHeader=function(t){return this.b&&this.b.get(t.toLowerCase())||""},qn.getAllResponseHeaders=function(){if(!this.b)return"";for(var t=[],e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Mo.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),Do.prototype.createWebChannel=Do.prototype.a,jo.prototype.send=jo.prototype.l,jo.prototype.open=jo.prototype.h,jo.prototype.close=jo.prototype.close,Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,qi.COMPLETE="complete",zi.EventType=$i,$i.OPEN="a",$i.CLOSE="b",$i.ERROR="c",$i.MESSAGE="d",ai.prototype.listen=ai.prototype.wa,Ys.prototype.listenOnce=Ys.prototype.xa,Ys.prototype.getLastError=Ys.prototype.Ra,Ys.prototype.getLastErrorCode=Ys.prototype.va,Ys.prototype.getStatus=Ys.prototype.W,Ys.prototype.getResponseJson=Ys.prototype.Qa,Ys.prototype.getResponseText=Ys.prototype.$,Ys.prototype.send=Ys.prototype.ba;var Ho=Bi,zo=qi,Wo=Di,$o=Fo,Ko=zi,Go=Ys,Qo=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Qo.o=-1;var Xo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Yo=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(je.c)(e,t),e}(Error),Zo=new Vn.b("@firebase/firestore");function Jo(){return Zo.logLevel}function ta(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zo.logLevel<=Vn.a.DEBUG){var r=e.map(ra);Zo.debug.apply(Zo,Object(je.f)(["Firestore (8.6.8): "+t],r))}}function ea(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zo.logLevel<=Vn.a.ERROR){var r=e.map(ra);Zo.error.apply(Zo,Object(je.f)(["Firestore (8.6.8): "+t],r))}}function na(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zo.logLevel<=Vn.a.WARN){var r=e.map(ra);Zo.warn.apply(Zo,Object(je.f)(["Firestore (8.6.8): "+t],r))}}function ra(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(ny){return t}}function ia(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.8) INTERNAL ASSERTION FAILED: "+t;throw ea(e),new Error(e)}function sa(t,e){t||ia()}function oa(t,e){return t}function aa(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ua=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=aa(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ca(t,e){return t<e?-1:t>e?1:0}function la(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function ha(t){return t+"\0"}var da=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Yo(Xo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Yo(Xo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Yo(Xo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Yo(Xo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?ca(this.nanoseconds,t.nanoseconds):ca(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),fa=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new da(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function pa(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ma(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ga(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ya=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ia(),void 0===n?n=t.length-e:n>t.length-e&&ia(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ba=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(je.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Yo(Xo.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(ya),va=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(je.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return va.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Yo(Xo.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Yo(Xo.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Yo(Xo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Yo(Xo.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(ya),wa=function(){function t(t){this.fields=t,t.sort(_a.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return la(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Sa=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return ca(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Sa.EMPTY_BYTE_STRING=new Sa("");var Ea=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ca(t){if(sa(!!t),"string"==typeof t){var e=0,n=Ea.exec(t);if(sa(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Oa(t.seconds),nanos:Oa(t.nanos)}}function Oa(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function xa(t){return"string"==typeof t?Sa.fromBase64String(t):Sa.fromUint8Array(t)}function Ta(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ka(t){var e=t.mapValue.fields.__previous_value__;return Ta(e)?ka(e):e}function Ra(t){var e=Ca(t.mapValue.fields.__local_write_time__.timestampValue);return new da(e.seconds,e.nanos)}function Ia(t){return null==t}function Aa(t){return 0===t&&1/t==-1/0}function Da(t){return"number"==typeof t&&Number.isInteger(t)&&!Aa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ja=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(ba.fromString(e))},t.fromName=function(e){return new t(ba.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ba.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ba.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ba(e.slice()))},t}();function Na(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ta(t)?4:10:ia()}function Pa(t,e){var n=Na(t);if(n!==Na(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ra(t).isEqual(Ra(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ca(t.timestampValue),r=Ca(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return xa(t.bytesValue).isEqual(xa(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Oa(t.geoPointValue.latitude)===Oa(e.geoPointValue.latitude)&&Oa(t.geoPointValue.longitude)===Oa(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Oa(t.integerValue)===Oa(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Oa(t.doubleValue),r=Oa(e.doubleValue);return n===r?Aa(n)===Aa(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return la(t.arrayValue.values||[],e.arrayValue.values||[],Pa);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(pa(n)!==pa(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Pa(n[i],r[i])))return!1;return!0}(t,e);default:return ia()}}function La(t,e){return void 0!==(t.values||[]).find(function(t){return Pa(t,e)})}function Fa(t,e){var n=Na(t),r=Na(e);if(n!==r)return ca(n,r);switch(n){case 0:return 0;case 1:return ca(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Oa(t.integerValue||t.doubleValue),r=Oa(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ma(t.timestampValue,e.timestampValue);case 4:return Ma(Ra(t),Ra(e));case 5:return ca(t.stringValue,e.stringValue);case 6:return function(t,e){var n=xa(t),r=xa(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=ca(n[i],r[i]);if(0!==s)return s}return ca(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ca(Oa(t.latitude),Oa(e.latitude));return 0!==n?n:ca(Oa(t.longitude),Oa(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Fa(n[i],r[i]);if(s)return s}return ca(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=ca(r[o],s[o]);if(0!==a)return a;var u=Fa(n[r[o]],i[s[o]]);if(0!==u)return u}return ca(r.length,s.length)}(t.mapValue,e.mapValue);default:throw ia()}}function Ma(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ca(t,e);var n=Ca(t),r=Ca(e),i=ca(n.seconds,r.seconds);return 0!==i?i:ca(n.nanos,r.nanos)}function Va(t){return Ua(t)}function Ua(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Ca(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?xa(t.bytesValue).toBase64():"referenceValue"in t?ja.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Ua(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Ua(t.fields[s])}return e+"}"}(t.mapValue):ia();var e}function Ba(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function qa(t){return!!t&&"integerValue"in t}function Ha(t){return!!t&&"arrayValue"in t}function za(t){return!!t&&"nullValue"in t}function Wa(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $a(t){return!!t&&"mapValue"in t}function Ka(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},Ca(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return ma(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Ka(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ka(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Ga=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!$a(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ka(e)},t.prototype.setAll=function(t){var e=this,n=_a.emptyPath(),r={},i=[];t.forEach(function(t,s){if(!n.isImmediateParentOf(s)){var o=e.getFieldsMap(n);e.applyChanges(o,r,i),r={},i=[],n=s.popLast()}t?r[s.lastSegment()]=Ka(t):i.push(s.lastSegment())});var s=this.getFieldsMap(n);this.applyChanges(s,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());$a(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Pa(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];$a(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){ma(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Ka(this.value))},t}();function Qa(t){var e=[];return ma(t.fields,function(t,n){var r=new _a([t]);if($a(n)){var i=Qa(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new wa(e)}var Xa=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,fa.min(),Ga.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Ga.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Ga.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ga.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ga.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Ya=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function Za(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Ya(t,e,n,r,i,s,o)}function Ja(t){var e=oa(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Va(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Ia(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=du(e.startAt)),e.endAt&&(n+="|ub:",n+=du(e.endAt)),e.h=n}return e.h}function tu(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!pu(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Pa(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gu(t.startAt,e.startAt)&&gu(t.endAt,e.endAt)}function eu(t){return ja.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var nu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(je.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new ru(t,n,r):"array-contains"===n?new au(t,r):"in"===n?new uu(t,r):"not-in"===n?new cu(t,r):"array-contains-any"===n?new lu(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new iu(t,n):new su(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Fa(e,this.value)):null!==e&&Na(this.value)===Na(e)&&this.m(Fa(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ia()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),ru=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ja.fromName(r.referenceValue),i}return Object(je.c)(e,t),e.prototype.matches=function(t){var e=ja.comparator(t.key,this.key);return this.m(e)},e}(nu),iu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ou(0,n),r}return Object(je.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(nu),su=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ou(0,n),r}return Object(je.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(nu);function ou(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ja.fromName(t.referenceValue)})}var au=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(je.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Ha(e)&&La(e.arrayValue,this.value)},e}(nu),uu=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(je.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&La(this.value.arrayValue,e)},e}(nu),cu=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(je.c)(e,t),e.prototype.matches=function(t){if(La(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!La(this.value.arrayValue,e)},e}(nu),lu=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(je.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Ha(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return La(e.value.arrayValue,t)})},e}(nu),hu=function(t,e){this.position=t,this.before=e};function du(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Va(t)}).join(",")}var fu=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function pu(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function mu(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?ja.comparator(ja.fromName(o.referenceValue),n.key):Fa(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function gu(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Pa(t.position[n],e.position[n]))return!1;return!0}var yu=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function bu(t,e,n,r,i,s,o,a){return new yu(t,e,n,r,i,s,o,a)}function vu(t){return new yu(t)}function _u(t){return!Ia(t.limit)&&"F"===t.limitType}function wu(t){return!Ia(t.limit)&&"L"===t.limitType}function Su(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Eu(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Cu(t){return null!==t.collectionGroup}function Ou(t){var e=oa(t);if(null===e.p){e.p=[];var n=Eu(e),r=Su(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new fu(n)),e.p.push(new fu(_a.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new fu(_a.keyField(),u))}}}return e.p}function xu(t){var e=oa(t);if(!e.T)if("F"===e.limitType)e.T=Za(e.path,e.collectionGroup,Ou(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ou(e);r<i.length;r++){var s=i[r];n.push(new fu(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new hu(e.endAt.position,!e.endAt.before):null,a=e.startAt?new hu(e.startAt.position,!e.startAt.before):null;e.T=Za(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function Tu(t,e,n){return new yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ku(t,e){return tu(xu(t),xu(e))&&t.limitType===e.limitType}function Ru(t){return Ja(xu(t))+"|lt:"+t.limitType}function Iu(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Va(e.value);var e}).join(", ")+"]"),Ia(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+du(t.startAt)),t.endAt&&(e+=", endAt: "+du(t.endAt)),"Target("+e+")"}(xu(t))+"; limitType="+t.limitType+")"}function Au(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ja.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!mu(t.startAt,Ou(t),e)||t.endAt&&mu(t.endAt,Ou(t),e))}(t,e)}function Du(t){return function(e,n){for(var r=!1,i=0,s=Ou(t);i<s.length;i++){var o=s[i],a=ju(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function ju(t,e,n){var r=t.field.isKeyField()?ja.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Fa(r,i):ia()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ia()}}function Nu(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Aa(e)?"-0":e}}function Pu(t){return{integerValue:""+t}}function Lu(t,e){return Da(e)?Pu(e):Nu(t,e)}var Fu=function(){this._=void 0};function Mu(t,e,n){return t instanceof Bu?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof qu?Hu(t,e):t instanceof zu?Wu(t,e):function(t,e){var n=Uu(t,e),r=Ku(n)+Ku(t.A);return qa(n)&&qa(t.A)?Pu(r):Nu(t.R,r)}(t,e)}function Vu(t,e,n){return t instanceof qu?Hu(t,e):t instanceof zu?Wu(t,e):n}function Uu(t,e){return t instanceof $u?qa(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Bu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(je.c)(e,t),e}(Fu),qu=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(je.c)(e,t),e}(Fu);function Hu(t,e){for(var n=Gu(e),r=function(t){n.some(function(e){return Pa(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var zu=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(je.c)(e,t),e}(Fu);function Wu(t,e){for(var n=Gu(e),r=function(t){n=n.filter(function(e){return!Pa(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var $u=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(je.c)(e,t),e}(Fu);function Ku(t){return Oa(t.integerValue||t.doubleValue)}function Gu(t){return Ha(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Qu=function(t,e){this.field=t,this.transform=e},Xu=function(t,e){this.version=t,this.transformResults=e},Yu=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Zu(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Ju=function(){};function tc(t,e,n){t instanceof sc?function(t,e,n){var r=t.value.clone(),i=uc(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof oc?function(t,e,n){if(Zu(t.precondition,e)){var r=uc(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(ac(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function ec(t,e,n){t instanceof sc?function(t,e,n){if(Zu(t.precondition,e)){var r=t.value.clone(),i=cc(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(ic(e),r).setHasLocalMutations()}}(t,e,n):t instanceof oc?function(t,e,n){if(Zu(t.precondition,e)){var r=cc(t.fieldTransforms,n,e),i=e.data;i.setAll(ac(t)),i.setAll(r),e.convertToFoundDocument(ic(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Zu(t.precondition,e)&&e.convertToNoDocument(fa.min())}(t,e)}function nc(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=Uu(s.transform,o||null);null!=a&&(null==n&&(n=Ga.empty()),n.set(s.field,a))}return n||null}function rc(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&la(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof qu&&e instanceof qu||t instanceof zu&&e instanceof zu?la(t.elements,e.elements,Pa):t instanceof $u&&e instanceof $u?Pa(t.A,e.A):t instanceof Bu&&e instanceof Bu}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function ic(t){return t.isFoundDocument()?t.version:fa.min()}var sc=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(je.c)(e,t),e}(Ju),oc=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(je.c)(e,t),e}(Ju);function ac(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function uc(t,e,n){var r=new Map;sa(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Vu(o,a,n[i]))}return r}function cc(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=n.data.field(o.field);r.set(o.field,Mu(a,u,e))}return r}var lc,hc,dc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(je.c)(e,t),e}(Ju),fc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(je.c)(e,t),e}(Ju),pc=function(t){this.count=t};function mc(t){switch(t){case Xo.OK:return ia();case Xo.CANCELLED:case Xo.UNKNOWN:case Xo.DEADLINE_EXCEEDED:case Xo.RESOURCE_EXHAUSTED:case Xo.INTERNAL:case Xo.UNAVAILABLE:case Xo.UNAUTHENTICATED:return!1;case Xo.INVALID_ARGUMENT:case Xo.NOT_FOUND:case Xo.ALREADY_EXISTS:case Xo.PERMISSION_DENIED:case Xo.FAILED_PRECONDITION:case Xo.ABORTED:case Xo.OUT_OF_RANGE:case Xo.UNIMPLEMENTED:case Xo.DATA_LOSS:return!0;default:return ia()}}function gc(t){if(void 0===t)return ea("GRPC error has no .code"),Xo.UNKNOWN;switch(t){case lc.OK:return Xo.OK;case lc.CANCELLED:return Xo.CANCELLED;case lc.UNKNOWN:return Xo.UNKNOWN;case lc.DEADLINE_EXCEEDED:return Xo.DEADLINE_EXCEEDED;case lc.RESOURCE_EXHAUSTED:return Xo.RESOURCE_EXHAUSTED;case lc.INTERNAL:return Xo.INTERNAL;case lc.UNAVAILABLE:return Xo.UNAVAILABLE;case lc.UNAUTHENTICATED:return Xo.UNAUTHENTICATED;case lc.INVALID_ARGUMENT:return Xo.INVALID_ARGUMENT;case lc.NOT_FOUND:return Xo.NOT_FOUND;case lc.ALREADY_EXISTS:return Xo.ALREADY_EXISTS;case lc.PERMISSION_DENIED:return Xo.PERMISSION_DENIED;case lc.FAILED_PRECONDITION:return Xo.FAILED_PRECONDITION;case lc.ABORTED:return Xo.ABORTED;case lc.OUT_OF_RANGE:return Xo.OUT_OF_RANGE;case lc.UNIMPLEMENTED:return Xo.UNIMPLEMENTED;case lc.DATA_LOSS:return Xo.DATA_LOSS;default:return ia()}}(hc=lc||(lc={}))[hc.OK=0]="OK",hc[hc.CANCELLED=1]="CANCELLED",hc[hc.UNKNOWN=2]="UNKNOWN",hc[hc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hc[hc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hc[hc.NOT_FOUND=5]="NOT_FOUND",hc[hc.ALREADY_EXISTS=6]="ALREADY_EXISTS",hc[hc.PERMISSION_DENIED=7]="PERMISSION_DENIED",hc[hc.UNAUTHENTICATED=16]="UNAUTHENTICATED",hc[hc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hc[hc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hc[hc.ABORTED=10]="ABORTED",hc[hc.OUT_OF_RANGE=11]="OUT_OF_RANGE",hc[hc.UNIMPLEMENTED=12]="UNIMPLEMENTED",hc[hc.INTERNAL=13]="INTERNAL",hc[hc.UNAVAILABLE=14]="UNAVAILABLE",hc[hc.DATA_LOSS=15]="DATA_LOSS";var yc=function(){function t(t,e){this.comparator=t,this.root=e||vc.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vc.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vc.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new bc(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new bc(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new bc(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new bc(this.root,t,this.comparator,!0)},t}(),bc=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),vc=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ia();if(this.right.isRed())throw ia();var t=this.left.check();if(t!==this.right.check())throw ia();return t+(this.isRed()?0:1)},t}();vc.EMPTY=null,vc.RED=!0,vc.BLACK=!1,vc.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ia()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ia()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ia()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ia()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ia()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new vc(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var _c=function(){function t(t){this.comparator=t,this.data=new yc(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new wc(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new wc(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),wc=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Sc=new yc(ja.comparator);function Ec(){return Sc}var Cc=new yc(ja.comparator);function Oc(){return Cc}var xc=new yc(ja.comparator);function Tc(){return xc}var kc=new _c(ja.comparator);function Rc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=kc,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Ic=new _c(ca);function Ac(){return Ic}var Dc=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(fa.min(),r,Ac(),Ec(),Rc())},t}(),jc=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Sa.EMPTY_BYTE_STRING,n,Rc(),Rc(),Rc())},t}(),Nc=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Pc=function(t,e){this.targetId=t,this.V=e},Lc=function(t,e,n,r){void 0===n&&(n=Sa.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Fc=function(){function t(){this.S=0,this.D=Uc(),this.C=Sa.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Rc(),e=Rc(),n=Rc();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ia()}}),new jc(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Uc()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Mc=function(){function t(t){this.W=t,this.G=new Map,this.H=Ec(),this.J=Vc(),this.Y=new _c(ca)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:ia()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(eu(i))if(0===n){var s=new ja(i.path);this.tt(e,s,Xa.newNoDocument(s,fa.min()))}else sa(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&eu(s.target)){var o=new ja(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,Xa.newNoDocument(o,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Rc();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Dc(t,n,this.Y,this.H,r);return this.H=Ec(),this.J=Vc(),this.Y=new _c(ca),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Fc,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new _c(ca),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||ta("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Fc),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Vc(){return new yc(ja.comparator)}function Uc(){return new yc(ja.comparator)}var Bc={asc:"ASCENDING",desc:"DESCENDING"},qc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hc=function(t,e){this.databaseId=t,this.I=e};function zc(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wc(t,e){return t.I?e.toBase64():e.toUint8Array()}function $c(t,e){return zc(t,e.toTimestamp())}function Kc(t){return sa(!!t),fa.fromTimestamp(function(t){var e=Ca(t);return new da(e.seconds,e.nanos)}(t))}function Gc(t,e){return function(t){return new ba(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Qc(t){var e=ba.fromString(t);return sa(vl(e)),e}function Xc(t,e){return Gc(t.databaseId,e.path)}function Yc(t,e){var n=Qc(e);if(n.get(1)!==t.databaseId.projectId)throw new Yo(Xo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Yo(Xo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ja(el(n))}function Zc(t,e){return Gc(t.databaseId,e)}function Jc(t){var e=Qc(t);return 4===e.length?ba.emptyPath():el(e)}function tl(t){return new ba(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function el(t){return sa(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function nl(t,e,n){return{name:Xc(t,e),fields:n.value.mapValue.fields}}function rl(t,e,n){var r=Yc(t,e.name),i=Kc(e.updateTime),s=new Ga({mapValue:{fields:e.fields}}),o=Xa.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function il(t,e){var n;if(e instanceof sc)n={update:nl(t,e.key,e.value)};else if(e instanceof dc)n={delete:Xc(t,e.key)};else if(e instanceof oc)n={update:nl(t,e.key,e.data),updateMask:bl(e.fieldMask)};else{if(!(e instanceof fc))return ia();n={verify:Xc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Bu)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof qu)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof zu)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof $u)return{fieldPath:e.field.canonicalString(),increment:n.A};throw ia()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:$c(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ia()}(t,e.precondition)),n}function sl(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Yu.updateTime(Kc(t.updateTime)):void 0!==t.exists?Yu.exists(t.exists):Yu.none()}(e.currentDocument):Yu.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(sa("REQUEST_TIME"===e.setToServerValue),n=new Bu):"appendMissingElements"in e?n=new qu(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new zu(e.removeAllFromArray.values||[]):"increment"in e?n=new $u(t,e.increment):ia();var r=_a.fromServerFormat(e.fieldPath);return new Qu(r,n)}(t,e)}):[];if(e.update){var i=Yc(t,e.update.name),s=new Ga({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new wa((t.fieldPaths||[]).map(function(t){return _a.fromServerFormat(t)}))}(e.updateMask);return new oc(i,s,o,n,r)}return new sc(i,s,n,r)}if(e.delete){var a=Yc(t,e.delete);return new dc(a,n)}if(e.verify){var u=Yc(t,e.verify);return new fc(u,n)}return ia()}function ol(t,e){return{documents:[Zc(t,e.path)]}}function al(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Zc(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Zc(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Wa(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NAN"}};if(za(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Wa(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NAN"}};if(za(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pl(t.field),op:fl(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:pl(t.field),direction:dl(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||Ia(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=ll(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ll(e.endAt)),n}function ul(t){var e=Jc(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){sa(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=cl(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new fu(ml(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Ia(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=hl(n.startAt));var l=null;return n.endAt&&(l=hl(n.endAt)),bu(e,i,a,o,u,"F",c,l)}function cl(t){return t?void 0!==t.unaryFilter?[yl(t)]:void 0!==t.fieldFilter?[gl(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return cl(t)}).reduce(function(t,e){return t.concat(e)}):ia():[]}function ll(t){return{before:t.before,values:t.position}}function hl(t){return new hu(t.values||[],!!t.before)}function dl(t){return Bc[t]}function fl(t){return qc[t]}function pl(t){return{fieldPath:t.canonicalString()}}function ml(t){return _a.fromServerFormat(t.fieldPath)}function gl(t){return nu.create(ml(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ia()}}(t.fieldFilter.op),t.fieldFilter.value)}function yl(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ml(t.unaryFilter.field);return nu.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ml(t.unaryFilter.field);return nu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ml(t.unaryFilter.field);return nu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ml(t.unaryFilter.field);return nu.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ia()}}function bl(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function vl(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function _l(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Sl(e)),e=wl(t.get(n),e);return Sl(e)}function wl(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Sl(t){return t+"\x01\x01"}function El(t){var e=t.length;if(sa(e>=2),2===e)return sa("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ba.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&ia(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:ia()}s=o+2}return new ba(r)}var Cl=function(t,e){this.seconds=t,this.nanoseconds=e},Ol=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ol.store="owner",Ol.key="owner";var xl=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};xl.store="mutationQueues",xl.keyPath="userId";var Tl=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Tl.store="mutations",Tl.keyPath="batchId",Tl.userMutationsIndex="userMutationsIndex",Tl.userMutationsKeyPath=["userId","batchId"];var kl=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,_l(e)]},t.key=function(t,e,n){return[t,_l(e),n]},t}();kl.store="documentMutations",kl.PLACEHOLDER=new kl;var Rl=function(t,e){this.path=t,this.readTime=e},Il=function(t,e){this.path=t,this.version=e},Al=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Al.store="remoteDocuments",Al.readTimeIndex="readTimeIndex",Al.readTimeIndexPath="readTime",Al.collectionReadTimeIndex="collectionReadTimeIndex",Al.collectionReadTimeIndexPath=["parentPath","readTime"];var Dl=function(t){this.byteSize=t};Dl.store="remoteDocumentGlobal",Dl.key="remoteDocumentGlobalKey";var jl=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};jl.store="targets",jl.keyPath="targetId",jl.queryTargetsIndexName="queryTargetsIndex",jl.queryTargetsKeyPath=["canonicalId","targetId"];var Nl=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Nl.store="targetDocuments",Nl.keyPath=["targetId","path"],Nl.documentTargetsIndex="documentTargetsIndex",Nl.documentTargetsKeyPath=["path","targetId"];var Pl=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Pl.key="targetGlobalKey",Pl.store="targetGlobal";var Ll=function(t,e){this.collectionId=t,this.parent=e};Ll.store="collectionParents",Ll.keyPath=["collectionId","parent"];var Fl=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Fl.store="clientMetadata",Fl.keyPath="clientId";var Ml=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ml.store="bundles",Ml.keyPath="bundleId";var Vl=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Vl.store="namedQueries",Vl.keyPath="name";var Ul=Object(je.f)(Object(je.f)([],Object(je.f)(Object(je.f)([],Object(je.f)(Object(je.f)([],Object(je.f)(Object(je.f)([],[xl.store,Tl.store,kl.store,Al.store,jl.store,Ol.store,Pl.store,Nl.store]),[Fl.store])),[Dl.store])),[Ll.store])),[Ml.store,Vl.store]),Bl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ql=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Hl=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},zl=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&ia(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Wl=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Hl,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Gl(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Jl(e.target.error);n.ft.reject(new Gl(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Gl(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ta("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Xl(e)},t}(),$l=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(Mn.j)())&&ea("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ta("SimpleDb","Removing database:",t),Yl(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(Mn.j)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(je.b)(this,void 0,void 0,function(){var e,n=this;return Object(je.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(ta("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Gl(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Yo(Xo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Gl(t,n))},i.onupgradeneeded=function(t){ta("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){ta("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(je.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(je.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(je.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Wl.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),zl.reject(t)}).toPromise(),u={},o.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return ta("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Kl=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Yl(this.Pt.delete())},t}(),Gl=function(t){function e(e,n){var r=this;return(r=t.call(this,Xo.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(je.c)(e,t),e}(Yo);function Ql(t){return"IndexedDbTransactionError"===t.name}var Xl=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ta("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ta("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Yl(n)},t.prototype.add=function(t){return ta("SimpleDb","ADD",this.store.name,t,t),Yl(this.store.add(t))},t.prototype.get=function(t){var e=this;return Yl(this.store.get(t)).next(function(n){return void 0===n&&(n=null),ta("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return ta("SimpleDb","DELETE",this.store.name,t),Yl(this.store.delete(t))},t.prototype.count=function(){return ta("SimpleDb","COUNT",this.store.name),Yl(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){ta("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new zl(function(n,r){e.onerror=function(t){var e=Jl(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new zl(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Kl(i),o=e(i.primaryKey,i.value,s);if(o instanceof zl){var a=o.catch(function(t){return s.done(),zl.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return zl.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Yl(t){return new zl(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Jl(t.target.error);n(e)}})}var Zl=!1;function Jl(t){var e=$l._t(Object(Mn.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Yo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Zl||(Zl=!0,setTimeout(function(){throw r},0)),r}}return t}var th=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(je.c)(e,t),e}(ql);function eh(t,e){var n=oa(t);return $l.It(n.Mt,e)}var nh=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&tc(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&ec(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&ec(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(fa.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Rc())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&la(this.mutations,t.mutations,function(t,e){return rc(t,e)})&&la(this.baseMutations,t.baseMutations,function(t,e){return rc(t,e)})},t}(),rh=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){sa(e.mutations.length===r.length);for(var i=Tc(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),ih=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=fa.min()),void 0===s&&(s=fa.min()),void 0===o&&(o=Sa.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),sh=function(t){this.Lt=t};function oh(t,e){if(e.document)return rl(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ja.fromSegments(e.noDocument.path),r=hh(e.noDocument.readTime),i=Xa.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=ja.fromSegments(e.unknownDocument.path);return r=hh(e.unknownDocument.version),Xa.newUnknownDocument(s,r)}return ia()}function ah(t,e,n){var r=uh(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:Xc(t,e.key),fields:e.data.value.mapValue.fields,updateTime:zc(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new Al(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=lh(e.version);return o=e.hasCommittedMutations,new Al(null,new Rl(a,u),null,o,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=lh(e.version);return new Al(new Il(c,l),null,null,!0,r,i)}return ia()}function uh(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ch(t){var e=new da(t[0],t[1]);return fa.fromTimestamp(e)}function lh(t){var e=t.toTimestamp();return new Cl(e.seconds,e.nanoseconds)}function hh(t){var e=new da(t.seconds,t.nanoseconds);return fa.fromTimestamp(e)}function dh(t,e){for(var n=(e.baseMutations||[]).map(function(e){return sl(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return sl(t.Lt,e)}),s=da.fromMillis(e.localWriteTimeMs);return new nh(e.batchId,s,n,i)}function fh(t){var e,n,r=hh(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?hh(t.lastLimboFreeSnapshotVersion):fa.min();return void 0!==t.query.documents?(sa(1===(n=t.query).documents.length),e=xu(vu(Jc(n.documents[0])))):e=function(t){return xu(ul(t))}(t.query),new ih(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Sa.fromBase64String(t.resumeToken))}function ph(t,e){var n,r=lh(e.snapshotVersion),i=lh(e.lastLimboFreeSnapshotVersion);n=eu(e.target)?ol(t.Lt,e.target):al(t.Lt,e.target);var s=e.resumeToken.toBase64();return new jl(e.targetId,Ja(e.target),r,s,e.sequenceNumber,i,n)}function mh(t){var e=ul({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Tu(e,e.limit,"L"):e}var gh=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return yh(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:hh(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return yh(t).put({bundleId:(n=e).id,createTime:lh(Kc(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return bh(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:mh(e.bundledQuery),readTime:hh(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return bh(t).put(function(t){return{name:t.name,readTime:lh(Kc(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function yh(t){return eh(t,Ml.store)}function bh(t){return eh(t,Vl.store)}var vh=function(){function t(){this.Bt=new _h}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),zl.resolve()},t.prototype.getCollectionParents=function(t,e){return zl.resolve(this.Bt.getEntries(e))},t}(),_h=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new _c(ba.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new _c(ba.comparator)).toArray()},t}(),wh=function(){function t(){this.qt=new _h}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:_l(i)};return Sh(t).put(s)}return zl.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ha(e),""],!1,!0);return Sh(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(El(s.parent))}return n})},t}();function Sh(t){return eh(t,Ll.store)}var Eh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ch=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Oh(t,e,n){var r=t.store(Tl.store),i=t.store(kl.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){sa(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=kl.key(e,d.key.path,n.batchId);s.push(i.delete(f)),c.push(d.key)}return zl.waitFor(s).next(function(){return c})}function xh(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ia();e=t.noDocument}return JSON.stringify(e).length}Ch.DEFAULT_COLLECTION_PERCENTILE=10,Ch.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ch.DEFAULT=new Ch(41943040,Ch.DEFAULT_COLLECTION_PERCENTILE,Ch.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ch.DISABLED=new Ch(-1,0,0);var Th=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return sa(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rh(t).$t({index:Tl.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=Ih(t),o=Rh(t);return o.add({}).next(function(a){sa("number"==typeof a);for(var u=new nh(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return il(t.Lt,e)}),i=n.mutations.map(function(e){return il(t.Lt,e)});return new Tl(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new _c(function(t,e){return ca(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],m=kl.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(m,kl.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),zl.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Rh(t).get(e).next(function(t){return t?(sa(t.userId===n.userId),dh(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?zl.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Rh(t).$t({index:Tl.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(sa(e.batchId>=r),s=dh(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Rh(t).$t({index:Tl.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rh(t).Nt(Tl.userMutationsIndex,n).next(function(t){return t.map(function(t){return dh(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=kl.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Ih(t).$t({range:i},function(r,i,o){var a=r[0],u=r[2],c=El(r[1]);if(a===n.userId&&e.path.isEqual(c))return Rh(t).get(u).next(function(t){if(!t)throw ia();sa(t.userId===n.userId),s.push(dh(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new _c(ca),i=[];return e.forEach(function(e){var s=kl.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Ih(t).$t({range:o},function(t,i,s){var o=t[0],a=t[2],u=El(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),zl.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=kl.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new _c(ca);return Ih(t).$t({range:o},function(t,e,s){var o=t[0],u=t[2],c=El(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Rh(t).get(e).next(function(t){if(null===t)throw ia();sa(t.userId===n.userId),r.push(dh(n.R,t))}))}),zl.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Oh(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),zl.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return zl.resolve();var r=IDBKeyRange.lowerBound(kl.prefixForUser(e.userId)),i=[];return Ih(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var s=El(t[1]);i.push(s)}else r.done()}).next(function(){sa(0===i.length)})})},t.prototype.containsKey=function(t,e){return kh(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Ah(t).get(this.userId).next(function(t){return t||new xl(e.userId,-1,"")})},t}();function kh(t,e,n){var r=kl.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Ih(t).$t({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Rh(t){return eh(t,Tl.store)}function Ih(t){return eh(t,kl.store)}function Ah(t){return eh(t,xl.store)}var Dh=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),jh=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Dh(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return fa.fromTimestamp(new da(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Nh(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return sa(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return Nh(t).$t(function(o,a){var u=fh(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))}).next(function(){return zl.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Nh(t).$t(function(t,n){var r=fh(n);e(r)})},t.prototype.Xt=function(t){return Ph(t).get(Pl.key).next(function(t){return sa(null!==t),t})},t.prototype.Zt=function(t,e){return Ph(t).put(Pl.key,e)},t.prototype.te=function(t,e){return Nh(t).put(ph(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Ja(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Nh(t).$t({range:r,index:jl.queryTargetsIndexName},function(t,n,r){var s=fh(n);tu(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=Lh(t);return e.forEach(function(e){var o=_l(e.path);i.push(s.put(new Nl(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),zl.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Lh(t);return zl.forEach(e,function(e){var s=_l(e.path);return zl.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Lh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Lh(t),i=Rc();return r.$t({range:n,kt:!0},function(t,e,n){var r=El(t[1]),s=new ja(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=_l(e.path),r=IDBKeyRange.bound([n],[ha(n)],!1,!0),i=0;return Lh(t).$t({index:Nl.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Nh(t).get(e).next(function(t){return t?fh(t):null})},t}();function Nh(t){return eh(t,jl.store)}function Ph(t){return eh(t,Pl.store)}function Lh(t){return eh(t,Nl.store)}function Fh(t){return Object(je.b)(this,void 0,void 0,function(){return Object(je.d)(this,function(e){if(t.code!==Xo.FAILED_PRECONDITION||t.message!==Bl)throw t;return ta("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Mh(t,e){var n=t[1],r=e[1],i=ca(t[0],e[0]);return 0===i?ca(n,r):i}var Vh=function(){function t(t){this.ne=t,this.buffer=new _c(Mh),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Mh(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Uh=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;ta("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(je.b)(e,void 0,void 0,function(){var e;return Object(je.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ql(e=n.sent())?(ta("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Fh(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Bh=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return zl.resolve(Qo.o);var r=new Vh(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ta("LruGarbageCollector","Garbage collection skipped; disabled"),zl.resolve(Eh)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(ta("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Eh):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(ta("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Jo()<=Vn.a.DEBUG&&ta("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),zl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),qh=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Bh(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Hh(t,n)},t.prototype.removeReference=function(t,e,n){return Hh(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Hh(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Ah(t).Ot(function(r){return kh(t,r,e).next(function(t){return t&&(n=!0),zl.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var u=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),Lh(t).delete([0,_l(o.path)])})});i.push(u)}}).next(function(){return zl.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Hh(t,e)},t.prototype.we=function(t,e){var n,r=Lh(t),i=Qo.o;return r.$t({index:Nl.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Qo.o&&e(new ja(El(n)),i),i=o,n=s):i=Qo.o}).next(function(){i!==Qo.o&&e(new ja(El(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Hh(t,e){return Lh(t).put(function(t,e){return new Nl(0,_l(t.path),e)}(e,t.currentSequenceNumber))}var zh=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ma(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return ga(this.inner)},t}(),Wh=function(){function t(){this.changes=new zh(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:fa.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Xa.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?zl.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),$h=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Qh(t).put(Xh(e),n)},t.prototype.removeEntry=function(t,e){var n=Qh(t),r=Xh(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Qh(t).get(Xh(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Qh(t).get(Xh(e)).next(function(t){return{document:n.ye(e,t),size:xh(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Ec();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Ec(),i=new yc(ja.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,xh(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return zl.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return Qh(t).$t({range:r},function(t,e,r){for(var o=ja.fromSegments(t);s&&ja.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Ec(),s=e.path.length+1,o={};if(n.isEqual(fa.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=uh(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Al.collectionReadTimeIndex}return Qh(t).$t(o,function(t,n,o){if(t.length===s){var a=oh(r.R,n);e.path.isPrefixOf(a.key.path)?Au(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Kh(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Gh(t).get(Dl.key).next(function(t){return sa(!!t),t})},t.prototype.me=function(t,e){return Gh(t).put(Dl.key,e)},t.prototype.ye=function(t,e){if(e){var n=oh(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(fa.min()))return n}return Xa.newInvalidDocument(t)},t}(),Kh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new zh(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(je.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new _c(function(t,e){return ca(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var u=ah(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var c=xh(u);r+=c-a,n.push(e.Ie.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=ah(e.Ie.R,Xa.newNoDocument(s,fa.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),zl.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Wh);function Gh(t){return eh(t,Dl.store)}function Qh(t){return eh(t,Al.store)}function Xh(t){return t.path.toArray()}var Yh=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;sa(n<r&&n>=0&&r<=11);var s=new Wl("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ol.store)}(t),function(t){t.createObjectStore(xl.store,{keyPath:xl.keyPath}),t.createObjectStore(Tl.store,{keyPath:Tl.keyPath,autoIncrement:!0}).createIndex(Tl.userMutationsIndex,Tl.userMutationsKeyPath,{unique:!0}),t.createObjectStore(kl.store)}(t),Zh(t),function(t){t.createObjectStore(Al.store)}(t));var o=zl.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Nl.store),t.deleteObjectStore(jl.store),t.deleteObjectStore(Pl.store)}(t),Zh(t)),o=o.next(function(){return function(t){var e=t.store(Pl.store),n=new Pl(0,0,fa.min().toTimestamp(),0);return e.put(Pl.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Tl.store).Nt().next(function(n){t.deleteObjectStore(Tl.store),t.createObjectStore(Tl.store,{keyPath:Tl.keyPath,autoIncrement:!0}).createIndex(Tl.userMutationsIndex,Tl.userMutationsKeyPath,{unique:!0});var r=e.store(Tl.store),i=n.map(function(t){return r.put(t)});return zl.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Fl.store,{keyPath:Fl.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Dl.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Al.store);e.createIndex(Al.readTimeIndex,Al.readTimeIndexPath,{unique:!1}),e.createIndex(Al.collectionReadTimeIndex,Al.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Ml.store,{keyPath:Ml.keyPath})}(t),function(t){t.createObjectStore(Vl.store,{keyPath:Vl.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(Al.store).$t(function(t,n){e+=xh(n)}).next(function(){var n=new Dl(e);return t.store(Dl.store).put(Dl.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(xl.store),r=t.store(Tl.store);return n.Nt().next(function(n){return zl.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Tl.userMutationsIndex,i).next(function(r){return zl.forEach(r,function(r){sa(r.userId===n.userId);var i=dh(e.R,r);return Oh(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Nl.store),n=t.store(Al.store);return t.store(Pl.store).get(Pl.key).next(function(t){var r=[];return n.$t(function(n,i){var s=new ba(n),o=function(t){return[0,_l(t)]}(s);r.push(e.get(o).next(function(n){return n?zl.resolve():function(n){return e.put(new Nl(0,_l(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return zl.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Ll.store,{keyPath:Ll.keyPath});var n=e.store(Ll.store),r=new _h,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:_l(i)})}};return e.store(Al.store).$t({kt:!0},function(t,e){var n=new ba(t);return i(n.popLast())}).next(function(){return e.store(kl.store).$t({kt:!0},function(t,e){var n=El(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(jl.store);return n.$t(function(t,r){var i=fh(r),s=ph(e.R,i);return n.put(s)})},t}();function Zh(t){t.createObjectStore(Nl.store,{keyPath:Nl.keyPath}).createIndex(Nl.documentTargetsIndex,Nl.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(jl.store,{keyPath:jl.keyPath}).createIndex(jl.queryTargetsIndexName,jl.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Pl.store)}var Jh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",td=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Yo(Xo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qh(this,i),this.Le=n+"main",this.R=new sh(u),this.Be=new $l(this.Le,11,new Yh(this.R)),this.qe=new jh(this.referenceDelegate,this.R),this.Ut=new wh,this.Ue=function(t,e){return new $h(t,e)}(this.R,this.Ut),this.Qe=new gh,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&ea("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Yo(Xo.FAILED_PRECONDITION,Jh);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Qo(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(je.b)(e,void 0,void 0,function(){return Object(je.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(je.b)(e,void 0,void 0,function(){return Object(je.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(je.b)(e,void 0,void 0,function(){return Object(je.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return nd(e).put(new Fl(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Ql(e))return ta("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ta("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return ed(t).get(Ol.key).next(function(t){return zl.resolve(e.tn(t))})},t.prototype.en=function(t){return nd(t).delete(this.clientId)},t.prototype.nn=function(){return Object(je.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(je.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=eh(t,Fl.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return zl.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?zl.resolve(!0):ed(t).get(Ol.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Yo(Xo.FAILED_PRECONDITION,Jh);return!1}}return!(!e.networkEnabled||!e.inForeground)||nd(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&ta("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(je.b)(this,void 0,void 0,function(){var t=this;return Object(je.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ol.store,Fl.store],function(e){var n=new th(e,Qo.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return nd(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Th.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ta("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ul,function(s){return r=new th(s,i.Ne?i.Ne.next():Qo.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw ea("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Yo(Xo.FAILED_PRECONDITION,Bl);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return ed(t).get(Ol.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Yo(Xo.FAILED_PRECONDITION,Jh)})},t.prototype.Ze=function(t){var e=new Ol(this.clientId,this.allowTabSynchronization,Date.now());return ed(t).put(Ol.key,e)},t.yt=function(){return $l.yt()},t.prototype.Xe=function(t){var e=this,n=ed(t);return n.get(Ol.key).next(function(t){return e.tn(t)?(ta("IndexedDbPersistence","Releasing primary lease."),n.delete(Ol.key)):zl.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ea("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return ta("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ea("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){ea("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ed(t){return eh(t,Ol.store)}function nd(t){return eh(t,Fl.store)}function rd(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var id=function(t,e){this.progress=t,this.wn=e},sd=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ja.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Cu(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new ja(e)).next(function(t){var e=Oc();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=Oc();return this.Ut.getCollectionParents(t,i).next(function(o){return zl.forEach(o,function(o){var a=function(t,e){return new yu(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c);null==l&&(l=Xa.newInvalidDocument(c),r=r.insert(c,l)),ec(u,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Au(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Rc(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof oc&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),od=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Rc(),i=Rc(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ad=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(fa.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(_u(e)||wu(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(Jo()<=Vn.a.DEBUG&&ta("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Iu(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new _c(Du(t));return e.forEach(function(e,r){Au(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Jo()<=Vn.a.DEBUG&&ta("QueryEngine","Using full collection scan to execute query:",Iu(e)),this.Sn.getDocumentsMatchingQuery(t,e,fa.min())},t}(),ud=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new yc(ca),this.kn=new zh(function(t){return Ja(t)},tu),this.$n=fa.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new sd(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function cd(t,e,n,r){return new ud(t,e,n,r)}function ld(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(je.d)(this,function(o){switch(o.label){case 0:return n=oa(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new sd(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=Rc(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function hd(t,e){var n=oa(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=zl.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);sa(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function dd(t){var e=oa(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function fd(t,e){var n=oa(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return sa(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.qe.updateTargetData(t,c))}}});var a=Ec();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(pd(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(fa.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(u)}return zl.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function pd(t,e,n,r,i){var s=Rc();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Ec();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(fa.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):ta("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function md(t,e){var n=oa(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function gd(t,e){var n=oa(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?zl.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new ih(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function yd(t,e,n){return Object(je.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(je.d)(this,function(a){switch(a.label){case 0:r=oa(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Ql(o=a.sent()))throw o;return ta("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function bd(t,e,n){var r=oa(t),i=fa.min(),s=Rc();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=oa(t),i=r.kn.get(n);return void 0!==i?zl.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,xu(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:fa.min(),n?s:Rc())}).next(function(t){return{documents:t,Bn:s}})})}function vd(t,e){var n=oa(t),r=oa(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function _d(t){var e=oa(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=oa(t),i=Ec(),s=uh(n),o=Qh(e),a=IDBKeyRange.lowerBound(s,!0);return o.$t({index:Al.readTimeIndex,range:a},function(t,e){var n=oh(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:ch(s)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function wd(t){return Object(je.b)(this,void 0,void 0,function(){var e;return Object(je.d)(this,function(n){return[2,(e=oa(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Qh(t),n=fa.min();return e.$t({index:Al.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=ch(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function Sd(t,e,n,r){return Object(je.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,d,f;return Object(je.d)(this,function(p){switch(p.label){case 0:for(i=oa(t),s=Rc(),o=Ec(),a=Tc(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,gd(i,function(t){return xu(vu(ba.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return pd(t,d,o,fa.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,s,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Ed(t,e,n){return void 0===n&&(n=Rc()),Object(je.b)(this,void 0,void 0,function(){var r,i;return Object(je.d)(this,function(s){switch(s.label){case 0:return[4,gd(t,xu(mh(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=oa(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=Kc(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Qe.saveNamedQuery(t,e);var o=r.withResumeToken(Sa.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var Cd=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return zl.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Kc(n.createTime)}),zl.resolve()},t.prototype.getNamedQuery=function(t,e){return zl.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:mh(t.bundledQuery),readTime:Kc(t.readTime)}}(e)),zl.resolve()},t}(),Od=function(){function t(){this.Wn=new _c(xd.Gn),this.zn=new _c(xd.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new xd(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new xd(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new ja(new ba([])),r=new xd(n,t),i=new xd(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new ja(new ba([])),n=new xd(e,t),r=new xd(e,t+1),i=Rc();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new xd(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),xd=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return ja.comparator(t.key,e.key)||ca(t.ns,e.ns)},t.Hn=function(t,e){return ca(t.ns,e.ns)||ja.comparator(t.key,e.key)},t}(),Td=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new _c(xd.Gn)}return t.prototype.checkEmpty=function(t){return zl.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new nh(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.rs=this.rs.add(new xd(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return zl.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return zl.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return zl.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return zl.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return zl.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new xd(e,0),i=new xd(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),zl.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new _c(ca);return e.forEach(function(t){var e=new xd(t,0),i=new xd(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),zl.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ja.isDocumentKey(i)||(i=i.child(""));var s=new xd(new ja(i),0),o=new _c(ca);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),zl.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;sa(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return zl.forEach(e.mutations,function(i){var s=new xd(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new xd(e,0),r=this.rs.firstAfterOrEqual(n);return zl.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return zl.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),kd=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new yc(ja.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return zl.resolve(n?n.document.clone():Xa.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Ec();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Xa.newInvalidDocument(t))}),zl.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Ec(),i=new ja(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||Au(e,u)&&(r=r.insert(u.key,u.clone()))}return zl.resolve(r)},t.prototype.fs=function(t,e){return zl.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Rd(this)},t.prototype.getSize=function(t){return zl.resolve(this.size)},t}(),Rd=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(je.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),zl.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Wh),Id=function(){function t(t){this.persistence=t,this.ds=new zh(function(t){return Ja(t)},tu),this.lastRemoteSnapshotVersion=fa.min(),this.highestTargetId=0,this.ws=0,this._s=new Od,this.targetCount=0,this.ys=Dh.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),zl.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return zl.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return zl.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),zl.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),zl.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Dh(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,zl.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),zl.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,zl.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),zl.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return zl.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return zl.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),zl.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),zl.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),zl.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return zl.resolve(n)},t.prototype.containsKey=function(t,e){return zl.resolve(this._s.containsKey(e))},t}(),Ad=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Qo(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Id(this),this.Ut=new vh,this.Ue=function(t,e){return new kd(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new sh(e),this.Qe=new Cd(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Td(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;ta("MemoryPersistence","Starting transaction:",t);var i=new Dd(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return zl.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Dd=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(je.c)(e,t),e}(ql),jd=function(){function t(t){this.persistence=t,this.As=new Od,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ia()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),zl.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),zl.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),zl.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zl.forEach(this.vs,function(r){var i=ja.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return zl.or([function(){return zl.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Nd=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Pd(t,e){return"firestore_clients_"+t+"_"+e}function Ld(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Fd(t,e){return"firestore_targets_"+t+"_"+e}Nd.UNAUTHENTICATED=new Nd(null),Nd.GOOGLE_CREDENTIALS=new Nd("google-credentials-uid"),Nd.FIRST_PARTY=new Nd("first-party-uid");var Md=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Yo(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(ea("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vd=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Yo(i.error.code,i.error.message)),s?new t(e,i.state,r):(ea("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ud=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Ac(),o=0;i&&o<r.activeTargetIds.length;++o)i=Da(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(ea("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Bd=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ea("SharedClientState","Failed to parse online state: "+e),null)},t}(),qd=function(){function t(){this.activeTargetIds=Ac()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Hd=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new yc(ca),this.started=!1,this.$s=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Pd(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new qd),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(je.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(je.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Pd(this.persistenceKey,r)))&&(s=Ud.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Fd(this.persistenceKey,t));if(n){var r=Vd.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Fd(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ta("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ta("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ta("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ta("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void ea("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(je.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(je.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=Qo.o;if(null!=t)try{var n=JSON.parse(t);sa("number"==typeof n),e=n}catch(t){ea("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Qo.o&&this.sequenceNumberHandler(o);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Md(this.currentUser,t,e,n),i=Ld(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Ld(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Fd(this.persistenceKey,t),i=new Vd(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Ud.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Md.Vs(new Nd(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Vd.Vs(r,e)},t.prototype.js=function(t){return Bd.Vs(t)},t.prototype.ii=function(t){return Object(je.b)(this,void 0,void 0,function(){return Object(je.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ta("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Ac();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),zd=function(){function t(){this.li=new qd,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new qd,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Wd=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),$d=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){ta("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){ta("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Kd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Gd=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Qd=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(je.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new Go;o.listenOnce(zo.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Ho.NO_ERROR:var e=o.getResponseJson();ta("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Ho.TIMEOUT:ta("Connection",'RPC "'+t+'" timed out'),s(new Yo(Xo.DEADLINE_EXCEEDED,"Request time out"));break;case Ho.HTTP_ERROR:var n=o.getStatus();if(ta("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Xo).indexOf(e)>=0?e:Xo.UNKNOWN}(r.status);s(new Yo(a,r.message))}else s(new Yo(Xo.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Yo(Xo.UNAVAILABLE,"Connection failed."));break;default:ia()}}finally{ta("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Do,i=Ni(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new $o({})),this.Fi(s.initMessageHeaders,e),Object(Mn.o)()||Object(Mn.q)()||Object(Mn.m)()||Object(Mn.n)()||Object(Mn.r)()||Object(Mn.l)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");ta("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Gd({Ei:function(t){c?ta("Connection","Not sending because WebChannel is closed:",t):(u||(ta("Connection","Opening WebChannel transport."),a.open(),u=!0),ta("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Ko.EventType.OPEN,function(){c||ta("Connection","WebChannel transport opened.")}),h(a,Ko.EventType.CLOSE,function(){c||(c=!0,ta("Connection","WebChannel transport closed"),l.Vi())}),h(a,Ko.EventType.ERROR,function(t){c||(c=!0,na("Connection","WebChannel transport errored:",t),l.Vi(new Yo(Xo.UNAVAILABLE,"The operation could not be completed")))}),h(a,Ko.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];sa(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ta("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=lc[t];if(void 0!==e)return gc(e)}(i),o=r.message;void 0===s&&(s=Xo.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Yo(s,o)),a.close()}else ta("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Wo.STAT_EVENT,function(t){10===t.stat?ta("Connection","Detected buffering proxy"):11===t.stat&&ta("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);ta("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return ta("RestConnection","Received: ",t),t},function(e){throw na("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.8",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Kd[t]},t}());function Xd(){return"undefined"!=typeof window?window:null}function Yd(){return"undefined"!=typeof document?document:null}function Zd(t){return new Hc(t,!0)}var Jd=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&ta("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),tf=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Jd(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(je.b)(this,void 0,void 0,function(){return Object(je.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(je.b)(this,void 0,void 0,function(){return Object(je.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(je.b)(this,void 0,void 0,function(){return Object(je.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Xo.RESOURCE_EXHAUSTED?(ea(e.toString()),ea("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Xo.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Yo(Xo.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(je.b)(t,void 0,void 0,function(){return Object(je.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return ta("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(ta("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),ef=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(je.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ia()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(sa(void 0===e||"string"==typeof e),Sa.fromBase64String(e||"")):(sa(void 0===e||e instanceof Uint8Array),Sa.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Xo.UNKNOWN:gc(t.code);return new Yo(e,t.message||"")}(a);n=new Lc(r,i,s,o||null)}else if("documentChange"in e){i=Yc(t,(r=e.documentChange).document.name),s=Kc(r.document.updateTime);var a=new Ga({mapValue:{fields:r.document.fields}}),u=(o=Xa.newFoundDocument(i,s,a),r.targetIds||[]);n=new Nc(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Yc(t,(r=e.documentDelete).document),s=r.readTime?Kc(r.readTime):fa.min(),a=Xa.newNoDocument(i,s),n=new Nc([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Yc(t,(r=e.documentRemove).document),n=new Nc([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return ia();var c=e.filter;i=new pc(r=c.count||0),n=new Pc(s=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return fa.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?fa.min():e.readTime?Kc(e.readTime):fa.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=tl(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=eu(r)?{documents:ol(t,r)}:{query:al(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Wc(t,e.resumeToken):e.snapshotVersion.compareTo(fa.min())>0&&(n.readTime=zc(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ia()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=tl(this.R),e.removeTarget=t,this.cr(e)},e}(tf),nf=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(je.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(sa(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(sa(void 0!==e),t.map(function(t){return function(t,e){var n=Kc(t.updateTime?t.updateTime:e);return n.isEqual(fa.min())&&(n=Kc(e)),new Xu(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Kc(t.commitTime);return this.listener.Tr(n,e)}return sa(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=tl(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return il(e.R,t)})};this.cr(n)},e}(tf),rf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(je.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Yo(Xo.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Xo.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Yo(Xo.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Xo.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Yo(Xo.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),sf=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(ea(e),this.Vr=!1):ta("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),of=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(je.b)(s,void 0,void 0,function(){return Object(je.d)(this,function(t){switch(t.label){case 0:return mf(this)?(ta("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(je.b)(this,void 0,void 0,function(){var e;return Object(je.d)(this,function(n){switch(n.label){case 0:return(e=oa(t)).Or.add(4),[4,uf(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,af(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new sf(n,r)};function af(t){return Object(je.b)(this,void 0,void 0,function(){var e,n;return Object(je.d)(this,function(r){switch(r.label){case 0:if(!mf(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function uf(t){return Object(je.b)(this,void 0,void 0,function(){var e,n;return Object(je.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function cf(t,e){var n=oa(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),pf(n)?ff(n):If(n).er()&&hf(n,e))}function lf(t,e){var n=oa(t),r=If(n);n.$r.delete(e),r.er()&&df(n,e),0===n.$r.size&&(r.er()?r.ir():mf(n)&&n.Br.set("Unknown"))}function hf(t,e){t.qr.U(e.targetId),If(t).mr(e)}function df(t,e){t.qr.U(e),If(t).yr(e)}function ff(t){t.qr=new Mc({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),If(t).start(),t.Br.Sr()}function pf(t){return mf(t)&&!If(t).tr()&&t.$r.size>0}function mf(t){return 0===oa(t).Or.size}function gf(t){t.qr=void 0}function yf(t){return Object(je.b)(this,void 0,void 0,function(){return Object(je.d)(this,function(e){return t.$r.forEach(function(e,n){hf(t,e)}),[2]})})}function bf(t,e){return Object(je.b)(this,void 0,void 0,function(){return Object(je.d)(this,function(n){return gf(t),pf(t)?(t.Br.Nr(e),ff(t)):t.Br.set("Unknown"),[2]})})}function vf(t,e,n){return Object(je.b)(this,void 0,void 0,function(){var r,i,s;return Object(je.d)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof Lc&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(je.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.$r.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.$r.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),ta("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,_f(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Nc?t.qr.X(e):e instanceof Pc?t.qr.rt(e):t.qr.et(e),n.isEqual(fa.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,dd(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Sa.EMPTY_BYTE_STRING,n.snapshotVersion)),df(t,e);var r=new ih(n.target,e,1,n.sequenceNumber);hf(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return ta("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,_f(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function _f(t,e,n){return Object(je.b)(this,void 0,void 0,function(){var r=this;return Object(je.d)(this,function(i){switch(i.label){case 0:if(!Ql(e))throw e;return t.Or.add(1),[4,uf(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return dd(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(je.b)(r,void 0,void 0,function(){return Object(je.d)(this,function(e){switch(e.label){case 0:return ta("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,af(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function wf(t,e){return e().catch(function(n){return _f(t,n,e)})}function Sf(t){return Object(je.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(je.d)(this,function(o){switch(o.label){case 0:e=oa(t),n=Af(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return mf(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,md(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Af(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,_f(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Ef(e)&&Cf(e),[2]}})})}function Ef(t){return mf(t)&&!Af(t).tr()&&t.kr.length>0}function Cf(t){Af(t).start()}function Of(t){return Object(je.b)(this,void 0,void 0,function(){return Object(je.d)(this,function(e){return Af(t).Ar(),[2]})})}function xf(t){return Object(je.b)(this,void 0,void 0,function(){var e,n,r;return Object(je.d)(this,function(i){for(e=Af(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Tf(t,e,n){return Object(je.b)(this,void 0,void 0,function(){var r,i;return Object(je.d)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=rh.from(r,e,n),[4,wf(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Sf(t)];case 2:return s.sent(),[2]}})})}function kf(t,e){return Object(je.b)(this,void 0,void 0,function(){return Object(je.d)(this,function(n){switch(n.label){case 0:return e&&Af(t).pr?[4,function(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r;return Object(je.d)(this,function(i){switch(i.label){case 0:return mc(r=e.code)&&r!==Xo.ABORTED?(n=t.kr.shift(),Af(t).sr(),[4,wf(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Sf(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ef(t)&&Cf(t),[2]}})})}function Rf(t,e){return Object(je.b)(this,void 0,void 0,function(){var n;return Object(je.d)(this,function(r){switch(r.label){case 0:return n=oa(t),e?(n.Or.delete(2),[4,af(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,uf(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function If(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=oa(t);return r.br(),new ef(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:yf.bind(null,t),Ri:bf.bind(null,t),_r:vf.bind(null,t)}),t.Mr.push(function(n){return Object(je.b)(e,void 0,void 0,function(){return Object(je.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),pf(t)?ff(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),gf(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Af(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=oa(t);return r.br(),new nf(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Of.bind(null,t),Ri:kf.bind(null,t),Ir:xf.bind(null,t),Tr:Tf.bind(null,t)}),t.Mr.push(function(n){return Object(je.b)(e,void 0,void 0,function(){return Object(je.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Sf(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(ta("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var Df=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Hl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Yo(Xo.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function jf(t,e){if(ea("AsyncQueue",e+": "+t),Ql(t))return new Yo(Xo.UNAVAILABLE,e+": "+t);throw t}var Nf=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ja.comparator(e.key,n.key)}:function(t,e){return ja.comparator(t.key,e.key)},this.keyedMap=Oc(),this.sortedSet=new yc(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Pf=function(){function t(){this.Kr=new yc(ja.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):ia():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Lf=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Nf.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ku(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ff=function(){this.Wr=void 0,this.listeners=[]},Mf=function(){this.queries=new zh(function(t){return Ru(t)},ku),this.onlineState="Unknown",this.Gr=new Set};function Vf(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(je.d)(this,function(c){switch(c.label){case 0:if(n=oa(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Ff),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=jf(a,"Initialization of query '"+Iu(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&Hf(n),[2]}})})}function Uf(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(je.d)(this,function(a){return n=oa(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Bf(t,e){for(var n=oa(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(o)&&(r=!0);a.Wr=o}}r&&Hf(n)}function qf(t,e,n){var r=oa(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Hf(t){t.Gr.forEach(function(t){t.next()})}var zf=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Lf(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Lf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Wf=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),$f=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Yc(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?rl(this.R,t.document,!1):Xa.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Kc(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new $f(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Rc()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(je.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(je.d)(this,function(s){switch(s.label){case 0:return[4,Sd(this.localStore,new $f(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Ed(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new id(Object.assign({},this.progress),t))]}})})}}();var Kf=function(t){this.key=t},Gf=function(t){this.key=t},Qf=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Rc(),this.mutatedKeys=Rc(),this.lo=Du(t),this.fo=new Nf(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Pf,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=_u(this.query)&&i.size===this.query.limit?i.last():null,c=wu(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Au(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),_u(this.query)||wu(this.query))for(;o.size>this.query.limit;){var l=_u(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ia()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==s.length||u?{snapshot:new Lf(this.query,t.fo,i,s,t.mutatedKeys,0===a,u,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Pf,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Rc(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Gf(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Kf(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Rc();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Lf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Xf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Yf=function(t){this.key=t,this.bo=!1},Zf=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new zh(function(t){return Ru(t)},ku),this.Vo=new Map,this.So=new Set,this.Do=new yc(ja.comparator),this.Co=new Map,this.No=new Od,this.xo={},this.Fo=new Map,this.ko=Dh.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Jf(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(je.d)(this,function(a){switch(a.label){case 0:return n=kp(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,gd(n.localStore,xu(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,tp(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&cf(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function tp(t,e,n,r){return Object(je.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(je.d)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(je.b)(this,void 0,void 0,function(){var i,s,o;return Object(je.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,bd(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(fp(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,bd(t.localStore,e,!0)];case 1:return i=l.sent(),s=new Qf(e,i.Bn),o=s._o(i.documents),a=jc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a),fp(t,n,u.To),c=new Xf(e,n,s),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function ep(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r,i;return Object(je.d)(this,function(s){switch(s.label){case 0:return n=oa(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!ku(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,yd(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),lf(n.remoteStore,r.targetId),hp(n,r.targetId)}).catch(Fh)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return hp(n,r.targetId),[4,yd(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function np(t,e,n){return Object(je.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(je.d)(this,function(a){switch(a.label){case 0:r=Rp(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=oa(t),i=da.now(),s=e.reduce(function(t,e){return t.add(e.key)},Rc());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=nc(c,n.get(c.key));null!=l&&o.push(new oc(c.key,l,Qa(l.value.mapValue),Yu.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new yc(ca)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,gp(r,i.changes)];case 3:return a.sent(),[4,Sf(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=jf(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function rp(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r;return Object(je.d)(this,function(i){switch(i.label){case 0:n=oa(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,fd(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(sa(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?sa(r.bo):t.removedDocuments.size>0&&(sa(r.bo),r.bo=!1))}),[4,gp(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Fh(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function ip(t,e,n){var r=oa(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=oa(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&Hf(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function sp(t,e,n){return Object(je.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(je.d)(this,function(c){switch(c.label){case 0:return(r=oa(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new yc(ja.comparator)).insert(s,Xa.newNoDocument(s,fa.min())),a=Rc().add(s),u=new Dc(fa.min(),new Map,new _c(ca),o,a),[4,rp(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),mp(r),[3,4];case 2:return[4,yd(r.localStore,e,!1).then(function(){return hp(r,e,n)}).catch(Fh)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function op(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r,i;return Object(je.d)(this,function(s){switch(s.label){case 0:n=oa(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,hd(n.localStore,e)];case 2:return i=s.sent(),lp(n,r,null),cp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,gp(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Fh(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function ap(t,e,n){return Object(je.b)(this,void 0,void 0,function(){var r,i;return Object(je.d)(this,function(s){switch(s.label){case 0:r=oa(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=oa(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return sa(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),lp(r,e,n),cp(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,gp(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Fh(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function up(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(je.d)(this,function(a){switch(a.label){case 0:mf((n=oa(t)).remoteStore)||ta("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=oa(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=jf(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function cp(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function lp(t,e,n){var r=oa(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function hp(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||dp(t,e)})}function dp(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(lf(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),mp(t))}function fp(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Kf?(t.No.addReference(s.key,e),pp(t,s)):s instanceof Gf?(ta("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||dp(t,s.key)):ia()}}function pp(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(ta("SyncEngine","New document in limbo: "+n),t.So.add(r),mp(t))}function mp(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ja(ba.fromString(e)),r=t.ko.next();t.Co.set(r,new Yf(n)),t.Do=t.Do.insert(n,r),cf(t.remoteStore,new ih(xu(vu(n.path)),r,2,Qo.o))}}function gp(t,e,n){return Object(je.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(je.d)(this,function(a){switch(a.label){case 0:return r=oa(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=od.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(je.d)(this,function(l){switch(l.label){case 0:n=oa(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return zl.forEach(e,function(e){return zl.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return zl.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Ql(r=l.sent()))throw r;return ta("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function yp(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r;return Object(je.d)(this,function(i){switch(i.label){case 0:return(n=oa(t)).currentUser.isEqual(e)?[3,3]:(ta("SyncEngine","User change. New user:",e.toKey()),[4,ld(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Yo(Xo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,gp(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function bp(t,e){var n=oa(t),r=n.Co.get(e);if(r&&r.bo)return Rc().add(r.key);var i=Rc(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Po.get(a[o]);i=i.unionWith(u.view.wo)}return i}function vp(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r,i;return Object(je.d)(this,function(s){switch(s.label){case 0:return[4,bd((n=oa(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&fp(n,e.targetId,i.To),i)]}})})}function _p(t){return Object(je.b)(this,void 0,void 0,function(){var e;return Object(je.d)(this,function(n){return[2,_d((e=oa(t)).localStore).then(function(t){return gp(e,t)})]})})}function wp(t,e,n,r){return Object(je.b)(this,void 0,void 0,function(){var i,s;return Object(je.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=oa(t),r=oa(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):zl.resolve(null)})})}((i=oa(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Sf(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(lp(i,e,r||null),cp(i,e),function(t,e){oa(oa(t)._n).Gt(e)}(i.localStore,e)):ia(),o.label=4;case 4:return[4,gp(i,s)];case 5:return o.sent(),[3,7];case 6:ta("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function Sp(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(je.d)(this,function(c){switch(c.label){case 0:return kp(n=oa(t)),Rp(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Ep(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,Rf(n.remoteStore,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)cf(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return hp(n,e),yd(n.localStore,e,!0)}),lf(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Ep(n,a)];case 5:return c.sent(),function(t){var e=oa(t);e.Co.forEach(function(t,n){lf(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new yc(ja.comparator)}(n),n.$o=!1,[4,Rf(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Ep(t,e,n){return Object(je.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,d,f,p;return Object(je.d)(this,function(m){switch(m.label){case 0:n=oa(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(c=n.Vo.get(a=o[s]))&&0!==c.length?[4,gd(n.localStore,xu(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,vp(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,vd(n.localStore,a)];case 8:return p=m.sent(),[4,gd(n.localStore,p)];case 9:return u=m.sent(),[4,tp(n,Cp(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Cp(t){return bu(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Op(t){var e=oa(t);return oa(oa(e.localStore).persistence).fn()}function xp(t,e,n,r){return Object(je.b)(this,void 0,void 0,function(){var i,s,o;return Object(je.d)(this,function(a){switch(a.label){case 0:return(i=oa(t)).$o?(ta("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,_d(i.localStore)];case 3:return s=a.sent(),o=Dc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,gp(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,yd(i.localStore,e,!0)];case 6:return a.sent(),hp(i,e,r),[3,8];case 7:ia(),a.label=8;case 8:return[2]}})})}function Tp(t,e,n){return Object(je.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(je.d)(this,function(d){switch(d.label){case 0:if(!(r=kp(t)).$o)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(ta("SyncEngine","Adding an already active target "+o),[3,5]):[4,vd(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,gd(r.localStore,a)];case 3:return u=d.sent(),[4,tp(r,Cp(a),u.targetId,!1)];case 4:d.sent(),cf(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(je.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,yd(r.localStore,t,!1).then(function(){lf(r.remoteStore,t),hp(r,t)}).catch(Fh)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function kp(t){var e=oa(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sp.bind(null,e),e.vo._r=Bf.bind(null,e.eventManager),e.vo.Mo=qf.bind(null,e.eventManager),e}function Rp(t){var e=oa(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=op.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ap.bind(null,e),e}var Ip=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(je.b)(this,void 0,void 0,function(){return Object(je.d)(this,function(e){switch(e.label){case 0:return this.R=Zd(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return cd(this.persistence,new ad,t.initialUser,this.R)},t.prototype.qo=function(t){return new Ad(jd.bs,this.R)},t.prototype.Bo=function(t){return new zd},t.prototype.terminate=function(){return Object(je.b)(this,void 0,void 0,function(){return Object(je.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Ap=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(je.c)(e,t),e.prototype.initialize=function(e){return Object(je.b)(this,void 0,void 0,function(){return Object(je.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,wd(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Rp(this.Ko.syncEngine)];case 4:return n.sent(),[4,Sf(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return cd(this.persistence,new ad,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Uh(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=rd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ch.withCacheSize(this.cacheSizeBytes):Ch.DEFAULT;return new td(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Xd(),Yd(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new zd},e}(Ip),Dp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(je.c)(e,t),e.prototype.initialize=function(e){return Object(je.b)(this,void 0,void 0,function(){var n,r=this;return Object(je.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Hd?(this.sharedClientState.syncEngine={ui:wp.bind(null,n),ai:xp.bind(null,n),hi:Tp.bind(null,n),fn:Op.bind(null,n),ci:_p.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(je.b)(r,void 0,void 0,function(){return Object(je.d)(this,function(e){switch(e.label){case 0:return[4,Sp(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Xd();if(!Hd.yt(e))throw new Yo(Xo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=rd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Hd(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Ap),jp=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(je.b)(this,void 0,void 0,function(){var n=this;return Object(je.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return ip(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=yp.bind(null,this.syncEngine),[4,Rf(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Mf},t.prototype.createDatastore=function(t){var e=Zd(t.databaseInfo.databaseId),n=new Qd(t.databaseInfo);return function(t,e,n){return new rf(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return ip(o.syncEngine,t,0)},s=$d.yt()?new $d:new Wd,new of(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new Zf(t,e,n,r,i,s);return o&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(je.b)(this,void 0,void 0,function(){var e;return Object(je.d)(this,function(n){switch(n.label){case 0:return e=oa(t),ta("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,uf(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Np=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Pp=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Hl,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(je.b)(this,void 0,void 0,function(){return Object(je.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(je.b)(this,void 0,void 0,function(){return Object(je.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(je.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(je.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Wf(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(je.b)(this,void 0,void 0,function(){var t,e;return Object(je.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(je.b)(this,void 0,void 0,function(){var e;return Object(je.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(je.b)(this,void 0,void 0,function(){var t,e;return Object(je.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(je.b)(this,void 0,void 0,function(){var e,n=this;return Object(je.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Yo(Xo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(je.d)(this,function(u){switch(u.label){case 0:return n=oa(t),r=tl(n.R)+"/documents",i={documents:e.map(function(t){return Xc(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){sa(!!e.found);var n=Yc(t,e.found.name),r=Kc(e.found.updateTime),i=new Ga({mapValue:{fields:e.found.fields}});return Xa.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){sa(!!e.missing),sa(!!e.readTime);var n=Yc(t,e.missing),r=Kc(e.readTime);return Xa.newNoDocument(n,r)}(t,e):ia()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());sa(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new dc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(je.b)(this,void 0,void 0,function(){var t,e=this;return Object(je.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ja.fromPath(n);e.mutations.push(new fc(r,e.precondition(r)))}),[4,function(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r,i;return Object(je.d)(this,function(s){switch(s.label){case 0:return n=oa(t),r=tl(n.R)+"/documents",i={writes:e.map(function(t){return il(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ia();e=fa.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Yo(Xo.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Yu.updateTime(e):Yu.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(fa.min()))throw new Yo(Xo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yu.updateTime(e)}return Yu.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Lp=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Jd(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(je.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(je.d)(this,function(r){return t=new Pp(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Ia(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!mc(e)}return!1},t}(),Fp=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Nd.UNAUTHENTICATED,this.clientId=ua.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(je.b)(r,void 0,void 0,function(){return Object(je.d)(this,function(e){switch(e.label){case 0:return ta("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(je.b)(this,void 0,void 0,function(){return Object(je.d)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Yo(Xo.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Hl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(je.b)(t,void 0,void 0,function(){var t,n;return Object(je.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=jf(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Mp(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(je.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),ta("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(je.b)(i,void 0,void 0,function(){return Object(je.d)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,ld(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Vp(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r;return Object(je.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Up(t)];case 1:return n=i.sent(),ta("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r;return Object(je.d)(this,function(i){switch(i.label){case 0:return(n=oa(t)).asyncQueue.verifyOperationInProgress(),ta("RemoteStore","RemoteStore received new credentials"),r=mf(n),n.Or.add(3),[4,uf(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,af(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Up(t){return Object(je.b)(this,void 0,void 0,function(){return Object(je.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(ta("FirestoreClient","Using default OfflineComponentProvider"),[4,Mp(t,new Ip)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Bp(t){return Object(je.b)(this,void 0,void 0,function(){return Object(je.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(ta("FirestoreClient","Using default OnlineComponentProvider"),[4,Vp(t,new jp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function qp(t){return Up(t).then(function(t){return t.persistence})}function Hp(t){return Up(t).then(function(t){return t.localStore})}function zp(t){return Bp(t).then(function(t){return t.remoteStore})}function Wp(t){return Bp(t).then(function(t){return t.syncEngine})}function $p(t){return Object(je.b)(this,void 0,void 0,function(){var e,n;return Object(je.d)(this,function(r){switch(r.label){case 0:return[4,Bp(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Jf.bind(null,e.syncEngine),n.onUnlisten=ep.bind(null,e.syncEngine),n)]}})})}function Kp(t,e,n){var r=this;void 0===n&&(n={});var i=new Hl;return t.asyncQueue.enqueueAndForget(function(){return Object(je.b)(r,void 0,void 0,function(){var r;return Object(je.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Np({next:function(s){e.enqueueAndForget(function(){return Uf(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Yo(Xo.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Yo(Xo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new zf(vu(n.path),s,{includeMetadataChanges:!0,so:!0});return Vf(t,o)},[4,$p(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Gp(t,e,n){var r=this;void 0===n&&(n={});var i=new Hl;return t.asyncQueue.enqueueAndForget(function(){return Object(je.b)(r,void 0,void 0,function(){var r;return Object(je.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Np({next:function(n){e.enqueueAndForget(function(){return Uf(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Yo(Xo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new zf(n,s,{includeMetadataChanges:!0,so:!0});return Vf(t,o)},[4,$p(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Qp=function(t,e,n,r,i,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a},Xp=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Yp=new Map,Zp=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Jp=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Nd.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),tm=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),em=function(){function t(t){var e=this;this.currentUser=Nd.UNAUTHENTICATED,this.oc=new Hl,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){ta("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(ta("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(ta("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(sa("string"==typeof n.accessToken),new Zp(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Object(je.b)(n,void 0,void 0,function(){return Object(je.d)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return sa(null===t||"string"==typeof t),new Nd(t)},t}(),nm=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Nd.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),rm=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new nm(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Nd.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function im(t,e,n){if(!n)throw new Yo(Xo.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function sm(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Yo(Xo.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function om(t,e,n,r){if(!0===e&&!0===r)throw new Yo(Xo.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function am(t){if(!ja.isDocumentKey(t))throw new Yo(Xo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function um(t){if(ja.isDocumentKey(t))throw new Yo(Xo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function cm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ia()}function lm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Yo(Xo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=cm(t);throw new Yo(Xo.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function hm(t,e){if(e<=0)throw new Yo(Xo.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var dm=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Yo(Xo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Yo(Xo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,om("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),fm=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dm({}),this._settingsFrozen=!1,t instanceof Xp?(this._databaseId=t,this._credentials=new Jp):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Yo(Xo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xp(t.options.projectId)}(t),this._credentials=new em(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Yo(Xo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Yo(Xo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dm(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Jp;switch(t.type){case"gapi":var e=t.client;return sa(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new rm(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Yo(Xo.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Yp.get(this))&&(ta("ComponentProvider","Removing Datastore"),Yp.delete(this),t.terminate()),Promise.resolve();var t},t}(),pm=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new gm(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),mm=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),gm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,vu(r))||this)._path=r,i.type="collection",i}return Object(je.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new pm(this.firestore,null,new ja(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(mm);function ym(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Mn.i)(t),im("collection","path",e),t instanceof fm)return um(n=ba.fromString.apply(ba,Object(je.f)([e],r))),new gm(t,null,n);if(!(t instanceof pm||t instanceof gm))throw new Yo(Xo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return um(n=ba.fromString.apply(ba,Object(je.f)([t.path],r)).child(ba.fromString(e))),new gm(t.firestore,null,n)}function bm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Mn.i)(t),1===arguments.length&&(e=ua.u()),im("doc","path",e),t instanceof fm)return am(n=ba.fromString.apply(ba,Object(je.f)([e],r))),new pm(t,null,new ja(n));if(!(t instanceof pm||t instanceof gm))throw new Yo(Xo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return am(n=t._path.child(ba.fromString.apply(ba,Object(je.f)([e],r)))),new pm(t.firestore,t instanceof gm?t.converter:null,new ja(n))}function vm(t,e){return t=Object(Mn.i)(t),e=Object(Mn.i)(e),(t instanceof pm||t instanceof gm)&&(e instanceof pm||e instanceof gm)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function _m(t,e){return t=Object(Mn.i)(t),e=Object(Mn.i)(e),t instanceof mm&&e instanceof mm&&t.firestore===e.firestore&&ku(t._query,e._query)&&t.converter===e.converter}var wm=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new Jd(this,"async_queue_retry"),this.Tc=function(){var e=Yd();e&&ta("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Yd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ic(),this.Ac(t)},t.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var t=Yd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tc)}},t.prototype.enqueue=function(t){return this.Ic(),this._c?new Promise(function(t){}):this.Ac(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.Rc()})},t.prototype.Rc=function(){return Object(je.b)(this,void 0,void 0,function(){var t,e=this;return Object(je.d)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ql(t=n.sent()))throw t;return ta("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.Rc()}),n.label=5;case 5:return[2]}})})},t.prototype.Ac=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,ea("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ic(),this.Ec.indexOf(t)>-1&&(e=0);var i=Df.createAndSchedule(this,t,e,n,function(t){return r.bc(t)});return this.mc.push(i),i},t.prototype.Ic=function(){this.yc&&ia()},t.prototype.verifyOperationInProgress=function(){},t.prototype.vc=function(){return Object(je.b)(this,void 0,void 0,function(){var t;return Object(je.d)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Pc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Vc=function(t){var e=this;return this.vc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.vc()})},t.prototype.Sc=function(t){this.Ec.push(t)},t.prototype.bc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Sm(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Hl,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Em=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new wm,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(je.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Om(this),this._firestoreClient.terminate()},e}(fm);function Cm(t){return t._firestoreClient||Om(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Om(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Qp(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Fp(t._credentials,t._queue,r)}function xm(t,e,n){var r=this,i=new Hl;return t.asyncQueue.enqueue(function(){return Object(je.b)(r,void 0,void 0,function(){var r;return Object(je.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Mp(t,n)];case 1:return s.sent(),[4,Vp(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Xo.FAILED_PRECONDITION||t.code===Xo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Tm(t){if(t._initialized||t._terminated)throw new Yo(Xo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var km=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Yo(Xo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _a(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Rm=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Sa.fromBase64String(e))}catch(e){throw new Yo(Xo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Sa.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Im=function(t){this._methodName=t},Am=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Yo(Xo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Yo(Xo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return ca(this._lat,t._lat)||ca(this._long,t._long)},t}(),Dm=/^__.*__$/,jm=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new oc(t,this.data,this.fieldMask,e,this.fieldTransforms):new sc(t,this.data,e,this.fieldTransforms)},t}(),Nm=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new oc(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Pm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ia()}}var Lm=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),t.prototype.Nc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.xc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.kc(t),r},t.prototype.$c=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},t.prototype.Oc=function(t){return this.Nc({path:void 0,Fc:!0})},t.prototype.Mc=function(t){return ng(t,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Dc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.kc(this.path.get(t))},t.prototype.kc=function(t){if(0===t.length)throw this.Mc("Document fields must not be empty");if(Pm(this.Cc)&&Dm.test(t))throw this.Mc('Document fields cannot begin and end with "__"')},t}(),Fm=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Zd(t)}return t.prototype.qc=function(t,e,n,r){return void 0===r&&(r=!1),new Lm({Cc:t,methodName:e,Bc:n,path:_a.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Mm(t){var e=t._freezeSettings(),n=Zd(t._databaseId);return new Fm(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Vm(t,e,n,r,i,s){void 0===s&&(s={});var o=t.qc(s.merge||s.mergeFields?2:0,e,n,i);Zm("Data must be an object, but it was:",o,r);var a,u,c=Xm(r,o);if(s.merge)a=new wa(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=Jm(e,d[h],n);if(!o.contains(f))throw new Yo(Xo.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");rg(l,f)||l.push(f)}a=new wa(l),u=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=o.fieldTransforms;return new jm(new Ga(c),a,u)}var Um=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(je.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Cc)throw t.Mc(1===t.Cc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Im);function Bm(t,e,n){return new Lm({Cc:3,Bc:e.settings.Bc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var qm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(je.c)(e,t),e.prototype._toFieldTransform=function(t){return new Qu(t.path,new Bu)},e.prototype.isEqual=function(t){return t instanceof e},e}(Im),Hm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(je.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Bm(this,t,!0),n=this.Uc.map(function(t){return Qm(t,e)}),r=new qu(n);return new Qu(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Im),zm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(je.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Bm(this,t,!0),n=this.Uc.map(function(t){return Qm(t,e)}),r=new zu(n);return new Qu(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Im),Wm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Object(je.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new $u(t.R,Lu(t.R,this.Qc));return new Qu(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Im);function $m(t,e,n,r){var i=t.qc(1,e,n);Zm("Data must be an object, but it was:",i,r);var s=[],o=Ga.empty();ma(r,function(t,r){var a=eg(e,t,n);r=Object(Mn.i)(r);var u=i.$c(a);if(r instanceof Um)s.push(a);else{var c=Qm(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new wa(s);return new Nm(o,a,i.fieldTransforms)}function Km(t,e,n,r,i,s){var o=t.qc(1,e,n),a=[Jm(e,r,n)],u=[i];if(s.length%2!=0)throw new Yo(Xo.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(Jm(e,s[c])),u.push(s[c+1]);for(var l=[],h=Ga.empty(),d=a.length-1;d>=0;--d)if(!rg(l,a[d])){var f=a[d],p=u[d];p=Object(Mn.i)(p);var m=o.$c(f);if(p instanceof Um)l.push(f);else{var g=Qm(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new wa(l);return new Nm(h,y,o.fieldTransforms)}function Gm(t,e,n,r){return void 0===r&&(r=!1),Qm(n,t.qc(r?4:3,e))}function Qm(t,e){if(Ym(t=Object(Mn.i)(t)))return Zm("Unsupported field value:",e,t),Xm(t,e);if(t instanceof Im)return function(t,e){if(!Pm(e.Cc))throw e.Mc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Mc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Cc)throw e.Mc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Qm(s[i],e.Oc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(Mn.i)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Lu(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=da.fromDate(t);return{timestampValue:zc(e.R,n)}}if(t instanceof da)return n=new da(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:zc(e.R,n)};if(t instanceof Am)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Rm)return{bytesValue:Wc(e.R,t._byteString)};if(t instanceof pm){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Gc(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Mc("Unsupported field value: "+cm(t))}(t,e)}function Xm(t,e){var n={};return ga(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ma(t,function(t,r){var i=Qm(r,e.xc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Ym(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof da||t instanceof Am||t instanceof Rm||t instanceof pm||t instanceof Im)}function Zm(t,e,n){if(!Ym(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=cm(n);throw e.Mc("an object"===r?t+" a custom object":t+" "+r)}}function Jm(t,e,n){if((e=Object(Mn.i)(e))instanceof km)return e._internalPath;if("string"==typeof e)return eg(t,e);throw ng("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var tg=new RegExp("[~\\*/\\[\\]]");function eg(t,e,n){if(e.search(tg)>=0)throw ng("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(km.bind.apply(km,Object(je.f)([void 0],e.split(".")))))._internalPath}catch(r){throw ng("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ng(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Yo(Xo.INVALID_ARGUMENT,(a+=". ")+t+u)}function rg(t,e){return t.some(function(t){return t.isEqual(e)})}var ig=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new pm(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new sg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(og("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),sg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(je.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(ig);function og(t,e){return"string"==typeof e?eg(t,e):e instanceof km?e._internalPath:e._delegate._internalPath}var ag=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ug=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(je.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new cg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(og("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(ig),cg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(je.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(ug),lg=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new ag(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new cg(n._firestore,n._userDataWriter,r.key,r,new ag(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Yo(Xo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new cg(t._firestore,t._userDataWriter,e.doc.key,e.doc,new ag(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new cg(t._firestore,t._userDataWriter,e.doc.key,e.doc,new ag(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:hg(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function hg(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ia()}}function dg(t,e){return t instanceof ug&&e instanceof ug?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof lg&&e instanceof lg&&t._firestore===e._firestore&&_m(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function fg(t){if(wu(t)&&0===t.explicitOrderBy.length)throw new Yo(Xo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pg=function(){};function mg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var gg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Kc=e,i.jc=n,i.Wc=r,i.type="where",i}return Object(je.c)(e,t),e.prototype._apply=function(t){var e=Mm(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Yo(Xo.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Eg(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(Sg(r,t,l[c]));a={arrayValue:{values:u}}}else a=Sg(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Eg(o,s),a=Gm(n,"where",o,"in"===s||"not-in"===s);var h=nu.create(i,s,a);return function(t,e){if(e.g()){var n=Eu(t);if(null!==n&&!n.isEqual(e.field))throw new Yo(Xo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Su(t);null!==r&&Cg(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Yo(Xo.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Kc,this.jc,this.Wc);return new mm(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(pg),yg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kc=e,r.Gc=n,r.type="orderBy",r}return Object(je.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Yo(Xo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Yo(Xo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new fu(e,n);return function(t,e){if(null===Su(t)){var n=Eu(t);null!==n&&Cg(0,n,e.field)}}(t,r),r}(t._query,this.Kc,this.Gc);return new mm(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new yu(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(pg),bg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return Object(je.c)(e,t),e.prototype._apply=function(t){return new mm(t.firestore,t.converter,Tu(t._query,this.zc,this.Hc))},e}(pg),vg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(je.c)(e,t),e.prototype._apply=function(t){var e=wg(t,this.type,this.Jc,this.Yc);return new mm(t.firestore,t.converter,function(t,e){return new yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(pg),_g=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(je.c)(e,t),e.prototype._apply=function(t){var e=wg(t,this.type,this.Jc,this.Yc);return new mm(t.firestore,t.converter,function(t,e){return new yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(pg);function wg(t,e,n,r){if(n[0]=Object(Mn.i)(n[0]),n[0]instanceof ig)return function(t,e,n,r,i){if(!r)throw new Yo(Xo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Ou(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(Ba(e,r.key));else{var c=r.data.field(u.field);if(Ta(c))throw new Yo(Xo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Yo(Xo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new hu(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Mm(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new Yo(Xo.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Yo(Xo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Cu(t)&&-1!==c.indexOf("/"))throw new Yo(Xo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ba.fromString(c));if(!ja.isDocumentKey(l))throw new Yo(Xo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ja(l);a.push(Ba(e,h))}else{var d=Gm(n,r,c);a.push(d)}}return new hu(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function Sg(t,e,n){if("string"==typeof(n=Object(Mn.i)(n))){if(""===n)throw new Yo(Xo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cu(e)&&-1!==n.indexOf("/"))throw new Yo(Xo.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ba.fromString(n));if(!ja.isDocumentKey(r))throw new Yo(Xo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ba(t,new ja(r))}if(n instanceof pm)return Ba(t,n._key);throw new Yo(Xo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+cm(n)+".")}function Eg(t,e){if(!Array.isArray(t)||0===t.length)throw new Yo(Xo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Yo(Xo.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Cg(t,e,n){if(!n.isEqual(e))throw new Yo(Xo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Og=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Na(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oa(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(xa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ia()}},t.prototype.convertObject=function(t,e){var n=this,r={};return ma(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Am(Oa(t.latitude),Oa(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=ka(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ra(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Ca(t);return new da(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=ba.fromString(t);sa(vl(n));var r=new Xp(n.get(1),n.get(3)),i=new ja(n.popFirst(5));return r.isEqual(e)||ea("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function xg(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Tg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(je.c)(e,t),e.prototype.convertBytes=function(t){return new Rm(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new pm(this.firestore,null,e)},e}(Og),kg=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Mm(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Rg(t,this._firestore),i=xg(r.converter,e,n),s=Vm(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Yu.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=Rg(t,this._firestore);return s="string"==typeof(e=Object(Mn.i)(e))||e instanceof km?Km(this._dataReader,"WriteBatch.update",o._key,e,n,r):$m(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Yu.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Rg(t,this._firestore);return this._mutations=this._mutations.concat(new dc(e._key,Yu.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Yo(Xo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Rg(t,e){if((t=Object(Mn.i)(t)).firestore!==e)throw new Yo(Xo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Ig=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(je.c)(e,t),e.prototype.convertBytes=function(t){return new Rm(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new pm(this.firestore,null,e)},e}(Og);function Ag(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=lm(t,pm);var s=lm(t.firestore,Em),o=Mm(s);return jg(s,[("string"==typeof(e=Object(Mn.i)(e))||e instanceof km?Km(o,"updateDoc",t._key,e,n,r):$m(o,"updateDoc",t._key,e)).toMutation(t._key,Yu.exists(!0))])}function Dg(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(Mn.i)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Sm(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(Sm(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof pm)c=lm(t.firestore,Em),l=vu(t._key.path),u={next:function(e){i[a]&&i[a](Ng(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=lm(t,mm);c=lm(f.firestore,Em),l=f._query;var p=new Ig(c);u={next:function(t){i[a]&&i[a](new lg(c,p,f,t))},error:i[a+1],complete:i[a+2]},fg(t._query)}return function(t,e,n,r){var i=this,s=new Np(r),o=new zf(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(je.b)(i,void 0,void 0,function(){var e;return Object(je.d)(this,function(n){switch(n.label){case 0:return e=Vf,[4,$p(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(je.b)(i,void 0,void 0,function(){var e;return Object(je.d)(this,function(n){switch(n.label){case 0:return e=Uf,[4,$p(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(Cm(c),l,h,u)}function jg(t,e){return function(t,e){var n=this,r=new Hl;return t.asyncQueue.enqueueAndForget(function(){return Object(je.b)(n,void 0,void 0,function(){var n;return Object(je.d)(this,function(i){switch(i.label){case 0:return n=np,[4,Wp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Cm(t),e)}function Ng(t,e,n){var r=n.docs.get(e._key),i=new Ig(t);return new ug(t,i,e._key,r,new ag(n.hasPendingWrites,n.fromCache),e.converter)}var Pg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(je.c)(e,t),e.prototype.get=function(e){var n=this,r=Rg(e,this._firestore),i=new Ig(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new ug(n._firestore,i,r._key,t._document,new ag(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Mm(t)}return t.prototype.get=function(t){var e=this,n=Rg(t,this._firestore),r=new Tg(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return ia();var i=t[0];if(i.isFoundDocument())return new ig(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new ig(e._firestore,r,n._key,null,n.converter);throw ia()})},t.prototype.set=function(t,e,n){var r=Rg(t,this._firestore),i=xg(r.converter,e,n),s=Vm(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Rg(t,this._firestore);return s="string"==typeof(e=Object(Mn.i)(e))||e instanceof km?Km(this._dataReader,"Transaction.update",o._key,e,n,r):$m(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=Rg(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Lg(){if("undefined"==typeof Uint8Array)throw new Yo(Xo.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Fg(){if("undefined"==typeof atob)throw new Yo(Xo.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Mg=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Fg(),new t(Rm.fromBase64String(e))},t.fromUint8Array=function(e){return Lg(),new t(Rm.fromUint8Array(e))},t.prototype.toBase64=function(){return Fg(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Lg(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Vg=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Tm(t=lm(t,Em));var n=Cm(t),r=t._freezeSettings(),i=new jp;return xm(n,i,new Ap(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Tm(t=lm(t,Em));var e=Cm(t),n=t._freezeSettings(),r=new jp;return xm(e,r,new Dp(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Yo(Xo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Hl;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(je.b)(e,void 0,void 0,function(){var e;return Object(je.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(je.b)(this,void 0,void 0,function(){return Object(je.d)(this,function(e){switch(e.label){case 0:return $l.yt()?[4,$l.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(rd(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Ug=function(){function t(t,e,n){var r=this;this._delegate=e,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Xp||(this.Zc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||na("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=lm(t,fm))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&na("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s=Object(Mn.e)(r.mockUserToken),o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Yo(Xo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new tm(new Zp(s,new Nd(o)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(je.b)(e,void 0,void 0,function(){var e,n;return Object(je.d)(this,function(r){switch(r.label){case 0:return[4,qp(t)];case 1:return e=r.sent(),[4,zp(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=oa(t);return e.Or.delete(0),af(e)}(n))]}})})})}(Cm(lm(this._delegate,Em)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(je.b)(e,void 0,void 0,function(){var e,n;return Object(je.d)(this,function(r){switch(r.label){case 0:return[4,qp(t)];case 1:return e=r.sent(),[4,zp(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(je.b)(this,void 0,void 0,function(){var e;return Object(je.d)(this,function(n){switch(n.label){case 0:return(e=oa(t)).Or.add(0),[4,uf(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Cm(lm(this._delegate,Em)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&om("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Hl;return t.asyncQueue.enqueueAndForget(function(){return Object(je.b)(e,void 0,void 0,function(){var e;return Object(je.d)(this,function(r){switch(r.label){case 0:return e=up,[4,Wp(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Cm(lm(this._delegate,Em)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Np(e);return t.asyncQueue.enqueueAndForget(function(){return Object(je.b)(n,void 0,void 0,function(){var e;return Object(je.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){oa(t).Gr.add(e),e.next()},[4,$p(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(je.b)(n,void 0,void 0,function(){var e;return Object(je.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){oa(t).Gr.delete(e)},[4,$p(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Cm(t=lm(t,Em)),Sm(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zc)throw new Yo(Xo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new ty(this,ym(this._delegate,t))}catch(t){throw $g(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Wg(this,bm(this._delegate,t))}catch(t){throw $g(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Yg(this,function(t,e){if(t=lm(t,fm),im("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Yo(Xo.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new mm(t,null,function(t){return new yu(ba.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw $g(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Hl;return t.asyncQueue.enqueueAndForget(function(){return Object(je.b)(n,void 0,void 0,function(){var n;return Object(je.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Bp(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Lp(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Cm(t),function(n){return e(new Pg(t,n))})}(this._delegate,function(n){return t(new qg(e,n))})},t.prototype.batch=function(){var t=this;return Cm(this._delegate),new Hg(new kg(this._delegate,function(e){return jg(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Yo(Xo.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Yo(Xo.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Bg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(je.c)(e,t),e.prototype.convertBytes=function(t){return new Mg(new Rm(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Wg.tu(e,this.firestore,null)},e}(Og),qg=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Bg(t)}return t.prototype.get=function(t){var e=this,n=ey(t);return this._delegate.get(n).then(function(t){return new Qg(e._firestore,new ug(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=ey(t);return n?(sm("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=ey(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(je.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=ey(t);return this._delegate.delete(e),this},t}(),Hg=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=ey(t);return n?(sm("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=ey(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(je.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=ey(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),zg=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new cg(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Xg(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.eu=function(e,n){var r=t.nu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new Bg(e),n),i.set(n,s)),s},t}();zg.nu=new WeakMap;var Wg=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Bg(t)}return t.su=function(e,n,r){if(e.length%2!=0)throw new Yo(Xo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new pm(n._delegate,r,new ja(e)))},t.tu=function(e,n,r){return new t(n,new pm(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ty(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new ty(this.firestore,ym(this._delegate,t))}catch(t){throw $g(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(Mn.i)(t))instanceof pm&&vm(this._delegate,t)},t.prototype.set=function(t,e){e=sm("DocumentReference.set",e);try{return function(t,e,n){t=lm(t,pm);var r=lm(t.firestore,Em),i=xg(t.converter,e,n);return jg(r,[Vm(Mm(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Yu.none())])}(this._delegate,t,e)}catch(t){throw $g(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Ag(this._delegate,t):Ag.apply(void 0,Object(je.f)([this._delegate,t,e],n))}catch(t){throw $g(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return jg(lm((t=this._delegate).firestore,Em),[new dc(t._key,Yu.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Kg(e),i=Gg(e,function(e){return new Qg(t.firestore,new ug(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Dg(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=lm(t,pm);var e=lm(t.firestore,Em),n=Cm(e),r=new Ig(e);return function(t,e){var n=this,r=new Hl;return t.asyncQueue.enqueueAndForget(function(){return Object(je.b)(n,void 0,void 0,function(){var n;return Object(je.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(je.b)(this,void 0,void 0,function(){var r,i;return Object(je.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=oa(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Yo(Xo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=jf(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Hp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new ug(e,r,t._key,n,new ag(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=lm(t,pm);var e=lm(t.firestore,Em);return Kp(Cm(e),t._key,{source:"server"}).then(function(n){return Ng(e,t,n)})}(this._delegate):function(t){t=lm(t,pm);var e=lm(t.firestore,Em);return Kp(Cm(e),t._key).then(function(n){return Ng(e,t,n)})}(this._delegate)).then(function(t){return new Qg(e.firestore,new ug(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?zg.eu(this.firestore,e):null))},t}();function $g(t,e,n){return t.message=t.message.replace(e,n),t}function Kg(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Sm(r))return r}return{}}function Gg(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Sm(t[0])?t[0]:Sm(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Qg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Wg(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return dg(this._delegate,t._delegate)},t}(),Xg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(je.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Qg),Yg=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Bg(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,mg(this._delegate,function(t,e,n){var r=e,i=og("where",t);return new gg(i,r,n)}(e,n,r)))}catch(e){throw $g(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,mg(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=og("orderBy",t);return new yg(r,n)}(e,n)))}catch(e){throw $g(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,mg(this._delegate,function(t){return hm("limit",t),new bg("limit",t,"F")}(e)))}catch(e){throw $g(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,mg(this._delegate,function(t){return hm("limitToLast",t),new bg("limitToLast",t,"L")}(e)))}catch(e){throw $g(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,mg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vg("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw $g(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,mg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vg("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw $g(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,mg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _g("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw $g(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,mg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _g("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw $g(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return _m(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=lm(t,mm);var e=lm(t.firestore,Em),n=Cm(e),r=new Ig(e);return function(t,e){var n=this,r=new Hl;return t.asyncQueue.enqueueAndForget(function(){return Object(je.b)(n,void 0,void 0,function(){var n;return Object(je.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(je.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(je.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,bd(t,e,!0)];case 1:return a=u.sent(),r=new Qf(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=jf(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Hp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new lg(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=lm(t,mm);var e=lm(t.firestore,Em),n=Cm(e),r=new Ig(e);return Gp(n,t._query,{source:"server"}).then(function(n){return new lg(e,r,t,n)})}(this._delegate):function(t){t=lm(t,mm);var e=lm(t.firestore,Em),n=Cm(e),r=new Ig(e);return fg(t._query),Gp(n,t._query).then(function(n){return new lg(e,r,t,n)})}(this._delegate)).then(function(t){return new Jg(e.firestore,new lg(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Kg(e),i=Gg(e,function(e){return new Jg(t.firestore,new lg(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Dg(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?zg.eu(this.firestore,e):null))},t}(),Zg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Xg(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Jg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Yg(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Xg(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Zg(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Xg(n._firestore,r))})},t.prototype.isEqual=function(t){return dg(this._delegate,t._delegate)},t}(),ty=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(je.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Wg(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Wg(this.firestore,void 0===t?bm(this._delegate):bm(this._delegate,t))}catch(t){throw $g(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=lm(t.firestore,Em),r=bm(t),i=xg(t.converter,e);return jg(n,[Vm(Mm(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Yu.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Wg(e.firestore,t)})},e.prototype.isEqual=function(t){return vm(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?zg.eu(this.firestore,t):null))},e}(Yg);function ey(t){return lm(t,pm)}var ny,ry=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(km.bind.apply(km,Object(je.f)([void 0],t)))}return t.documentId=function(){return new t(_a.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(Mn.i)(t))instanceof km&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),iy=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new qm("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Um("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hm("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zm("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Wm("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),sy=n("/6Yf"),oy={Firestore:Ug,GeoPoint:Am,Timestamp:da,Blob:Mg,Transaction:qg,WriteBatch:Hg,DocumentReference:Wg,DocumentSnapshot:Qg,Query:Yg,QueryDocumentSnapshot:Xg,QuerySnapshot:Jg,CollectionReference:ty,FieldPath:ry,FieldValue:iy,setLogLevel:function(t){Zo.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new sy.a("firestore",function(t){return function(t,e){return new Ug(t,new Em(t,e),new Vg)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},oy)))})(ny=Fn.a),ny.registerVersion("@firebase/firestore","2.3.7");var ay=n("XNiG"),uy=n("VRyK"),cy=n("zx2A");function ly(t,e){return"function"==typeof e?n=>n.pipe(ly((n,r)=>Object(vt.a)(t(n,r)).pipe(Object(St.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new hy(t))}class hy{constructor(t){this.project=t}call(t,e){return e.subscribe(new dy(t,this.project))}}class dy extends cy.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new cy.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(cy.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var fy=n("qgXg"),py=n("quSY"),my=n("9ppp"),gy=n("Ylt2");class yy extends ay.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new by(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new my.a;if(this.isStopped||this.hasError?s=py.a.EMPTY:(this.observers.push(t),s=new gy.a(this,t)),r&&t.add(t=new Nn.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||fy.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class by{constructor(t,e){this.time=t,this.value=e}}function vy(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new yy(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}const _y=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),wy=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var Sy=n("EY2u");function Ey(t){return e=>0===t?Object(Sy.b)():e.lift(new Cy(t))}class Cy{constructor(t){if(this.total=t,this.total<0)throw new wy}call(t,e){return e.subscribe(new Oy(t,this.total))}}class Oy extends Fe.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function xy(t=null){return e=>e.lift(new Ty(t))}class Ty{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ky(t,this.defaultValue))}}class ky extends Fe.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ry(t=Dy){return e=>e.lift(new Iy(t))}class Iy{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ay(t,this.errorFactory))}}class Ay extends Fe.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(ny){t=ny}this.destination.error(t)}}}function Dy(){return new _y}var jy=n("SpAZ");function Ny(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Me((e,n)=>t(e,n,r)):jy.a,Ey(1),n?xy(e):Ry(()=>new _y))}function Py(t,e){return e?ly(()=>t,e):ly(()=>t)}var Ly=n("tf+s");const Fy=new r.s("angularfire2.auth.use-emulator"),My=new r.s("angularfire2.auth.settings"),Vy=new r.s("angularfire2.auth.tenant-id"),Uy=new r.s("angularfire2.auth.langugage-code"),By=new r.s("angularfire2.auth.use-device-language"),qy=new r.s("angularfire.auth.persistence");let Hy=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new Pn.d(i),d=Object(Pn.h)(h),f=new ay.a,p=Object(Ne.a)(void 0).pipe(Object(Nn.b)(h.outsideAngular),ly(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(St.a)(()=>Object(Pn.g)(t,i,e)),Object(St.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(Pn.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),vy({bufferSize:1,refCount:!1}));if(V(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ne.a)(null);else{p.pipe(Ny()).subscribe();const t=p.pipe(ly(t=>t.getRedirectResult().then(t=>t,()=>null)),d,vy({bufferSize:1,refCount:!1})),e=t=>new _t.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(ly(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(ly(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Py(n),Object(Ly.a)(h.outsideAngular),Object(Nn.b)(h.insideAngular)),this.user=t.pipe(Py(r),Object(Ly.a)(h.outsideAngular),Object(Nn.b)(h.insideAngular)),this.idToken=this.user.pipe(ly(t=>t?Object(vt.a)(t.getIdToken()):Object(Ne.a)(null))),this.idTokenResult=this.user.pipe(ly(t=>t?Object(vt.a)(t.getIdTokenResult()):Object(Ne.a)(null))),this.credential=Object(uy.a)(t,f,this.authState.pipe(Me(t=>!t))).pipe(Object(St.a)(t=>(null==t?void 0:t.user)?t:null),Object(Ly.a)(h.outsideAngular),Object(Nn.b)(h.insideAngular))}return Object(Pn.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.ec(Pn.c),r.ec(Pn.b,8),r.ec(r.D),r.ec(r.B),r.ec(Fy,8),r.ec(My,8),r.ec(Vy,8),r.ec(Uy,8),r.ec(By,8),r.ec(qy,8))},t.\u0275prov=r.Nb({factory:function(){return new t(r.ec(Pn.c),r.ec(Pn.b,8),r.ec(r.D),r.ec(r.B),r.ec(Fy,8),r.ec(My,8),r.ec(Vy,8),r.ec(Uy,8),r.ec(By,8),r.ec(qy,8))},token:t,providedIn:"any"}),t})();function zy(t,e){return function(t,e=wn.b){return new _t.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Wy(t,e){return zy(t,e).pipe(Object(St.a)(t=>({payload:t,type:"query"})))}function $y(t,e){return Wy(t,e).pipe(On(void 0),xn(),Object(St.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Ky(t,e,n){return $y(t,n).pipe(Rn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Gy(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Gy(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Gy(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Dn(void 0,void 0)),Object(St.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Gy(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Qy(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Pn.e)(Hy,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Xy{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=$y(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(St.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(On(void 0),xn(),Me(([t,e])=>e.length>0||!t),Object(St.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Rn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Qy(t);return Ky(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Wy(this.query,this.afs.schedulers.outsideAngular).pipe(Object(St.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(vt.a)(this.query.get(t)).pipe(Object(Nn.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Yy(this.ref.doc(t),this.afs)}}class Yy{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=rb(n,e);return new Xy(r,i,this.afs)}snapshotChanges(){return zy(this.ref,this.afs.schedulers.outsideAngular).pipe(On(void 0),xn(),Object(St.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(St.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(vt.a)(this.ref.get(t)).pipe(Object(Nn.b)(this.afs.schedulers.insideAngular))}}class Zy{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?$y(this.query,this.afs.schedulers.outsideAngular).pipe(Object(St.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Me(t=>t.length>0),this.afs.keepUnstableUntilFirst):$y(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Rn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Qy(t);return Ky(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Wy(this.query,this.afs.schedulers.outsideAngular).pipe(Object(St.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(vt.a)(this.query.get(t)).pipe(Object(Nn.b)(this.afs.schedulers.insideAngular))}}const Jy=new r.s("angularfire2.enableFirestorePersistence"),tb=new r.s("angularfire2.firestore.persistenceSettings"),eb=new r.s("angularfire2.firestore.settings"),nb=new r.s("angularfire2.firestore.use-emulator");function rb(t,e=(t=>t)){return{query:e(t),ref:t}}let ib=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new Pn.d(s),this.keepUnstableUntilFirst=Object(Pn.h)(this.schedulers);const c=Object(Pn.g)(t,s,e);!Ln.a.auth&&u&&Object(Pn.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Pn.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!V(i)){const e=()=>{try{return Object(vt.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(ny){return"undefined"!=typeof console&&console.warn(ny),Object(Ne.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Ne.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=rb(n,e),s=this.schedulers.ngZone.run(()=>r);return new Xy(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Zy(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Yy(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.ec(Pn.c),r.ec(Pn.b,8),r.ec(Jy,8),r.ec(eb,8),r.ec(r.D),r.ec(r.B),r.ec(tb,8),r.ec(nb,8),r.ec(Fy,8))},t.\u0275prov=r.Nb({factory:function(){return new t(r.ec(Pn.c),r.ec(Pn.b,8),r.ec(Jy,8),r.ec(eb,8),r.ec(r.D),r.ec(r.B),r.ec(tb,8),r.ec(nb,8),r.ec(Fy,8))},token:t,providedIn:"any"}),t})(),sb=(()=>{class t{constructor(t){this.afs=t}salvarClienteAngularFirestore(t){t.uid=this.afs.createId(),this.afs.collection("cliente").doc(t.uid).set(t).then(()=>{alert("Cliente salvo com sucesso.")})}getCliente(){return new Promise(t=>this.afs.collection("cliente").valueChanges().subscribe(e=>t(e)))}}return t.\u0275fac=function(e){return new(e||t)(r.ec(ib))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ob(t){return null!=t&&"false"!=`${t}`}function ab(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function ub(t){return Array.isArray(t)?t:[t]}function cb(t){return null==t?"":"string"==typeof t?t:`${t}px`}function lb(t){return t instanceof r.l?t.nativeElement:t}function hb(t,e=wn.a){return n=>n.lift(new db(t,e))}class db{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new fb(t,this.dueTime,this.scheduler))}}class fb extends Fe.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(pb,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function pb(t){t.debouncedNext()}let mb=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),gb=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=lb(t);return new _t.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new ay.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.ec(mb))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(mb))},token:t,providedIn:"root"}),t})(),yb=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.o,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=ob(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function(t,e=0){return ab(t)?Number(t):e}(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(hb(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(gb),r.Rb(r.l),r.Rb(r.B))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),bb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:[mb]}),t})();var vb=n("vkgz");let _b;try{_b="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(_A){_b=!1}let wb,Sb=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_b)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.D))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(r.D))},token:t,providedIn:"root"}),t})(),Eb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})();const Cb=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Ob(){if(wb)return wb;if("object"!=typeof document||!document)return wb=new Set(Cb),wb;let t=document.createElement("input");return wb=new Set(Cb.filter(e=>(t.setAttribute("type",e),t.type===e))),wb}let xb,Tb,kb;function Rb(t){return function(){if(null==xb&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xb=!0}))}finally{xb=xb||!1}return xb}()?t:!!t.capture}function Ib(){if(null==Tb){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Tb=!1,Tb;if("scrollBehavior"in document.documentElement.style)Tb=!0;else{const t=Element.prototype.scrollTo;Tb=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Tb}function Ab(t){return 0===t.buttons}function Db(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const jb=new r.s("cdk-focus-monitor-default-options"),Nb=Rb({passive:!0,capture:!0});let Pb=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=Ab(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{Db(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Lb(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=Lb(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=lb(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Ne.a)(null);const r=function(t){if(function(){if(null==kb){const t="undefined"!=typeof document?document.head:null;kb=!(!t||!t.createShadowRoot&&!t.attachShadow)}return kb}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new ay.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=lb(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=lb(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=Lb(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===Lb(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,Nb),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,Nb)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,Nb),t.addEventListener("mousedown",this._documentMousedownListener,Nb),t.addEventListener("touchstart",this._documentTouchstartListener,Nb),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Nb),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Nb),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,Nb),t.removeEventListener("mousedown",this._documentMousedownListener,Nb),t.removeEventListener("touchstart",this._documentTouchstartListener,Nb),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.B),r.ec(Sb),r.ec(o,8),r.ec(jb,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(r.B),Object(r.ec)(Sb),Object(r.ec)(o,8),Object(r.ec)(jb,8))},token:t,providedIn:"root"}),t})();function Lb(t){return t.composedPath?t.composedPath()[0]:t.target}const Fb="cdk-high-contrast-black-on-white",Mb="cdk-high-contrast-white-on-black",Vb="cdk-high-contrast-active";let Ub=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Vb),t.remove(Fb),t.remove(Mb);const e=this.getHighContrastMode();1===e?(t.add(Vb),t.add(Fb)):2===e&&(t.add(Vb),t.add(Mb))}}}return t.\u0275fac=function(e){return new(e||t)(r.ec(Sb),r.ec(o))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(Sb),Object(r.ec)(o))},token:t,providedIn:"root"}),t})(),Bb=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(r.ec(Ub))},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Eb,bb]]}),t})();const qb=new r.s("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.X)(o)}});let Hb=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.o,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.ec(qb,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(qb,8))},token:t,providedIn:"root"}),t})(),zb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})();const Wb=new r.R("11.2.13");class $b{}const Kb="*";function Gb(t,e){return{type:7,name:t,definitions:e,options:{}}}function Qb(t,e=null){return{type:4,styles:e,timings:t}}function Xb(t,e=null){return{type:2,steps:t,options:e}}function Yb(t){return{type:6,styles:t,offset:null}}function Zb(t,e,n){return{type:0,name:t,styles:e,options:n}}function Jb(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function tv(t){Promise.resolve(null).then(t)}class ev{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){tv(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class nv{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?tv(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function rv(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function iv(t){switch(t.length){case 0:return new ev;case 1:return t[0];default:return new nv(t)}}function sv(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Kb:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function ov(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&av(n,"start",t)));break;case"done":t.onDone(()=>r(n&&av(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&av(n,"destroy",t)))}}function av(t,e,n){const r=n.totalTime,i=uv(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function uv(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function cv(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function lv(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let hv=(t,e)=>!1,dv=(t,e)=>!1,fv=(t,e,n)=>[];const pv=rv();(pv||"undefined"!=typeof Element)&&(hv=(t,e)=>t.contains(e),dv=(()=>{if(pv||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):dv}})(),fv=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let mv=null,gv=!1;function yv(t){mv||(mv=("undefined"!=typeof document?document.body:null)||{},gv=!!mv.style&&"WebkitAppearance"in mv.style);let e=!0;return mv.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in mv.style,!e&&gv)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in mv.style),e}const bv=dv,vv=hv,_v=fv;function wv(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Sv=(()=>{class t{validateStyleProperty(t){return yv(t)}matchesElement(t,e){return bv(t,e)}containsElement(t,e){return vv(t,e)}query(t,e,n){return _v(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new ev(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),Ev=(()=>{class t{}return t.NOOP=new Sv,t})();const Cv="ng-enter",Ov="ng-leave",xv="ng-trigger",Tv=".ng-trigger",kv="ng-animating",Rv=".ng-animating";function Iv(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Av(parseFloat(e[1]),e[2])}function Av(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Dv(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Av(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Av(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function jv(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Nv(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else jv(t,n);return n}function Pv(t,e,n){return n?e+":"+n+";":""}function Lv(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Pv(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Pv(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Fv(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Wv(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),rv()&&Lv(t))}function Mv(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Wv(e);t.style[n]=""}),rv()&&Lv(t))}function Vv(t){return Array.isArray(t)?1==t.length?t[0]:Xb(t):t}const Uv=new RegExp("{{\\s*(.+?)\\s*}}","g");function Bv(t){let e=[];if("string"==typeof t){let n;for(;n=Uv.exec(t);)e.push(n[1]);Uv.lastIndex=0}return e}function qv(t,e,n){const r=t.toString(),i=r.replace(Uv,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function Hv(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const zv=/-+([a-z0-9])/g;function Wv(t){return t.replace(zv,(...t)=>t[1].toUpperCase())}function $v(t,e){return 0===t||0===e}function Kv(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=Qv(t,e)})}}return e}function Gv(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Qv(t,e){return window.getComputedStyle(t)[e]}const Xv="*";function Yv(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(t_(i,o)),"<"!=s[0]||i==Xv&&o==Xv||e.push(t_(o,i))}(t,n,e)):n.push(t),n}const Zv=new Set(["true","1"]),Jv=new Set(["false","0"]);function t_(t,e){const n=Zv.has(t)||Jv.has(t),r=Zv.has(e)||Jv.has(e);return(i,s)=>{let o=t==Xv||t==i,a=e==Xv||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Zv.has(t):Jv.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Zv.has(e):Jv.has(e)),o&&a}}const e_=new RegExp("s*:selfs*,?","g");function n_(t,e,n){return new r_(t).build(e,n)}class r_{constructor(t){this._driver=t}build(t,e){const n=new i_(e);return this._resetContextStyleTimingState(n),Gv(this,Vv(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(s_(t)){const e=t;Object.keys(e).forEach(t=>{Bv(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Hv(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Gv(this,Vv(t.animation),e);return{type:1,matchers:Yv(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:o_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Gv(this,t,e)),options:o_(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Gv(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:o_(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return a_(Dv(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=a_(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Dv(r,e),a_(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Yb({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Yb(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Kb?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(s_(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Bv(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(s_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(s_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Gv(this,Vv(t.animation),e),options:o_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:o_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:o_(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(e_,"")),[t=t.replace(/@\*/g,Tv).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Rv),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,cv(e.collectedStyles,e.currentQuerySelector,{});const o=Gv(this,Vv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:o_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Dv(t.timings,e.errors,!0);return{type:12,animation:Gv(this,Vv(t.animation),e),timings:n,options:null}}}class i_{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function s_(t){return!Array.isArray(t)&&"object"==typeof t}function o_(t){var e;return t?(t=jv(t)).params&&(t.params=(e=t.params)?jv(e):null):t={},t}function a_(t,e,n){return{duration:t,delay:e,easing:n}}function u_(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class c_{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const l_=new RegExp(":enter","g"),h_=new RegExp(":leave","g");function d_(t,e,n,r,i,s={},o={},a,u,c=[]){return(new f_).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class f_{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new c_;const l=new m_(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),Gv(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[u_(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Iv(n.duration):null,s=null!=n.delay?Iv(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Gv(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=p_);const t=Iv(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Gv(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Iv(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Gv(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Dv(e.params?qv(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Iv(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=p_);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Gv(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;Gv(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const p_={};class m_{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=p_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new g_(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Iv(n.duration)),null!=n.delay&&(r.delay=Iv(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=qv(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new m_(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=p_,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new y_(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(l_,"."+this._enterClassName)).replace(h_,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class g_{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new g_(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Kb,this._currentKeyframe[t]=Kb}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Kb})):Nv(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=qv(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Kb),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Nv(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Kb&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Hv(t.values()):[],s=e.size?Hv(e.values()):[];if(n){const t=r[0],e=jv(t);t.offset=0,e.offset=1,r=[t,e]}return u_(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class y_ extends g_{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Nv(t[0],!1);a.offset=0,i.push(a);const u=Nv(t[0],!1);u.offset=b_(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=Nv(t[r],!1);o.offset=b_((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return u_(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function b_(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class v_{}class __ extends v_{normalizePropertyName(t,e){return Wv(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(w_[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const w_=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function S_(t,e,n,r,i,s,o,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const E_={};class C_{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||E_,d=this.buildStyles(n,o&&o.params||E_,l),f=a&&a.params||E_,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=c?[]:d_(t,e,this.ast.animation,i,s,d,p,v,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return S_(e,this._triggerName,n,r,b,d,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=cv(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=cv(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const S=Hv(m.values());return S_(e,this._triggerName,n,r,b,d,p,_,S,g,y,w)}}class O_{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=jv(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=qv(s,r,e)),n[t]=s})}}),n}}class x_{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new O_(t.style,t.options&&t.options.params||{})}),T_(this.states,"true","1"),T_(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new C_(t,e,this.states))}),this.fallbackTransition=new C_(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function T_(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const k_=new c_;class R_{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=n_(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=sv(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=d_(this._driver,e,i,Cv,Ov,{},{},n,k_,r),s.forEach(t=>{const e=cv(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Kb)})});const a=iv(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=uv(e,"","","");return ov(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const I_="ng-animate-queued",A_="ng-animate-disabled",D_=".ng-animate-disabled",j_=[],N_={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},P_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class L_{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=jv(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const F_="void",M_=new L_(F_);class V_{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,$_(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=cv(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=cv(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||($_(t,xv),$_(t,"ng-trigger-"+e),a[e]=M_),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new B_(this.id,e,t);let o=this._engine.statesByElement.get(t);o||($_(t,xv),$_(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new L_(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=M_),u.value!==F_&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Mv(t,n),Fv(t,r)})}return}const c=cv(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||($_(t,I_),s.onStart(()=>{K_(t,I_)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Tv,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,F_,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&iv(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||M_,a=new L_(F_),u=new B_(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==N_||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){$_(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=uv(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,ov(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class U_{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new V_(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(q_(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!q_(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),$_(t,A_)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),K_(t,A_))}removeNode(t,e,n,r){if(q_(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return q_(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Tv,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Rv,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return iv(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=N_,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,D_)&&this.markElementAsDisabled(t,!1),this.driver.query(t,D_,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)$_(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?iv(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new c_,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=W_(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=Cv+p++;f.set(e,n),t.forEach(t=>$_(t,n))});const m=[],g=new Set,y=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){const t=this.collectedLeaveElements[I],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,v=W_(h,Array.from(g));v.forEach((t,e)=>{const n=Ov+p++;b.set(e,n),t.forEach(t=>$_(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>K_(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>K_(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>Mv(i,p.fromStyles)),e.onDestroy(()=>Fv(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Mv(i,p.fromStyles)),e.onDestroy(()=>Fv(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>cv(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{cv(S,e,[]).push(t),t.destroy()})});const C=m.filter(t=>X_(t,a,u)),O=new Map;z_(O,this.driver,y,u,Kb).forEach(t=>{X_(t,a,u)&&C.push(t)});const x=new Map;d.forEach((t,e)=>{z_(x,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=O.get(t),n=x.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const T=[],k=[],R={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>Fv(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=R;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,S,i,x,O);if(s.setRealPlayer(n),t===R)T.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=iv(e)),r.push(s)}}else Mv(e,o.fromStyles),s.onDestroy(()=>Fv(e,o.toStyles)),k.push(s),c.has(e)&&r.push(s)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=iv(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let I=0;I<m.length;I++){const t=m[I],e=t.__ng_removed;if(K_(t,Ov),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Rv,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?G_(this,t,r):this.processLeaveNode(t)}return m.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==F_;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=cv(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}Mv(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new ev(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return Q_(t,e),e}((n.get(h)||j_).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=sv(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new B_(t,o,h);e.setRealPlayer(b),u.push(e)}return b});u.forEach(t=>{cv(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>$_(t,kv));const d=iv(h);return d.onDestroy(()=>{c.forEach(t=>K_(t,kv)),Fv(a,e.toStyles)}),l.forEach(t=>{cv(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new ev(t.duration,t.delay)}}class B_{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new ev,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>ov(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){cv(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function q_(t){return t&&1===t.nodeType}function H_(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function z_(t,e,n,r,i){const s=[];n.forEach(t=>s.push(H_(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=P_,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>H_(t,s[a++])),o}function W_(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function $_(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function K_(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function G_(t,e,n){iv(n).onDone(()=>t.processLeaveNode(e))}function Q_(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof nv?Q_(r.players,e):e.push(r)}}function X_(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Y_{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new U_(t,e,n),this._timelineEngine=new R_(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=n_(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new x_(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=lv(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=lv(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Z_(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=tw(e[0]),e.length>1&&(r=tw(e[e.length-1]))):e&&(n=tw(e)),n||r?new J_(t,n,r):null}let J_=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Fv(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fv(this._element,this._initialStyles),this._endStyles&&(Fv(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Mv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mv(this._element,this._endStyles),this._endStyles=null),Fv(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function tw(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];ew(i)&&(e=e||{},e[i]=t[i])}return e}function ew(t){return"display"===t||"position"===t}const nw="animation",rw="animationend";class iw{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=lw(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),cw(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),uw(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){sw(this._element,this._name,"paused")}resume(){sw(this._element,this._name,"running")}setPosition(t){const e=ow(this._element,this._name);this._position=t*this._duration,cw(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),uw(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=lw(t,"").split(","),r=aw(n,e);r>=0&&(n.splice(r,1),cw(t,"",n.join(",")))}(this._element,this._name))}}function sw(t,e,n){cw(t,"PlayState",n,ow(t,e))}function ow(t,e){const n=lw(t,"");return n.indexOf(",")>0?aw(n.split(","),e):aw([n],e)}function aw(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function uw(t,e,n){n?t.removeEventListener(rw,e):t.addEventListener(rw,e)}function cw(t,e,n,r){const i=nw+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function lw(t,e){return t.style[nw+e]||""}class hw{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new iw(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Qv(this.element,n))})}this.currentSnapshot=t}}class dw extends ev{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=wv(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class fw{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return yv(t)}matchesElement(t,e){return bv(t,e)}containsElement(t,e){return vv(t,e)}query(t,e,n){return _v(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>wv(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof hw),u={};$v(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Kv(t,e,u));if(0==n)return new dw(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=Z_(t,e),f=new hw(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class pw{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Qv(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class mw{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(gw().toString()),this._cssKeyframesDriver=new fw}validateStyleProperty(t){return yv(t)}matchesElement(t,e){return bv(t,e)}containsElement(t,e){return vv(t,e)}query(t,e,n){return _v(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof pw);$v(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=Z_(t,e=Kv(t,e=e.map(t=>Nv(t,!1)),u));return new pw(t,e,a,l)}}function gw(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let yw=(()=>{class t extends $b{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.T.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Xb(t):t;return _w(this._renderer,null,e,"register",[n]),new bw(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.H),r.ec(o))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class bw extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new vw(this._id,t,e||{},this._renderer)}}class vw{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return _w(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function _w(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const ww="@",Sw="@.disabled";let Ew=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Cw("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Ow(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.H),r.ec(Y_),r.ec(r.B))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class Cw{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==ww&&e==Sw?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Ow extends Cw{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==ww?"."==e.charAt(1)&&e==Sw?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==ww){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=ww&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let xw=(()=>{class t extends Y_{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o),r.ec(Ev),r.ec(v_))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const Tw=new r.s("AnimationModuleType"),kw=[{provide:Ev,useFactory:function(){return"function"==typeof gw()?new mw:new fw}},{provide:Tw,useValue:"BrowserAnimations"},{provide:$b,useClass:yw},{provide:v_,useFactory:function(){return new __}},{provide:Y_,useClass:xw},{provide:r.H,useFactory:function(t,e,n){return new Ew(t,e,n)},deps:[st,Y_,r.B]}];let Rw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:kw,imports:[bt]}),t})();const Iw=new r.R("11.2.13"),Aw=new r.s("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Dw,jw=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.Y)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Iw.full!==Wb.full&&console.warn("The Angular Material version ("+Iw.full+") does not match the Angular CDK version ("+Wb.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.ec(Ub),r.ec(Aw,8),r.ec(o))},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[zb],zb]}),t})();function Nw(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=ob(t)}}}function Pw(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function Lw(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ob(t)}}}function Fw(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new ay.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{Dw="undefined"!=typeof Intl}catch(_A){Dw=!1}let Mw=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Vw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[jw],jw]}),t})();class Uw{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Bw={enterDuration:450,exitDuration:400},qw=Rb({passive:!0}),Hw=["mousedown","touchstart"],zw=["mouseup","mouseleave","touchend","touchcancel"];class Ww{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=lb(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},Bw),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,u=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const l=new Uw(this,c,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},u),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},Bw),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=lb(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Hw))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(zw),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Ab(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Db(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,qw)})})}_removeTriggerEvents(){this._triggerElement&&(Hw.forEach(t=>{this._triggerElement.removeEventListener(t,this,qw)}),this._pointerUpEventsRegistered&&zw.forEach(t=>{this._triggerElement.removeEventListener(t,this,qw)}))}}const $w=new r.s("mat-ripple-global-options");let Kw=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Ww(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.B),r.Rb(Sb),r.Rb($w,8),r.Rb(Tw,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Gw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[jw,Eb],jw]}),t})(),Qw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[jw]]}),t})(),Xw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Gw,M,jw,Qw]]}),t})();var Yw=n("n6bG");function Zw(t,e,n,r){return Object(Yw.a)(n)&&(r=n,n=void 0),r?Zw(t,e,n).pipe(Object(St.a)(t=>Object(wt.a)(t)?r(...t):r(t))):new _t.a(r=>{Jw(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function Jw(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)Jw(t[s],e,n,r,i)}r.add(s)}function tS(t){return e=>e.lift(new eS(t))}class eS{constructor(t){this.notifier=t}call(t,e){const n=new nS(t),r=Object(cy.c)(this.notifier,new cy.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class nS extends cy.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const rS=["underline"],iS=["connectionContainer"],sS=["inputContainer"],oS=["label"];function aS(t,e){1&t&&(r.Vb(0),r.Xb(1,"div",14),r.Sb(2,"div",15),r.Sb(3,"div",16),r.Sb(4,"div",17),r.Wb(),r.Xb(5,"div",18),r.Sb(6,"div",15),r.Sb(7,"div",16),r.Sb(8,"div",17),r.Wb(),r.Ub())}function uS(t,e){1&t&&(r.Xb(0,"div",19),r.oc(1,1),r.Wb())}function cS(t,e){if(1&t&&(r.Vb(0),r.oc(1,2),r.Xb(2,"span"),r.Fc(3),r.Wb(),r.Ub()),2&t){const t=r.lc(2);r.Eb(3),r.Gc(t._control.placeholder)}}function lS(t,e){1&t&&r.oc(0,3,["*ngSwitchCase","true"])}function hS(t,e){1&t&&(r.Xb(0,"span",23),r.Fc(1," *"),r.Wb())}function dS(t,e){if(1&t){const t=r.Yb();r.Xb(0,"label",20,21),r.hc("cdkObserveContent",function(){return r.zc(t),r.lc().updateOutlineGap()}),r.Dc(2,cS,4,1,"ng-container",12),r.Dc(3,lS,1,0,"ng-content",12),r.Dc(4,hS,2,0,"span",22),r.Wb()}if(2&t){const t=r.lc();r.Jb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.qc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.Fb("for",t._control.id)("aria-owns",t._control.id),r.Eb(2),r.qc("ngSwitchCase",!1),r.Eb(1),r.qc("ngSwitchCase",!0),r.Eb(1),r.qc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function fS(t,e){1&t&&(r.Xb(0,"div",24),r.oc(1,4),r.Wb())}function pS(t,e){if(1&t&&(r.Xb(0,"div",25,26),r.Sb(2,"span",27),r.Wb()),2&t){const t=r.lc();r.Eb(2),r.Jb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function mS(t,e){if(1&t&&(r.Xb(0,"div"),r.oc(1,5),r.Wb()),2&t){const t=r.lc();r.qc("@transitionMessages",t._subscriptAnimationState)}}function gS(t,e){if(1&t&&(r.Xb(0,"div",31),r.Fc(1),r.Wb()),2&t){const t=r.lc(2);r.qc("id",t._hintLabelId),r.Eb(1),r.Gc(t.hintLabel)}}function yS(t,e){if(1&t&&(r.Xb(0,"div",28),r.Dc(1,gS,2,2,"div",29),r.oc(2,6),r.Sb(3,"div",30),r.oc(4,7),r.Wb()),2&t){const t=r.lc();r.qc("@transitionMessages",t._subscriptAnimationState),r.Eb(1),r.qc("ngIf",t.hintLabel)}}const bS=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],vS=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],_S=new r.s("MatError"),wS={transitionMessages:Gb("transitionMessages",[Zb("enter",Yb({opacity:1,transform:"translateY(0%)"})),Jb("void => enter",[Yb({opacity:0,transform:"translateY(-5px)"}),Qb("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let SS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t}),t})();const ES=new r.s("MatHint");let CS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["mat-label"]]}),t})(),OS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["mat-placeholder"]]}),t})();const xS=new r.s("MatPrefix"),TS=new r.s("MatSuffix");let kS=0;class RS{constructor(t){this._elementRef=t}}const IS=Pw(RS,"primary"),AS=new r.s("MAT_FORM_FIELD_DEFAULT_OPTIONS"),DS=new r.s("MatFormField");let jS=(()=>{class t extends IS{constructor(t,e,n,r,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ay.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+kS++,this._labelId="mat-form-field-label-"+kS++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ob(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(On(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(tS(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(tS(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(uy.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(On(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(On(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(tS(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Zw(this._label.nativeElement,"transitionend").pipe(Ey(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let u=0;for(let t=0;t<o.length;t++)u+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=u>0?.75*u+10:0}for(let o=0;o<i.length;o++)i[o].style.width=`${e}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.h),r.Rb(r.l),r.Rb(Hb,8),r.Rb(AS,8),r.Rb(Sb),r.Rb(r.B),r.Rb(Tw,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,SS,1),r.Kb(n,SS,3),r.Kb(n,CS,1),r.Kb(n,CS,3),r.Kb(n,OS,1),r.Kb(n,_S,1),r.Kb(n,ES,1),r.Kb(n,xS,1),r.Kb(n,TS,1)),2&t){let t;r.xc(t=r.ic())&&(e._controlNonStatic=t.first),r.xc(t=r.ic())&&(e._controlStatic=t.first),r.xc(t=r.ic())&&(e._labelChildNonStatic=t.first),r.xc(t=r.ic())&&(e._labelChildStatic=t.first),r.xc(t=r.ic())&&(e._placeholderChild=t.first),r.xc(t=r.ic())&&(e._errorChildren=t),r.xc(t=r.ic())&&(e._hintChildren=t),r.xc(t=r.ic())&&(e._prefixChildren=t),r.xc(t=r.ic())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(r.Ic(rS,1),r.Ic(iS,3),r.Ic(sS,1),r.Ic(oS,1)),2&t){let t;r.xc(t=r.ic())&&(e.underlineRef=t.first),r.xc(t=r.ic())&&(e._connectionContainerRef=t.first),r.xc(t=r.ic())&&(e._inputContainerRef=t.first),r.xc(t=r.ic())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,e){2&t&&r.Jb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Db([{provide:DS,useExisting:t}]),r.Bb],ngContentSelectors:vS,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.pc(bS),r.Xb(0,"div",0),r.Xb(1,"div",1,2),r.hc("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),r.Dc(3,aS,9,0,"ng-container",3),r.Dc(4,uS,2,0,"div",4),r.Xb(5,"div",5,6),r.oc(7),r.Xb(8,"span",7),r.Dc(9,dS,5,16,"label",8),r.Wb(),r.Wb(),r.Dc(10,fS,2,0,"div",9),r.Wb(),r.Dc(11,pS,3,4,"div",10),r.Xb(12,"div",11),r.Dc(13,mS,2,1,"div",12),r.Dc(14,yS,5,2,"div",13),r.Wb(),r.Wb()),2&t&&(r.Eb(3),r.qc("ngIf","outline"==e.appearance),r.Eb(1),r.qc("ngIf",e._prefixChildren.length),r.Eb(5),r.qc("ngIf",e._hasFloatingLabel()),r.Eb(1),r.qc("ngIf",e._suffixChildren.length),r.Eb(1),r.qc("ngIf","outline"!=e.appearance),r.Eb(1),r.qc("ngSwitch",e._getDisplayedMessages()),r.Eb(1),r.qc("ngSwitchCase","error"),r.Eb(1),r.qc("ngSwitchCase","hint"))},directives:[D,L,F,yb],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[wS.transitionMessages]},changeDetection:0}),t})(),NS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[M,jw,bb],jw]}),t})();class PS{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new LS(t,this.durationSelector))}}class LS extends cy.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(cy.c)(n,new cy.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var FS=n("Y7HM");function MS(t=0,e,n){let r=-1;return Object(FS.a)(e)?r=Number(e)<1?1:Number(e):Object(Cn.a)(e)&&(n=e),Object(Cn.a)(n)||(n=wn.a),new _t.a(e=>{const i=Object(FS.a)(t)?t:+t-n.now();return n.schedule(VS,i,{index:0,period:r,subscriber:e})})}function VS(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function US(t,e=wn.a){return n=()=>MS(t,e),function(t){return t.lift(new PS(n))};var n}const BS=Rb({passive:!0});let qS=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Sy.a;const e=lb(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new ay.a,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,BS),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,BS)}}),r}stopMonitoring(t){const e=lb(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.ec(Sb),r.ec(r.B))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(Sb),Object(r.ec)(r.B))},token:t,providedIn:"root"}),t})(),HS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Eb]]}),t})();const zS=new r.s("MAT_INPUT_VALUE_ACCESSOR"),WS=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let $S=0;class KS{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const GS=Fw(KS);let QS=(()=>{class t extends GS{constructor(t,e,n,r,i,s,o,a,u,c){super(s,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=c,this._uid="mat-input-"+$S++,this.focused=!1,this.stateChanges=new ay.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Ob().has(t));const l=this._elementRef.nativeElement,h=l.nodeName.toLowerCase();this._inputValueAccessor=o||l,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=l.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=ob(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=ob(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Ob().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ob(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){WS.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(Sb),r.Rb(zt,10),r.Rb(be,8),r.Rb(xe,8),r.Rb(Mw),r.Rb(zS,10),r.Rb(qS),r.Rb(r.B),r.Rb(DS,8))},t.\u0275dir=r.Mb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&r.hc("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(r.ac("disabled",e.disabled)("required",e.required),r.Fb("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState&&!e.empty)("aria-required",e.required),r.Jb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r.Db([{provide:SS,useExisting:t}]),r.Bb,r.Cb]}),t})(),XS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:[Mw],imports:[[HS,NS,jw],HS,NS]}),t})();const YS=["mat-button",""],ZS=["*"],JS=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class tE{constructor(t){this._elementRef=t}}const eE=Pw(Nw(Lw(tE)));let nE=(()=>{class t extends eE{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of JS)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(Pb),r.Rb(Tw,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.Ic(Kw,1),2&t){let t;r.xc(t=r.ic())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Fb("disabled",e.disabled||null),r.Jb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.Bb],attrs:YS,ngContentSelectors:ZS,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.pc(),r.Xb(0,"span",0),r.oc(1),r.Wb(),r.Sb(2,"span",1),r.Sb(3,"span",2)),2&t&&(r.Eb(2),r.Jb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.qc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Kw],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),rE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Gw,jw],jw]}),t})(),iE=(()=>{class t{constructor(t,e,n){this.fb=t,this.viacep=e,this.db=n,this.cep={bairro:"",cep:"",complemento:"",ddd:"",gia:"",ibge:"",localidade:"",logradouro:"",siafi:"",uf:""},this.cliente={nome:"",bairro:"",cep:"",complemento:"",localidade:"",logradouro:"",uf:"",numero:""}}ngOnInit(){}buscarCep(t){return Object(je.b)(this,void 0,void 0,function*(){this.cep=yield this.viacep.buscarCep(t.target.value),this.cliente={cep:this.cep.cep,bairro:this.cep.bairro,complemento:this.cep.complemento,localidade:this.cep.localidade,logradouro:this.cep.logradouro,uf:this.cep.uf,nome:this.cliente.nome,numero:this.cliente.numero}})}onSubmit(){console.log(this.cliente),this.db.salvarClienteAngularFirestore(this.cliente),this.cliente={nome:"",bairro:"",cep:"",complemento:"",localidade:"",logradouro:"",uf:"",numero:""}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(De),r.Rb(_n),r.Rb(sb))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-add"]],decls:54,vars:9,consts:[[1,"m-3"],[1,"form-container",3,"ngSubmit"],[1,"row"],[1,"col"],["appearance","outline",1,"w-100"],["matInput","","name","nome","required","",3,"ngModel","ngModelChange"],["nome","ngModel"],["matInput","","name","cep","required","",3,"ngModel","blur","ngModelChange"],["cep","ngModel"],["matInput","","name","logradouro",3,"ngModel","ngModelChange"],["logradouro","ngModel"],["matInput","","name","bairro",3,"ngModel","ngModelChange"],["matInput","","name","localidade",3,"ngModel","ngModelChange"],["matInput","","name","uf",3,"ngModel","ngModelChange"],["matInput","","name","numero","required","",3,"ngModel","ngModelChange"],["numero","ngModel"],["matInput","","name","complemento",3,"ngModel","ngModelChange"],["type","submit","mat-raised-button","",1,"botaoadicionar",3,"disabled"],["type","button","mat-raised-button","","onclick","window.history.back()",1,"mx-3","btncor"]],template:function(t,e){if(1&t&&(r.Xb(0,"div",0),r.Xb(1,"form",1),r.hc("ngSubmit",function(){return e.onSubmit()}),r.Xb(2,"div",2),r.Xb(3,"div",3),r.Xb(4,"mat-form-field",4),r.Xb(5,"mat-label"),r.Fc(6,"Nome"),r.Wb(),r.Xb(7,"input",5,6),r.hc("ngModelChange",function(t){return e.cliente.nome=t}),r.Wb(),r.Wb(),r.Wb(),r.Xb(9,"div",3),r.Xb(10,"mat-form-field",4),r.Xb(11,"mat-label"),r.Fc(12,"Cep"),r.Wb(),r.Xb(13,"input",7,8),r.hc("blur",function(t){return e.buscarCep(t)})("ngModelChange",function(t){return e.cliente.cep=t}),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(15,"div",2),r.Xb(16,"div",3),r.Xb(17,"mat-form-field",4),r.Xb(18,"mat-label"),r.Fc(19,"Rua"),r.Wb(),r.Xb(20,"input",9,10),r.hc("ngModelChange",function(t){return e.cliente.logradouro=t}),r.Wb(),r.Wb(),r.Wb(),r.Xb(22,"div",3),r.Xb(23,"mat-form-field",4),r.Xb(24,"mat-label"),r.Fc(25,"Bairro"),r.Wb(),r.Xb(26,"input",11),r.hc("ngModelChange",function(t){return e.cliente.bairro=t}),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(27,"div",2),r.Xb(28,"div",3),r.Xb(29,"mat-form-field",4),r.Xb(30,"mat-label"),r.Fc(31,"Cidade"),r.Wb(),r.Xb(32,"input",12),r.hc("ngModelChange",function(t){return e.cliente.localidade=t}),r.Wb(),r.Wb(),r.Wb(),r.Xb(33,"div",3),r.Xb(34,"mat-form-field",4),r.Xb(35,"mat-label"),r.Fc(36,"Estado"),r.Wb(),r.Xb(37,"input",13),r.hc("ngModelChange",function(t){return e.cliente.uf=t}),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(38,"div",2),r.Xb(39,"div",3),r.Xb(40,"mat-form-field",4),r.Xb(41,"mat-label"),r.Fc(42,"N\xfamero"),r.Wb(),r.Xb(43,"input",14,15),r.hc("ngModelChange",function(t){return e.cliente.numero=t}),r.Wb(),r.Wb(),r.Wb(),r.Xb(45,"div",3),r.Xb(46,"mat-form-field",4),r.Xb(47,"mat-label"),r.Fc(48,"Complemento"),r.Wb(),r.Xb(49,"input",16),r.hc("ngModelChange",function(t){return e.cliente.complemento=t}),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(50,"button",17),r.Fc(51,"Adicionar"),r.Wb(),r.Xb(52,"button",18),r.Fc(53," Voltar "),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.yc(8),n=r.yc(14),i=r.yc(21),s=r.yc(44);r.Eb(7),r.qc("ngModel",e.cliente.nome),r.Eb(6),r.qc("ngModel",e.cliente.cep),r.Eb(7),r.qc("ngModel",e.cliente.logradouro),r.Eb(6),r.qc("ngModel",e.cliente.bairro),r.Eb(6),r.qc("ngModel",e.cliente.localidade),r.Eb(5),r.qc("ngModel",e.cliente.uf),r.Eb(6),r.qc("ngModel",e.cliente.numero),r.Eb(6),r.qc("ngModel",e.cliente.complemento),r.Eb(1),r.qc("disabled",(null==t.errors?null:t.errors.required)||(null==n.errors?null:n.errors.required)||(null==i.errors?null:i.errors.required)||(null==s.errors?null:s.errors.required))}},directives:[Se,Kt,be,jS,CS,QS,kt,ke,$t,we,nE],styles:[".form-container[_ngcontent-%COMP%]{font-size:smaller}.btncor[_ngcontent-%COMP%]{background-color:#198e7c;color:#fff}.botaoadicionar[_ngcontent-%COMP%]{background-color:#f4623a;color:#fff}"]}),t})();function sE(t){return t&&"function"==typeof t.connect}class oE{applyChanges(t,e,n,r,i){t.forEachOperation((t,r,s)=>{let o,a;if(null==t.previousIndex){const i=n(t,r,s);o=e.createEmbeddedView(i.templateRef,i.context,i.index),a=1}else null==s?(e.remove(r),a=3):(o=e.get(r),e.move(o,s),a=2);i&&i({context:null==o?void 0:o.context,operation:a,record:t})})}detach(){}}const aE=new r.s("_ViewRepeater");n("3N8a"),n("IjjT"),n("7Hc7");let uE=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new ay.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new _t.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(US(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Ne.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Me(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=lb(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Zw(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.B),r.ec(Sb),r.ec(o,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(r.B),Object(r.ec)(Sb),Object(r.ec)(o,8))},token:t,providedIn:"root"}),t})(),cE=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new ay.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(US(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.ec(Sb),r.ec(r.B),r.ec(o,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(Sb),Object(r.ec)(r.B),Object(r.ec)(o,8))},token:t,providedIn:"root"}),t})(),lE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})(),hE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[zb,Eb,lE],zb,lE]}),t})();class dE extends ay.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new my.a;return this._value}next(t){super.next(this._value=t)}}const fE=[[["caption"]],[["colgroup"],["col"]]],pE=["caption","colgroup, col"];function mE(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=ob(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const gE=new r.s("CDK_TABLE");let yE=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.N))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkCellDef",""]]}),t})(),bE=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.N))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),vE=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.N))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class _E{}const wE=mE(_E);let SE=(()=>{class t extends wE{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=ob(t),this._hasStickyChanged=e!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(gE,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,yE,1),r.Kb(n,bE,1),r.Kb(n,vE,1)),2&t){let t;r.xc(t=r.ic())&&(e.cell=t.first),r.xc(t=r.ic())&&(e.headerCell=t.first),r.xc(t=r.ic())&&(e.footerCell=t.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[r.Db([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),r.Bb]}),t})();class EE{constructor(t,e){const n=e.nativeElement.classList;for(const r of t._columnCssClassName)n.add(r)}}let CE=(()=>{class t extends EE{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(SE),r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[r.Bb]}),t})(),OE=(()=>{class t extends EE{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(SE),r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[r.Bb]}),t})();class xE{constructor(){this.tasks=[],this.endTasks=[]}}const TE=new r.s("_COALESCED_STYLE_SCHEDULER");let kE=(()=>{class t{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new ay.a}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new xE,this._getScheduleObservable().pipe(tS(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new xE;for(const e of t.tasks)e();for(const e of t.endTasks)e()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Object(vt.a)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ey(1))}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.B))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),RE=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof DE?t.headerCell.template:this instanceof PE?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.N),r.Rb(r.u))},t.\u0275dir=r.Mb({type:t,features:[r.Cb]}),t})();class IE extends RE{}const AE=mE(IE);let DE=(()=>{class t extends AE{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.N),r.Rb(r.u),r.Rb(gE,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[r.Bb,r.Cb]}),t})();class jE extends RE{}const NE=mE(jE);let PE=(()=>{class t extends NE{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.N),r.Rb(r.u),r.Rb(gE,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[r.Bb,r.Cb]}),t})(),LE=(()=>{class t extends RE{constructor(t,e,n){super(t,e),this._table=n}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.N),r.Rb(r.u),r.Rb(gE,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[r.Bb]}),t})(),FE=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.S))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),ME=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Tb(0,0)},directives:[FE],encapsulation:2}),t})(),VE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Tb(0,0)},directives:[FE],encapsulation:2}),t})(),UE=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.N))},t.\u0275dir=r.Mb({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t})();const BE=["top","bottom","left","right"];class qE{constructor(t,e,n,r,i=!0,s=!0,o){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=i,this._needsPositionStickyOnElement=s,this._positionListener=o,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const n=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let t=0;t<r.children.length;t++)n.push(r.children[t])}this._scheduleStyleChanges(()=>{for(const t of n)this._removeStickyStyle(t,e)})}updateStickyColumns(t,e,n,r=!0){if(!t.length||!this._isBrowser||!e.some(t=>t)&&!n.some(t=>t))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const i=t[0],s=i.children.length,o=this._getCellWidths(i,r),a=this._getStickyStartColumnPositions(o,e),u=this._getStickyEndColumnPositions(o,n),c=e.lastIndexOf(!0),l=n.indexOf(!0);this._scheduleStyleChanges(()=>{const r="rtl"===this.direction,i=r?"right":"left",h=r?"left":"right";for(const o of t)for(let t=0;t<s;t++){const r=o.children[t];e[t]&&this._addStickyStyle(r,i,a[t],t===c),n[t]&&this._addStickyStyle(r,h,u[t],t===l)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===c?[]:o.slice(0,c+1).map((t,n)=>e[n]?t:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===l?[]:o.slice(l).map((t,e)=>n[e+l]?t:null).reverse()}))})}stickRows(t,e,n){if(!this._isBrowser)return;const r="bottom"===n?t.slice().reverse():t,i="bottom"===n?e.slice().reverse():e,s=[],o=[],a=[];for(let c=0,l=0;c<r.length;c++){if(s[c]=l,!i[c])continue;const t=r[c];a[c]=this._isNativeHtmlTable?Array.from(t.children):[t];const e=t.getBoundingClientRect().height;l+=e,o[c]=e}const u=i.lastIndexOf(!0);this._scheduleStyleChanges(()=>{var t,e;for(let o=0;o<r.length;o++){if(!i[o])continue;const t=s[o],e=o===u;for(const r of a[o])this._addStickyStyle(r,n,t,e)}"top"===n?null===(t=this._positionListener)||void 0===t||t.stickyHeaderRowsUpdated({sizes:o,elements:a}):null===(e=this._positionListener)||void 0===e||e.stickyFooterRowsUpdated({sizes:o,elements:a})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");this._scheduleStyleChanges(()=>{e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const n of e)t.style[n]="",t.classList.remove(this._borderCellCss[n]);BE.some(n=>-1===e.indexOf(n)&&t.style[n])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${n}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const r of BE)t.style[r]&&(n+=e[r]);return n?`${n}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],r=t.children;for(let i=0;i<r.length;i++)n.push(r[i].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(t,e){const n=[];let r=0;for(let i=0;i<t.length;i++)e[i]&&(n[i]=r,r+=t[i]);return n}_getStickyEndColumnPositions(t,e){const n=[];let r=0;for(let i=t.length;i>0;i--)e[i]&&(n[i]=r,r+=t[i]);return n}_scheduleStyleChanges(t){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(t):t()}}const HE=new r.s("CDK_SPL");let zE=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.S),r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["","rowOutlet",""]]}),t})(),WE=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.S),r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),$E=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.S),r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),KE=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.S),r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["","noDataRowOutlet",""]]}),t})(),GE=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u,c,l){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=i,this._platform=o,this._viewRepeater=a,this._coalescedStyleScheduler=u,this._stickyPositioningListener=c,this._viewportRuler=l,this._onDestroy=new ay.a,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.viewChange=new dE({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=s,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=ob(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=ob(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e),this._viewportRuler&&this._viewportRuler.change().pipe(tS(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),sE(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return void this._updateNoDataRow();const e=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(t,e,(t,e,n)=>this._getEmbeddedViewArgs(t.item,n),t=>t.item.data,t=>{1===t.operation&&t.context&&this._renderCellTemplateForItem(t.record.item.rowDef,t.context)}):t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const e=t.item;this._renderRow(this._rowOutlet,e.rowDef,r,{$implicit:e.data})}else if(null==r)e.remove(n);else{const t=e.get(n);e.move(t,r)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let r=0;r<e.length;r++)this._renderRows[r].rowDef===t&&n.push(e[r]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let r=this._data[n];const i=this._getRenderRowsForData(r,n,e.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let e=0;e<i.length;e++){let n=i[e];const r=this._cachedRenderRowsMap.get(n.data);r.has(n.rowDef)?r.get(n.rowDef).push(n):r.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(r=>{const i=n&&n.has(r)?n.get(r):[];if(i.length){const t=i.shift();return t.dataIndex=e,t}return{data:t,rowDef:r,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),QE(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=QE(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=QE(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=QE(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff(),e=this._rowDefs.reduce(t,!1);e&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(t,!1);n&&this._forceRenderHeaderRows();const r=this._footerRowDefs.reduce(t,!1);return r&&this._forceRenderFooterRows(),e||n||r}_switchDataSource(t){this._data=[],sE(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;var e;sE(this.dataSource)?t=this.dataSource.connect(this):(e=this.dataSource)&&(e instanceof _t.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Object(Ne.a)(this.dataSource)),this._renderChangeSubscription=t.pipe(tS(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>this._columnDefsByName.get(t)),r=n.map(t=>t.sticky),i=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,r,i,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const r=t.viewContainer.get(n);e.push(r.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let r=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;r&&n.push(r)}return n}_getEmbeddedViewArgs(t,e){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:e}}_renderRow(t,e,n,r={}){const i=t.viewContainer.createEmbeddedView(e.template,r,n);return this._renderCellTemplateForItem(e,r),i}_renderCellTemplateForItem(t,e){for(let n of this._getCellTemplates(t))FE.mostRecentCellOutlet&&FE.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,e);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const r=t.get(e).context;r.count=n,r.first=0===e,r.last=e===n-1,r.even=e%2==0,r.odd=!r.even,this.multiTemplateDataRows?(r.dataIndex=this._renderRows[e].dataIndex,r.renderIndex=e):r.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup");for(const t of n.outlets)e.appendChild(t.elementRef.nativeElement);t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new qE(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Object(Ne.a)()).pipe(tS(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(t){const e=0===this._rowOutlet.viewContainer.length;if(e!==this._isShowingNoDataRow){const n=this._noDataRowOutlet.viewContainer;e?n.createEmbeddedView(t.templateRef):n.clear(),this._isShowingNoDataRow=e}}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.u),r.Rb(r.h),r.Rb(r.l),r.fc("role"),r.Rb(Hb,8),r.Rb(o),r.Rb(Sb),r.Rb(aE,8),r.Rb(TE,8),r.Rb(HE,12),r.Rb(cE,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,UE,1),r.Kb(n,SE,1),r.Kb(n,LE,1),r.Kb(n,DE,1),r.Kb(n,PE,1)),2&t){let t;r.xc(t=r.ic())&&(e._noDataRow=t.first),r.xc(t=r.ic())&&(e._contentColumnDefs=t),r.xc(t=r.ic())&&(e._contentRowDefs=t),r.xc(t=r.ic())&&(e._contentHeaderRowDefs=t),r.xc(t=r.ic())&&(e._contentFooterRowDefs=t)}},viewQuery:function(t,e){if(1&t&&(r.Ic(zE,3),r.Ic(WE,3),r.Ic($E,3),r.Ic(KE,3)),2&t){let t;r.xc(t=r.ic())&&(e._rowOutlet=t.first),r.xc(t=r.ic())&&(e._headerRowOutlet=t.first),r.xc(t=r.ic())&&(e._footerRowOutlet=t.first),r.xc(t=r.ic())&&(e._noDataRowOutlet=t.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("cdk-table-fixed-layout",e.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},exportAs:["cdkTable"],features:[r.Db([{provide:gE,useExisting:t},{provide:aE,useClass:oE},{provide:TE,useClass:kE},{provide:HE,useValue:null}])],ngContentSelectors:pE,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(r.pc(fE),r.oc(0),r.oc(1,1),r.Tb(2,0),r.Tb(3,1),r.Tb(4,2),r.Tb(5,3))},directives:[WE,zE,KE,$E],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),t})();function QE(t,e){return t.concat(Array.from(e))}let XE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[hE]]}),t})();class YE extends Fe.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class ZE extends Fe.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var JE=n("SeVD");function tC(t,e,n,r,i=new ZE(t,n,r)){if(!i.closed)return e instanceof _t.a?e.subscribe(i):Object(JE.a)(e)(i)}var eC=n("yCtX");const nC={};function rC(...t){let e,n;return Object(Cn.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(wt.a)(t[0])&&(t=t[0]),Object(eC.a)(t,n).lift(new iC(e))}class iC{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new sC(t,this.resultSelector))}}class sC extends YE{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(nC),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(tC(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===nC?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const oC=[[["caption"]],[["colgroup"],["col"]]],aC=["caption","colgroup, col"];let uC=(()=>{class t extends GE{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return t.\u0275fac=function(e){return cC(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("mat-table-fixed-layout",e.fixedLayout)},exportAs:["matTable"],features:[r.Db([{provide:aE,useClass:oE},{provide:GE,useExisting:t},{provide:gE,useExisting:t},{provide:TE,useClass:kE}]),r.Bb],ngContentSelectors:aC,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(r.pc(oC),r.oc(0),r.oc(1,1),r.Tb(2,0),r.Tb(3,1),r.Tb(4,2),r.Tb(5,3))},directives:[WE,zE,KE,$E],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),t})();const cC=r.Zb(uC);let lC=(()=>{class t extends yE{}return t.\u0275fac=function(e){return hC(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","matCellDef",""]],features:[r.Db([{provide:yE,useExisting:t}]),r.Bb]}),t})();const hC=r.Zb(lC);let dC=(()=>{class t extends bE{}return t.\u0275fac=function(e){return fC(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","matHeaderCellDef",""]],features:[r.Db([{provide:bE,useExisting:t}]),r.Bb]}),t})();const fC=r.Zb(dC);let pC=(()=>{class t extends SE{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return t.\u0275fac=function(e){return mC(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[r.Db([{provide:SE,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),r.Bb]}),t})();const mC=r.Zb(pC);let gC=(()=>{class t extends CE{}return t.\u0275fac=function(e){return yC(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[r.Bb]}),t})();const yC=r.Zb(gC);let bC=(()=>{class t extends OE{}return t.\u0275fac=function(e){return vC(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[r.Bb]}),t})();const vC=r.Zb(bC);let _C=(()=>{class t extends DE{}return t.\u0275fac=function(e){return wC(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[r.Db([{provide:DE,useExisting:t}]),r.Bb]}),t})();const wC=r.Zb(_C);let SC=(()=>{class t extends LE{}return t.\u0275fac=function(e){return EC(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[r.Db([{provide:LE,useExisting:t}]),r.Bb]}),t})();const EC=r.Zb(SC);let CC=(()=>{class t extends ME{}return t.\u0275fac=function(e){return OC(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[r.Db([{provide:ME,useExisting:t}]),r.Bb],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Tb(0,0)},directives:[FE],encapsulation:2}),t})();const OC=r.Zb(CC);let xC=(()=>{class t extends VE{}return t.\u0275fac=function(e){return TC(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[r.Db([{provide:VE,useExisting:t}]),r.Bb],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Tb(0,0)},directives:[FE],encapsulation:2}),t})();const TC=r.Zb(xC);let kC=(()=>{class t extends UE{}return t.\u0275fac=function(e){return RC(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["ng-template","matNoDataRow",""]],features:[r.Db([{provide:UE,useExisting:t}]),r.Bb]}),t})();const RC=r.Zb(kC);let IC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[XE,jw],jw]}),t})();class AC extends class extends class{}{constructor(t=[]){super(),this._renderData=new dE([]),this._filter=new dE(""),this._internalPageChanges=new ay.a,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,e)=>{const n=t[e];if(ab(n)){const t=Number(n);return t<9007199254740991?t:n}return n},this.sortData=(t,e)=>{const n=e.active,r=e.direction;return n&&""!=r?t.sort((t,e)=>{let i=this.sortingDataAccessor(t,n),s=this.sortingDataAccessor(e,n);const o=typeof i,a=typeof s;o!==a&&("number"===o&&(i+=""),"number"===a&&(s+=""));let u=0;return null!=i&&null!=s?i>s?u=1:i<s&&(u=-1):null!=i?u=1:null!=s&&(u=-1),u*("asc"==r?1:-1)}):t},this.filterPredicate=(t,e)=>{const n=Object.keys(t).reduce((e,n)=>e+t[n]+"\u25ec","").toLowerCase(),r=e.trim().toLowerCase();return-1!=n.indexOf(r)},this._data=new dE(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?Object(uy.a)(this._sort.sortChange,this._sort.initialized):Object(Ne.a)(null),n=this._paginator?Object(uy.a)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Object(Ne.a)(null),r=rC([this._data,this._filter]).pipe(Object(St.a)(([t])=>this._filterData(t))),i=rC([r,e]).pipe(Object(St.a)(([t])=>this._orderData(t))),s=rC([i,n]).pipe(Object(St.a)(([t])=>this._pageData(t)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=s.subscribe(t=>this._renderData.next(t))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const t=Math.ceil(e.length/e.pageSize)-1||0,n=Math.min(e.pageIndex,t);n!==e.pageIndex&&(e.pageIndex=n,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}function DC(t){return new _t.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(vt.a)(n):Object(Sy.b)()).subscribe(e)})}var jC=n("EQ5u");function NC(t){return function(e){const n=new PC(t),r=e.lift(n);return n.caught=r}}class PC{constructor(t){this.selector=t}call(t,e){return e.subscribe(new LC(t,this.selector,this.caught))}}class LC extends cy.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new cy.a(this);this.add(r);const i=Object(cy.c)(n,r);i!==r&&this.add(i)}}}function FC(t){return function(e){return 0===t?Object(Sy.b)():e.lift(new MC(t))}}class MC{constructor(t){if(this.total=t,this.total<0)throw new wy}call(t,e){return e.subscribe(new VC(t,this.total))}}class VC extends Fe.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var UC=n("x+ZX");class BC{constructor(t){this.callback=t}call(t,e){return e.subscribe(new qC(t,this.callback))}}class qC extends Fe.a{constructor(t,e){super(t),this.add(new py.a(e))}}class HC{constructor(t,e){this.id=t,this.url=e}}class zC extends HC{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class WC extends HC{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $C extends HC{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class KC extends HC{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class GC extends HC{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QC extends HC{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XC extends HC{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class YC extends HC{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZC extends HC{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JC{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tO{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class eO{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nO{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rO{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iO{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sO{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const oO="primary";class aO{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function uO(t){return new aO(t)}function cO(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function lO(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function hO(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!dO(t[i],e[i]))return!1;return!0}function dO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function fO(t){return Array.prototype.concat.apply([],t)}function pO(t){return t.length>0?t[t.length-1]:null}function mO(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function gO(t){return Object(r.ub)(t)?t:Object(r.vb)(t)?Object(vt.a)(Promise.resolve(t)):Object(Ne.a)(t)}function yO(t,e,n){return n?function(t,e){return hO(t,e)}(t.queryParams,e.queryParams)&&bO(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>dO(t[n],e[n]))}(t.queryParams,e.queryParams)&&vO(t.root,e.root)}function bO(t,e){if(!CO(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!bO(t.children[n],e.children[n]))return!1}return!0}function vO(t,e){return _O(t,e,e.segments)}function _O(t,e,n){if(t.segments.length>n.length)return!!CO(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!CO(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!vO(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!CO(t.segments,r)&&!!t.children.primary&&_O(t.children.primary,e,i)}}class wO{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uO(this.queryParams)),this._queryParamMap}toString(){return TO.serialize(this)}}class SO{constructor(t,e){this.segments=t,this.children=e,this.parent=null,mO(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kO(this)}}class EO{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=uO(this.parameters)),this._parameterMap}toString(){return PO(this)}}function CO(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class OO{}class xO{parse(t){const e=new UO(t);return new wO(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${RO(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${AO(e)}=${AO(t)}`).join("&"):`${AO(e)}=${AO(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const TO=new xO;function kO(t){return t.segments.map(t=>PO(t)).join("/")}function RO(t,e){if(!t.hasChildren())return kO(t);if(e){const e=t.children.primary?RO(t.children.primary,!1):"",n=[];return mO(t.children,(t,e)=>{e!==oO&&n.push(`${e}:${RO(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return mO(t.children,(t,r)=>{r===oO&&(n=n.concat(e(t,r)))}),mO(t.children,(t,r)=>{r!==oO&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===oO?[RO(t.children.primary,!1)]:[`${n}:${RO(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${kO(t)}/${e[0]}`:`${kO(t)}/(${e.join("//")})`}}function IO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function AO(t){return IO(t).replace(/%3B/gi,";")}function DO(t){return IO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jO(t){return decodeURIComponent(t)}function NO(t){return jO(t.replace(/\+/g,"%20"))}function PO(t){return`${DO(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${DO(t)}=${DO(e[t])}`).join("")}`;var e}const LO=/^[^\/()?;=#]+/;function FO(t){const e=t.match(LO);return e?e[0]:""}const MO=/^[^=?&#]+/,VO=/^[^?&#]+/;class UO{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new SO([],{}):new SO([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new SO(t,e)),n}parseSegment(){const t=FO(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new EO(jO(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=FO(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=FO(this.remaining);t&&(n=t,this.capture(n))}t[jO(e)]=jO(n)}parseQueryParam(t){const e=function(t){const e=t.match(MO);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(VO);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=NO(e),i=NO(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=FO(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=oO);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new SO([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class BO{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=qO(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=qO(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=HO(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return HO(t,this._root).map(t=>t.value)}}function qO(t,e){if(t===e.value)return e;for(const n of e.children){const e=qO(t,n);if(e)return e}return null}function HO(t,e){if(t===e.value)return[e];for(const n of e.children){const r=HO(t,n);if(r.length)return r.unshift(e),r}return[]}class zO{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function WO(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class $O extends BO{constructor(t,e){super(t),this.snapshot=e,ZO(this,t)}toString(){return this.snapshot.toString()}}function KO(t,e){const n=function(t,e){const n=new XO([],{},{},"",{},oO,e,null,t.root,-1,{});return new YO("",new zO(n,[]))}(t,e),r=new dE([new EO("",{})]),i=new dE({}),s=new dE({}),o=new dE({}),a=new dE(""),u=new GO(r,i,o,a,s,oO,e,n.root);return u.snapshot=n.root,new $O(new zO(u,[]),n)}class GO{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(St.a)(t=>uO(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(St.a)(t=>uO(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function QO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class XO{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=uO(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uO(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YO extends BO{constructor(t,e){super(e),this.url=t,ZO(this,e)}toString(){return JO(this._root)}}function ZO(t,e){e.value._routerState=t,e.children.forEach(e=>ZO(t,e))}function JO(t){const e=t.children.length>0?` { ${t.children.map(JO).join(", ")} } `:"";return`${t.value}${e}`}function tx(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hO(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),hO(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!hO(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),hO(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ex(t,e){return hO(t.params,e.params)&&function(t,e){return CO(t,e)&&t.every((t,n)=>hO(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||ex(t.parent,e.parent))}function nx(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return nx(t,e,r);return nx(t,e)})}(t,e,n);return new zO(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return rx(e,t),t}}const n=new GO(new dE((r=e.value).url),new dE(r.params),new dE(r.queryParams),new dE(r.fragment),new dE(r.data),r.outlet,r.component,r),i=e.children.map(e=>nx(t,e));return new zO(n,i)}var r}function rx(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)rx(t.children[n],e.children[n])}function ix(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function sx(t){return"object"==typeof t&&null!=t&&t.outlets}function ox(t,e,n,r,i){let s={};return r&&mO(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new wO(n.root===t?e:ax(n.root,t,e),s,i)}function ax(t,e,n){const r={};return mO(t.children,(t,i)=>{r[i]=t===e?n:ax(t,e,n)}),new SO(t.segments,r)}class ux{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ix(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(sx);if(r&&r!==pO(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cx{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function lx(t,e,n){if(t||(t=new SO([],{})),0===t.segments.length&&t.hasChildren())return hx(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(sx(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!mx(a,u,e))return s;r+=2}else{if(!mx(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new SO(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new SO(t.segments.slice(r.pathIndex),t.children),hx(e,0,i)}return r.match&&0===i.length?new SO(t.segments,{}):r.match&&!t.hasChildren()?dx(t,e,n):r.match?hx(t,0,i):dx(t,e,n)}function hx(t,e,n){if(0===n.length)return new SO(t.segments,{});{const r=function(t){return sx(t[0])?t[0].outlets:{[oO]:t}}(n),i={};return mO(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=lx(t.children[r],e,n))}),mO(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new SO(t.segments,i)}}function dx(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(sx(s)){const t=fx(s.outlets);return new SO(r,t)}if(0===i&&ix(n[0])){r.push(new EO(t.segments[e].path,px(n[0]))),i++;continue}const o=sx(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ix(a)?(r.push(new EO(o,px(a))),i+=2):(r.push(new EO(o,{})),i++)}return new SO(r,{})}function fx(t){const e={};return mO(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=dx(new SO([],{}),0,t))}),e}function px(t){const e={};return mO(t,(t,n)=>e[n]=`${t}`),e}function mx(t,e,n){return t==n.path&&hO(e,n.parameters)}class gx{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),tx(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=WO(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),mO(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=WO(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=WO(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new iO(t.value.snapshot))}),t.children.length&&this.forwardEvent(new nO(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(tx(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),yx(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function yx(t){tx(t.value),t.children.forEach(yx)}class bx{constructor(t,e){this.routes=t,this.module=e}}function vx(t){return"function"==typeof t}function _x(t){return t instanceof wO}const wx=Symbol("INITIAL_VALUE");function Sx(){return ly(t=>rC(t.map(t=>t.pipe(Ey(1),On(wx)))).pipe(Rn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==wx)return t;if(r===wx&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||_x(r))return r}return t},t)},wx),Me(t=>t!==wx),Object(St.a)(t=>_x(t)?t:!0===t),Ey(1)))}let Ex=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Sb(0,"router-outlet")},directives:function(){return[mT]},encapsulation:2}),t})();function Cx(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ox(r,xx(e,r))}}function Ox(t,e){t.children&&Cx(t.children,e)}function xx(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Tx(t){const e=t.children&&t.children.map(Tx),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oO&&(n.component=Ex),n}function kx(t){return t.outlet||oO}function Rx(t,e){const n=t.filter(t=>kx(t)===e);return n.push(...t.filter(t=>kx(t)!==e)),n}const Ix={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ax(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ix):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||lO)(n,t,e);if(!i)return Object.assign({},Ix);const s={};mO(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Dx(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>jx(t,e,n)&&kx(n)!==oO)}(t,n,r)){const i=new SO(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&kx(s)!==oO){const n=new SO([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[kx(s)]=n}return i}(t,e,r,new SO(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>jx(t,e,n))}(t,n,r)){const s=new SO(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(jx(t,n,a)&&!i[kx(a)]){const n=new SO([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[kx(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new SO(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function jx(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Nx(t,e,n,r){return!!(kx(t)===r||r!==oO&&jx(e,n,t))&&("**"===t.path||Ax(e,t,n).matched)}function Px(t,e,n){return 0===e.length&&!t.children[n]}class Lx{constructor(t){this.segmentGroup=t||null}}class Fx{constructor(t){this.urlTree=t}}function Mx(t){return new _t.a(e=>e.error(new Lx(t)))}function Vx(t){return new _t.a(e=>e.error(new Fx(t)))}function Ux(t){return new _t.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Bx{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.z)}apply(){const t=Dx(this.urlTree.root,[],[],this.config).segmentGroup,e=new SO(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,oO).pipe(Object(St.a)(t=>this.createUrlTree(qx(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(NC(t=>{if(t instanceof Fx)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Lx)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,oO).pipe(Object(St.a)(e=>this.createUrlTree(qx(e),t.queryParams,t.fragment))).pipe(NC(t=>{if(t instanceof Lx)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new SO([],{[oO]:t}):t;return new wO(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(St.a)(t=>new SO([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(vt.a)(r).pipe(Le(r=>{const i=n.children[r],s=Rx(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(St.a)(t=>({segment:t,outlet:r})))}),Rn((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Me((e,n)=>t(e,n,r)):jy.a,FC(1),n?xy(e):Ry(()=>new _y))}())}expandSegment(t,e,n,r,i,s){return Object(vt.a)(n).pipe(Le(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(NC(t=>{if(t instanceof Lx)return Object(Ne.a)(null);throw t}))),Ny(t=>!!t),NC((t,n)=>{if(t instanceof _y||"EmptyError"===t.name){if(Px(e,r,i))return Object(Ne.a)(new SO([],{}));throw new Lx(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Nx(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Mx(e):Mx(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Vx(i):this.lineralizeSegments(n,i).pipe(Object(Pe.a)(n=>{const i=new SO(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Ax(e,r,i);if(!o)return Mx(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Vx(l):this.lineralizeSegments(r,l).pipe(Object(Pe.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Ne.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(St.a)(t=>(n._loadedConfig=t,new SO(r,{})))):Object(Ne.a)(new SO(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Ax(e,n,r);if(!s)return Mx(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(Pe.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=Dx(e,o,u,s),l=new SO(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object(St.a)(t=>new SO(o,t)));if(0===s.length&&0===c.length)return Object(Ne.a)(new SO(o,{}));const h=kx(n)===i;return this.expandSegment(r,l,s,c,h?oO:i,!0).pipe(Object(St.a)(t=>new SO(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ne.a)(new bx(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ne.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Pe.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(St.a)(t=>(e._loadedConfig=t,t))):function(t){return new _t.a(e=>e.error(cO(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ne.a)(new bx([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ne.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&vx(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!vx(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return gO(s)});return Object(Ne.a)(i).pipe(Sx(),Object(vb.a)(t=>{if(!_x(t))return;const e=cO(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(St.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ne.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Ux(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new wO(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return mO(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return mO(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new SO(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function qx(t){const e={};for(const n of Object.keys(t.children)){const r=qx(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new SO(t.segments.concat(e.segments),e.children)}return t}(new SO(t.segments,e))}class Hx{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class zx{constructor(t,e){this.component=t,this.route=e}}function Wx(t,e,n){const r=t._root;return Kx(r,e?e._root:null,n,[r.value])}function $x(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Kx(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=WO(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!CO(t.url,e.url);case"pathParamsOrQueryParamsChange":return!CO(t.url,e.url)||!hO(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ex(t,e)||!hO(t.queryParams,e.queryParams);case"paramsChange":default:return!ex(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Hx(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Kx(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new zx(a.outlet.component,o))}else o&&Gx(e,a,i),i.canActivateChecks.push(new Hx(r)),Kx(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),mO(s,(t,e)=>Gx(t,n.getContext(e),i)),i}function Gx(t,e,n){const r=WO(t),i=t.value;mO(r,(t,r)=>{Gx(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new zx(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Qx{}function Xx(t){return new _t.a(e=>e.error(t))}class Yx{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=Dx(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,oO);if(null===e)return null;const n=new XO([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},oO,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new zO(n,e),i=new YO(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=QO(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Rx(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Jx(n);return r.sort((t,e)=>t.value.outlet===oO?-1:e.value.outlet===oO?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Px(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Nx(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?pO(n).parameters:{};i=new XO(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,nT(t),kx(t),t.component,t,tT(e),eT(e)+n.length,rT(t))}else{const r=Ax(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new XO(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,nT(t),kx(t),t.component,t,tT(e),eT(e)+s.length,rT(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Dx(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new zO(i,t)]}if(0===a.length&&0===c.length)return[new zO(i,[])];const l=kx(t)===r,h=this.processSegment(a,u,c,l?oO:r);return null===h?null:[new zO(i,h)]}}function Zx(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Jx(t){const e=[],n=new Set;for(const r of t){if(!Zx(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Jx(r.children);e.push(new zO(r.value,t))}return e.filter(t=>!n.has(t))}function tT(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function eT(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function nT(t){return t.data||{}}function rT(t){return t.resolve||{}}function iT(t){return ly(e=>{const n=t(e);return n?Object(vt.a)(n).pipe(Object(St.a)(()=>e)):Object(Ne.a)(e)})}class sT extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const oT=new r.s("ROUTES");class aT{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(St.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new bx(fO(i.injector.get(oT,void 0,r.r.Self|r.r.Optional)).map(Tx),i)}),NC(t=>{throw e._loader$=void 0,t}));return e._loader$=new jC.a(n,()=>new ay.a).pipe(Object(UC.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(vt.a)(this.loader.load(t)):gO(t()).pipe(Object(Pe.a)(t=>t instanceof r.x?Object(Ne.a)(t):Object(vt.a)(this.compiler.compileModuleAsync(t))))}}class uT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new cT,this.attachRef=null}}class cT{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new uT,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class lT{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function hT(t){throw t}function dT(t,e,n){return e.parse("/")}function fT(t,e){return Object(Ne.a)(null)}let pT=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new ay.a,this.errorHandler=hT,this.malformedUriErrorHandler=dT,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:fT,afterPreactivation:fT},this.urlHandlingStrategy=new lT,this.routeReuseStrategy=new sT,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.z),this.console=s.get(r.bb);const c=s.get(r.B);this.isNgZoneEnabled=c instanceof r.B&&r.B.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new wO(new SO([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new aT(o,a,t=>this.triggerEvent(new JC(t)),t=>this.triggerEvent(new tO(t))),this.routerState=KO(this.currentUrlTree,this.rootComponentType),this.transitions=new dE({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Me(t=>0!==t.id),Object(St.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),ly(t=>{let n=!1,r=!1;return Object(Ne.a)(t).pipe(Object(vb.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ly(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ne.a)(t).pipe(ly(t=>{const n=this.transitions.getValue();return e.next(new zC(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Sy.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,ly(t=>function(t,e,n,r,i){return new Bx(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(St.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(vb.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(Pe.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new Yx(t,e,n,r,i,s).recognize();return null===o?Xx(new Qx):Object(Ne.a)(o)}catch(ny){return Xx(ny)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(St.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(vb.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new GC(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new zC(n,this.serializeUrl(r),i,s);e.next(a);const u=KO(r,this.rootComponentType).snapshot;return Object(Ne.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Sy.a}),iT(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(vb.a)(t=>{const e=new QC(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(St.a)(t=>Object.assign(Object.assign({},t),{guards:Wx(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(Pe.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Ne.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(vt.a)(t).pipe(Object(Pe.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Ne.a)(!0);const o=s.map(s=>{const o=$x(s,e,i);let a;if(function(t){return t&&vx(t.canDeactivate)}(o))a=gO(o.canDeactivate(t,e,n,r));else{if(!vx(o))throw new Error("Invalid CanDeactivate guard");a=gO(o(t,e,n,r))}return a.pipe(Ny())});return Object(Ne.a)(o).pipe(Sx())}(t.component,t.route,n,e,r)),Ny(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(Pe.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(vt.a)(e).pipe(Le(e=>En(function(t,e){return null!==t&&e&&e(new eO(t)),Object(Ne.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new rO(t)),Object(Ne.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>DC(()=>{const i=e.guards.map(i=>{const s=$x(i,e.node,n);let o;if(function(t){return t&&vx(t.canActivateChild)}(s))o=gO(s.canActivateChild(r,t));else{if(!vx(s))throw new Error("Invalid CanActivateChild guard");o=gO(s(r,t))}return o.pipe(Ny())});return Object(Ne.a)(i).pipe(Sx())}));return Object(Ne.a)(i).pipe(Sx())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ne.a)(!0);const i=r.map(r=>DC(()=>{const i=$x(r,e,n);let s;if(function(t){return t&&vx(t.canActivate)}(i))s=gO(i.canActivate(e,t));else{if(!vx(i))throw new Error("Invalid CanActivate guard");s=gO(i(e,t))}return s.pipe(Ny())}));return Object(Ne.a)(i).pipe(Sx())}(t,e.route,n))),Ny(t=>!0!==t,!0))}(r,s,t,e):Object(Ne.a)(n)),Object(St.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(vb.a)(t=>{if(_x(t.guardsResult)){const e=cO(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new XC(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Me(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new $C(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),iT(t=>{if(t.guards.canActivateChecks.length)return Object(Ne.a)(t).pipe(Object(vb.a)(t=>{const e=new YC(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),ly(t=>{let n=!1;return Object(Ne.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(Pe.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ne.a)(t);let s=0;return Object(vt.a)(n).pipe(Le(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ne.a)({});const s={};return Object(vt.a)(i).pipe(Object(Pe.a)(i=>function(t,e,n,r){const i=$x(t,e,r);return gO(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(vb.a)(t=>{s[i]=t}))),FC(1),Object(Pe.a)(()=>Object.keys(s).length===i.length?Object(Ne.a)(s):Sy.a))}(t._resolve,t,e,r).pipe(Object(St.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),QO(t,n).resolve),null)))}(t.route,e,r,i)),Object(vb.a)(()=>s++),FC(1),Object(Pe.a)(e=>s===n.length?Object(Ne.a)(t):Sy.a))})),Object(vb.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new $C(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(vb.a)(t=>{const e=new ZC(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),iT(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(St.a)(t=>{const e=function(t,e,n){const r=nx(t,e._root,n?n._root:void 0);return new $O(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(vb.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(St.a)(t=>(new gx(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(vb.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new $C(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new BC(i))),NC(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=_x(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new $C(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new KC(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(xu){t.reject(xu)}}var i;return Sy.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Cx(t),this.config=t.map(Tx),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return ox(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ux(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return mO(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new ux(n,e,r)}(n);if(s.toRoot())return ox(e.root,new SO([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new cx(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new cx(t,t===e.root,0)}const r=ix(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new cx(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?hx(o.segmentGroup,o.index,s.commands):lx(o.segmentGroup,o.index,s.commands);return ox(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=_x(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(ny){e=this.malformedUriErrorHandler(ny,this.urlSerializer,t)}return e}isActive(t,e){if(_x(t))return yO(this.currentUrlTree,t,e);const n=this.parseUrl(t);return yO(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new WC(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.P),r.ec(OO),r.ec(cT),r.ec(w),r.ec(r.t),r.ec(r.y),r.ec(r.i),r.ec(void 0))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),mT=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.o,this.deactivateEvents=new r.o,this.name=i||oO,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new gT(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(cT),r.Rb(r.S),r.Rb(r.j),r.fc("name"),r.Rb(r.h))},t.\u0275dir=r.Mb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class gT{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===GO?this.route:t===cT?this.childContexts:this.parent.get(t,e)}}class yT{}class bT{preload(t,e){return Object(Ne.a)(null)}}let vT=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new aT(e,n,e=>t.triggerEvent(new JC(e)),e=>t.triggerEvent(new tO(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Me(t=>t instanceof WC),Le(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.z);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(vt.a)(n).pipe(Object(Sn.a)(),Object(St.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(Ne.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(Pe.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.ec(pT),r.ec(r.y),r.ec(r.i),r.ec(r.t),r.ec(yT))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),_T=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof zC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof WC&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof sO&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new sO(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.ec(pT),r.ec(U),r.ec(void 0))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const wT=new r.s("ROUTER_CONFIGURATION"),ST=new r.s("ROUTER_FORROOT_GUARD"),ET=[w,{provide:OO,useClass:xO},{provide:pT,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new pT(null,t,e,n,r,i,o,fO(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[OO,cT,w,r.t,r.y,r.i,oT,wT,[class{},new r.C],[class{},new r.C]]},cT,{provide:GO,useFactory:function(t){return t.routerState.root},deps:[pT]},{provide:r.y,useClass:r.M},vT,bT,class{preload(t,e){return e().pipe(NC(()=>Object(Ne.a)(null)))}},{provide:wT,useValue:{enableTracing:!1}}];function CT(){return new r.A("Router",pT)}let OT=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ET,RT(e),{provide:ST,useFactory:kT,deps:[[pT,new r.C,new r.L]]},{provide:wT,useValue:n||{}},{provide:g,useFactory:TT,deps:[a,[new r.q(b),new r.C],wT]},{provide:_T,useFactory:xT,deps:[pT,U,wT]},{provide:yT,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:bT},{provide:r.A,multi:!0,useFactory:CT},[IT,{provide:r.d,multi:!0,useFactory:AT,deps:[IT]},{provide:jT,useFactory:DT,deps:[IT]},{provide:r.b,multi:!0,useExisting:jT}]]}}static forChild(e){return{ngModule:t,providers:[RT(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.ec(ST,8),r.ec(pT,8))},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})();function xT(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new _T(t,e,n)}function TT(t,e,n={}){return n.useHash?new _(t,e):new v(t,e)}function kT(t){return"guarded"}function RT(t){return[{provide:r.a,multi:!0,useValue:t},{provide:oT,multi:!0,useValue:t}]}let IT=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new ay.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(pT),r=this.injector.get(wT);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ne.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(wT),n=this.injector.get(vT),i=this.injector.get(_T),s=this.injector.get(pT),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.t))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();function AT(t){return t.appInitializer.bind(t)}function DT(t){return t.bootstrapListener.bind(t)}const jT=new r.s("Router Initializer");function NT(t,e){if(1&t&&(r.Xb(0,"th",15),r.Fc(1),r.Wb()),2&t){const t=r.lc().index,e=r.lc();r.Eb(1),r.Gc(e.columnsDisplay[t])}}function PT(t,e){if(1&t&&(r.Xb(0,"td",16),r.Fc(1),r.Wb()),2&t){const t=e.$implicit,n=r.lc().$implicit;r.Eb(1),r.Gc(t[n])}}function LT(t,e){1&t&&(r.Vb(0,13),r.Dc(1,NT,2,1,"th",14),r.Dc(2,PT,2,1,"td",8),r.Ub()),2&t&&r.rc("matColumnDef",e.$implicit)}function FT(t,e){if(1&t&&(r.Xb(0,"div"),r.Fc(1),r.Wb()),2&t){const t=r.lc().$implicit;r.Eb(1),r.Hc("Complemento: ",t.complemento,"")}}function MT(t,e){if(1&t&&(r.Xb(0,"td",16),r.Xb(1,"div",17),r.Xb(2,"div",18),r.Xb(3,"div"),r.Fc(4),r.Wb(),r.Xb(5,"div"),r.Fc(6),r.Wb(),r.Xb(7,"div"),r.Fc(8),r.Wb(),r.Wb(),r.Xb(9,"div"),r.Xb(10,"div"),r.Fc(11),r.Wb(),r.Xb(12,"div"),r.Fc(13),r.Wb(),r.Dc(14,FT,2,1,"div",19),r.Wb(),r.Wb(),r.Wb()),2&t){const t=e.$implicit,n=r.lc();r.Fb("colspan",n.columnsToDisplay.length),r.Eb(1),r.qc("@detailExpand",t==n.expandedElement?"expanded":"collapsed"),r.Eb(3),r.Hc("Rua: ",t.logradouro,""),r.Eb(2),r.Hc("Bairro: ",t.bairro,""),r.Eb(2),r.Hc("Cidade: ",t.localidade,""),r.Eb(3),r.Hc("UF: ",t.uf,""),r.Eb(2),r.Hc("N\xfamero: ",t.numero,""),r.Eb(1),r.qc("ngIf",t.complemento)}}function VT(t,e){1&t&&r.Sb(0,"tr",20)}function UT(t,e){if(1&t){const t=r.Yb();r.Xb(0,"tr",21),r.hc("click",function(){r.zc(t);const n=e.$implicit,i=r.lc();return i.expandedElement=i.expandedElement===n?null:n}),r.Wb()}if(2&t){const t=e.$implicit,n=r.lc();r.Jb("example-expanded-row",n.expandedElement===t)}}function BT(t,e){1&t&&r.Sb(0,"tr",22)}function qT(t,e){if(1&t&&(r.Xb(0,"tr",23),r.Xb(1,"td",24),r.Fc(2),r.Wb(),r.Wb()),2&t){r.lc();const t=r.yc(9);r.Eb(2),r.Hc('N\xe3o h\xe1 dados correspondente a essa pesquisa "',t.value,'"')}}const HT=function(){return["expandedDetail"]},zT=[{path:"",redirectTo:"/clientes",pathMatch:"full"},{path:"clientes",component:(()=>{class t{constructor(t,e){this.router=t,this.db=e,this.columnsToDisplay=["nome","localidade","uf"],this.columnsDisplay=["Nome","Cidade","Estado",""]}ngOnInit(){return Object(je.b)(this,void 0,void 0,function*(){this.dataSource=yield this.db.getCliente(),this.data=new AC(this.dataSource)})}addCliente(){this.router.navigate(["add"])}applyFilter(t){this.data.filter=t.target.value.trim().toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(pT),r.Rb(sb))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-clientes"]],decls:18,vars:6,consts:[[1,"m-3"],["mat-raised-button","",1,"btncor",3,"click"],["appearance","standard"],["matInput","",3,"keyup"],["input",""],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","expandedDetail"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""],["mat-cell",""],[1,"example-element-detail"],[1,"mx-3","mb-2"],[4,"ngIf"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(r.Xb(0,"div"),r.Xb(1,"div",0),r.Xb(2,"button",1),r.hc("click",function(){return e.addCliente()}),r.Fc(3," Novo Cliente "),r.Wb(),r.Wb(),r.Xb(4,"div",0),r.Xb(5,"mat-form-field",2),r.Xb(6,"mat-label"),r.Fc(7,"Filtro"),r.Wb(),r.Xb(8,"input",3,4),r.hc("keyup",function(t){return e.applyFilter(t)}),r.Wb(),r.Wb(),r.Xb(10,"table",5),r.Dc(11,LT,3,1,"ng-container",6),r.Vb(12,7),r.Dc(13,MT,15,8,"td",8),r.Ub(),r.Dc(14,VT,1,0,"tr",9),r.Dc(15,UT,1,2,"tr",10),r.Dc(16,BT,1,0,"tr",11),r.Dc(17,qT,3,1,"tr",12),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Eb(10),r.qc("dataSource",e.data),r.Eb(1),r.qc("ngForOf",e.columnsToDisplay),r.Eb(3),r.qc("matHeaderRowDef",e.columnsToDisplay),r.Eb(1),r.qc("matRowDefColumns",e.columnsToDisplay),r.Eb(1),r.qc("matRowDefColumns",r.tc(5,HT)))},directives:[nE,jS,CS,QS,uC,I,pC,lC,_C,SC,kC,dC,gC,bC,D,CC,xC],styles:[".btncor[_ngcontent-%COMP%]{background-color:#f4623a;color:#fff}table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}"],data:{animation:[Gb("detailExpand",[Zb("collapsed",Yb({height:"0px",minHeight:"0"})),Zb("expanded",Yb({height:"*"})),Jb("expanded <=> collapsed",Qb("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t})()},{path:"add",component:iE}];let WT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[OT.forRoot(zT)],OT]}),t})(),$T=(()=>{class t{constructor(){this.title="ViaCep"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Xb(0,"div"),r.Sb(1,"router-outlet"),r.Wb())},directives:[mT],styles:[""]}),t})();class KT{call(t,e){return e.subscribe(new GT(t))}}class GT extends YE{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=tC(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n("KqfI");var QT=n("Lhse");function XT(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(eC.a)(t,void 0).lift(new YT(e))}class YT{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ZT(t,this.resultSelector))}}class ZT extends Fe.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(wt.a)(t)?e.push(new tk(t)):e.push("function"==typeof t[QT.a]?new JT(t[QT.a]()):new ek(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let s=0;s<e;s++){let e=t[s],o=e.next();if(e.hasCompleted()&&(r=!0),o.done)return void n.complete();i.push(o.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class JT{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class tk{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[QT.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class ek extends cy.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[QT.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(cy.c)(this.observable,new cy.a(this))}}function nk(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new rk(t,n))}}class rk{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new ik(t,this.observables,this.project))}}class ik extends YE{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(tC(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n("WMd4"),n("w1tV");const sk=["*"],ok=["dialog"];function ak(t){return null!=t}function uk(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const ck={animation:!0,transitionTimerDelayMs:5};let lk=(()=>{class t{constructor(){this.animation=ck.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const hk=()=>{},{transitionTimerDelayMs:dk}=ck,fk=new Map,pk=(t,e,n,r)=>{let i=r.context||{};const s=fk.get(e);if(s)switch(r.runningTransition){case"continue":return Sy.a;case"stop":t.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),fk.delete(e)}const o=n(e,r.animation,i)||hk;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>o()),Object(Ne.a)(void 0).pipe(function(t){return e=>new _t.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new ay.a,u=new ay.a,c=a.pipe(function(...t){return e=>En(e,Object(Ne.a)(...t))}(!0));fk.set(e,{transition$:a,complete:()=>{u.next(),u.complete()},context:i});const l=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=Zw(e,"transitionend").pipe(tS(c),Me(({target:t})=>t===e));(function(...t){if(1===t.length){if(!Object(wt.a)(t[0]))return t[0];t=t[0]}return Object(eC.a)(t,void 0).lift(new KT)})(MS(l+dk).pipe(tS(c)),n,u).pipe(tS(c)).subscribe(()=>{fk.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let mk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[M]]}),t})(),gk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[M]]}),t})(),yk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})(),bk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[M]]}),t})(),vk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})();var _k=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const wk=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Sk(t){const e=Array.from(t.querySelectorAll(wk)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let s={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,n,r){const[i="top",s="center"]=n.split("-"),o=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),u=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let d=0,f=0;switch(i){case"top":d=o.top-(e.offsetHeight+u+c);break;case"bottom":d=o.top+o.height;break;case"left":f=o.left-(e.offsetWidth+l+h);break;case"right":f=o.left+o.width}switch(s){case"top":d=o.top;break;case"bottom":d=o.top+o.height-e.offsetHeight;break;case"left":f=o.left;break;case"right":f=o.left+o.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?f=o.left+o.width/2-e.offsetWidth/2:d=o.top+o.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(f)}px, ${Math.round(d)}px)`;const p=e.getBoundingClientRect(),m=document.documentElement,g=window.innerHeight||m.clientHeight,y=window.innerWidth||m.clientWidth;return p.left>=0&&p.top>=0&&p.right<=y&&p.bottom<=g}},new Date(1882,10,12),new Date(2174,10,25);let Ek=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[M,Ie]]}),t})(),Ck=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})(),Ok=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.ec(lk))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(lk))},token:t,providedIn:"root"}),t})();class xk{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const Tk=()=>{};let kk=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):Tk}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(o))},token:t,providedIn:"root"}),t})(),Rk=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(Ey(1)).subscribe(()=>{pk(this._zone,this._el.nativeElement,(t,e)=>{e&&uk(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return pk(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.B))},t.\u0275cmp=r.Lb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Gb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Jb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class Ik{close(t){}dismiss(t){}}class Ak{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new ay.a,this._dismissed=new ay.a,this._hidden=new ay.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(tS(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(tS(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(Ne.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),XT(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Dk=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let jk=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new ay.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.o,this.shown=new ay.a,this.hidden=new ay.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ey(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=XT(pk(this._zone,t,()=>t.classList.remove("show"),e),pk(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};XT(pk(this._zone,this._elRef.nativeElement,(t,e)=>{e&&uk(t),t.classList.add("show")},t),pk(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Zw(t,"keydown").pipe(tS(this._closed$),Me(t=>t.which===_k.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(Dk.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;Zw(this._dialogEl.nativeElement,"mousedown").pipe(tS(this._closed$),Object(vb.a)(()=>e=!1),ly(()=>Zw(t,"mouseup").pipe(tS(this._closed$),Ey(1))),Me(({target:e})=>t===e)).subscribe(()=>{e=!0}),Zw(t,"click").pipe(tS(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(Dk.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=Sk(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&pk(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o),r.Rb(r.l),r.Rb(r.B))},t.\u0275cmp=r.Lb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.Ic(ok,3),2&t){let t;r.xc(t=r.ic())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Fb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Gb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Jb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:sk,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.pc(),r.Xb(0,"div",0,1),r.Xb(2,"div",2),r.oc(3),r.Wb(),r.Wb()),2&t&&r.Gb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),Nk=(()=>{class t{constructor(t,e,n,i,s,o){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=s,this._ngZone=o,this._activeWindowCmptHasChanged=new ay.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new r.o,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=Zw(e,"focusin").pipe(tS(n),Object(St.a)(t=>t.target));Zw(e,"keydown").pipe(tS(n),Me(t=>t.which===_k.Tab),nk(t)).subscribe(([t,n])=>{const[r,i]=Sk(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&Zw(e,"click").pipe(tS(n),nk(t),Object(St.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:ak(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new Ik,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),d=new Ak(h,c,l,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(o,o),d.result.then(a,a),u.close=t=>{d.close(t)},u.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),l&&l.instance&&(this._applyBackdropOptions(l.instance,r),l.changeDetectorRef.detectChanges()),h.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(Rk).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(jk).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{ak(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{ak(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,s){return n?n instanceof r.N?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,s):new xk([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new xk([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new xk([[e]])}_createFromComponent(t,e,n,i,s){const o=t.resolveComponentFactory(n),a=r.t.create({providers:[{provide:Ik,useValue:i}],parent:e}),u=o.create(a),c=u.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new xk([[c]],u.hostView,u)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.g),r.ec(r.t),r.ec(o),r.ec(kk),r.ec(r.H),r.ec(r.B))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(r.g),Object(r.ec)(r.p),Object(r.ec)(o),Object(r.ec)(kk),Object(r.ec)(r.H),Object(r.ec)(r.B))},token:t,providedIn:"root"}),t})(),Pk=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.ec(r.j),r.ec(r.t),r.ec(Nk),r.ec(Ok))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(r.j),Object(r.ec)(r.p),Object(r.ec)(Nk),Object(r.ec)(Ok))},token:t,providedIn:"root"}),t})(),Lk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:[Pk]}),t})(),Fk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[M]]}),t})(),Mk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[M]]}),t})(),Vk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[M]]}),t})(),Uk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[M]]}),t})(),Bk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[M]]}),t})(),qk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[M]]}),t})(),Hk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[M]]}),t})(),zk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})();new r.s("live announcer delay",{providedIn:"root",factory:function(){return 100}});let Wk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[M]]}),t})();const $k=[mk,gk,yk,bk,vk,Ek,Ck,Lk,Fk,Mk,Vk,Uk,Bk,qk,Hk,zk,Wk];let Kk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[$k,mk,gk,yk,bk,vk,Ek,Ck,Lk,Fk,Mk,Vk,Uk,Bk,qk,Hk,zk,Wk]}),t})();const Gk={apiKey:"AIzaSyDBlJsFHrR3XhoJABayGdqneJi6t-cdPos",authDomain:"viacepteste.firebaseapp.com",projectId:"viacepteste",storageBucket:"viacepteste.appspot.com",messagingSenderId:"131857572408",appId:"1:131857572408:web:957327bf7389e48413bccd"};var Qk="firebasestorage.googleapis.com",Xk=function(t){function e(n,r){var i=t.call(this,Yk(n),"Firebase Storage: "+r+" ("+Yk(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Object(je.c)(e,t),e.prototype._codeEquals=function(t){return Yk(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(Mn.c);function Yk(t){return"storage/"+t}function Zk(){return new Xk("unknown","An unknown error occurred, please check the error payload for server response.")}function Jk(){return new Xk("canceled","User canceled the upload/download.")}function tR(){return new Xk("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function eR(t){return new Xk("invalid-argument",t)}function nR(){return new Xk("app-deleted","The Firebase app was deleted.")}function rR(t){return new Xk("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function iR(t,e){return new Xk("invalid-format","String does not match format '"+t+"': "+e)}function sR(t){throw new Xk("internal-error","Internal error: "+t)}var oR={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},aR=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function uR(t,e){switch(t){case oR.RAW:return new aR(cR(e));case oR.BASE64:case oR.BASE64URL:return new aR(lR(t,e));case oR.DATA_URL:return new aR((n=new hR(e)).base64?lR(oR.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(ny){throw iR(oR.DATA_URL,"Malformed data URL.")}return cR(e)}(n.rest),new hR(e).contentType)}var n;throw Zk()}function cR(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,s=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&s)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function lR(t,e){switch(t){case oR.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw iR(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case oR.BASE64URL:var i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw iR(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(ny){throw iR(t,"Invalid character found")}for(var a=new Uint8Array(o.length),u=0;u<o.length;u++)a[u]=o.charCodeAt(u);return a}var hR=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw iR(oR.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),dR={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function fR(t){switch(t){case"running":case"pausing":case"canceling":return dR.RUNNING;case"paused":return dR.PAUSED;case"success":return dR.SUCCESS;case"canceled":return dR.CANCELED;case"error":default:return dR.ERROR}}var pR=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),mR=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=pR.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=pR.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=pR.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw sR("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw sR("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw sR("cannot .getStatus() before sending");try{return this.xhr_.status}catch(ny){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw sR("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),gR=function(){function t(){}return t.prototype.createXhrIo=function(){return new mR},t}(),yR=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(ny){return new t(e,"")}if(""===r.path)return r;throw new Xk("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)",s=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),u=[{regex:s,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+(n===Qk?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(e);if(h){var d=h[l.indices.path];d||(d=""),r=new t(h[l.indices.bucket],d),l.postModify(r);break}}if(null==r)throw function(t){return new Xk("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),bR=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function vR(t){return"string"==typeof t||t instanceof String}function _R(t){return wR()&&t instanceof Blob}function wR(){return"undefined"!=typeof Blob}function SR(t,e,n,r){if(r<e)throw eR("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw eR("Invalid value for '"+t+"'. Expected "+n+" or less.")}function ER(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function CR(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var OR=function(){function t(t,e,n,r,i,s,o,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,s=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());void 0!==a?i(a):i()}catch(ny){s(ny)}else null!==o?((r=Zk()).serverResponse=o.getResponseText(),s(t.errorCallback_?t.errorCallback_(o,r):r)):s(r=n.canceled?t.appDelete_?nR():Jk():new Xk("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new xR(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,s=null,o=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){s=setTimeout(function(){s=null,function(e,n){if(n)e(!1,new xR(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===pR.NO_ERROR,s=n.getStatus();if(r&&!t.isRetryStatusCode_(s)){var o=-1!==t.successCodes_.indexOf(s);e(!0,new xR(o,n))}else{var a=n.getErrorCode()===pR.ABORT;e(!1,new xR(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,u())},e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(je.f)([null,t],e));else{var r;u()||o?l.call.apply(l,Object(je.f)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,c||(null!==s?(t||(a=2),clearTimeout(s),h(0)):t||(a=1)))}return h(0),setTimeout(function(){o=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),xR=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function TR(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function kR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=TR();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(wR())return new Blob(t);throw new Xk("unsupported-environment","This browser doesn't seem to support creating Blobs")}var RR=function(){function t(t,e){var n=0,r="";_R(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(_R(this.data_)){var r=(s=e,o=n,(i=this.data_).webkitSlice?i.webkitSlice(s,o):i.mozSlice?i.mozSlice(s,o):i.slice?i.slice(s,o):null);return null===r?null:new t(r)}var i,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(wR()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(kR.apply(null,r))}var i=e.map(function(t){return vR(t)?uR(oR.RAW,t).data:t.data_}),s=0;i.forEach(function(t){s+=t.byteLength});var o=new Uint8Array(s),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]}),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}();function IR(t){var e,n;try{e=JSON.parse(t)}catch(ny){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function AR(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function DR(t,e){return e}var jR=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||DR}}(),NR=null;function PR(){if(NR)return NR;var t=[];t.push(new jR("bucket")),t.push(new jR("generation")),t.push(new jR("metageneration")),t.push(new jR("name","fullPath",!0));var e=new jR("name");e.xform=function(t,e){return function(t){return!vR(t)||t.length<2?t:AR(t)}(e)},t.push(e);var n=new jR("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new jR("timeCreated")),t.push(new jR("updated")),t.push(new jR("md5Hash",null,!0)),t.push(new jR("cacheControl",null,!0)),t.push(new jR("contentDisposition",null,!0)),t.push(new jR("contentEncoding",null,!0)),t.push(new jR("contentLanguage",null,!0)),t.push(new jR("contentType",null,!0)),t.push(new jR("metadata","customMetadata",!0)),NR=t}function LR(t,e,n){var r=IR(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,s=0;s<i;s++){var o=n[s];r[o.local]=o.xform(r,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new yR(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function FR(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var MR=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function VR(t){if(!t)throw Zk()}function UR(t,e){return function(n,r){var i=LR(t,r,e);return VR(null!==i),i}}function BR(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new Xk("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Xk("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Xk("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Xk("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function qR(t){var e=BR(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Xk("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function HR(t,e,n){var r=ER(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,s=new MR(r,"GET",UR(t,n),i);return s.errorHandler=qR(e),s}function zR(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var WR=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function $R(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(ny){VR(!1)}return VR(!!n&&-1!==(e||["active"]).indexOf(n)),n}var KR=262144,GR=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function QR(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var XR=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=PR(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o=zR(e,r,i),a={name:o.fullPath},u=ER(s,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=FR(o,n),h=new MR(u,"POST",function(t){var e;$R(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(ny){VR(!1)}return VR(vR(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=BR(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n,r){var i=function(t,e,n,r){var i=new MR(n,"POST",function(t){var e=$R(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(ny){VR(!1)}n||VR(!1);var i=Number(n);return VR(!isNaN(i)),new WR(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=BR(e),i}(t._ref.storage,t._ref._location,e,t._blob),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=KR*this._chunkMultiplier,n=new WR(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,s){var o;try{o=function(t,e,n,r,i,s,o,a){var u=new WR(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Xk("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},f=r.slice(h,h+l);if(null===f)throw tR();var p=new MR(n,"POST",function(t,n){var i,o=$R(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===o?UR(e,s)(t,n):null,new WR(a,c,"final"===o,i)},e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=BR(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(ny){return t._error=ny,void t._transition("error")}var a=t._ref.storage._makeRequest(o,i,s);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){KR*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,n){var r=HR(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;var u=zR(e,r,i),c=FR(u,n),l=RR.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw tR();var h={name:u.fullPath},d=ER(s,t.host),f=t.maxUploadRetryTime,p=new MR(d,"POST",UR(t,n),f);return p.urlParams=h,p.headers=o,p.body=l.uploadData(),p.errorHandler=BR(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Jk(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=fR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,s=new GR(e,n,r);return this._addObserver(s),function(){i._removeObserver(s)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(fR(this._state)){case dR.SUCCESS:QR(this._resolve.bind(null,this.snapshot))();break;case dR.CANCELED:case dR.ERROR:QR(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(fR(this._state)){case dR.RUNNING:case dR.PAUSED:t.next&&QR(t.next.bind(t,this.snapshot))();break;case dR.SUCCESS:t.complete&&QR(t.complete.bind(t))();break;case dR.CANCELED:case dR.ERROR:t.error&&QR(t.error.bind(t,this._error))();break;default:t.error&&QR(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),YR=function(){function t(t,e){this._service=t,this._location=e instanceof yR?e:yR.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new yR(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return AR(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new yR(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw rR(t)},t}();function ZR(t){var e={prefixes:[],items:[]};return JR(t,e).then(function(){return e})}function JR(t,e,n){return Object(je.b)(this,void 0,void 0,function(){var r,i,s;return Object(je.d)(this,function(o){switch(o.label){case 0:return[4,tI(t,{pageToken:n})];case 1:return r=o.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(s=e.items).push.apply(s,r.items),null==r.nextPageToken?[3,3]:[4,JR(t,e,r.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function tI(t,e){return Object(je.b)(this,void 0,void 0,function(){var n,r;return Object(je.d)(this,function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&SR("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var o=ER(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new MR(o,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=IR(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,s=n.prefixes;i<s.length;i++){var o=s[i].replace(/\/$/,""),a=t._makeStorageReference(new yR(e,o));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new yR(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return VR(null!==i),i}}(t,e.bucket),a);return u.urlParams=s,u.errorHandler=BR(e),u}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function eI(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new yR(t._location.bucket,n);return new YR(t.storage,r)}function nI(t){return/^[A-Za-z]+:\/\//.test(t)}function rI(t,e){if(t instanceof oI){var n=t;if(null==n._bucket)throw new Xk("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new YR(n,n._bucket);return null!=e?rI(r,e):r}if(void 0!==e){if(e.includes(".."))throw eR('`path` param cannot contain ".."');return eI(t,e)}return t}function iI(t,e){if(e&&nI(e)){if(t instanceof oI)return new YR(t,e);throw eR("To use ref(service, url), the first argument must be a Storage instance.")}return rI(t,e)}function sI(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:yR.makeFromBucketSpec(n,t)}var oI=function(){function t(t,e,n,r,i,s){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Qk,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?yR.makeFromBucketSpec(i,this._host):sI(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?yR.makeFromBucketSpec(this._url,t):sI(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){SR("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){SR("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(je.b)(this,void 0,void 0,function(){var t,e;return Object(je.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return Object(je.b)(this,void 0,void 0,function(){var t;return Object(je.d)(this,function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new YR(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new bR(nR());var i=function(t,e,n,r,i,s){var o=CR(t.urlParams),a=t.url+o,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new OR(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},t.prototype.makeRequestWithTokens=function(t){return Object(je.b)(this,void 0,void 0,function(){var e;return Object(je.d)(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}})})},t}();function aI(t,e){return iI(t=Object(Mn.i)(t),e)}var uI,cI,lI=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),hI=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new lI(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new lI(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,s=void 0;return e&&(s="function"==typeof e?function(t){return e(new lI(t,i,i._ref))}:{next:e.next?function(t){return e.next(new lI(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,n||void 0,r||void 0)},t}(),dI=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new fI(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new fI(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),fI=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return eI(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new hI(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new XR(t,new RR(e),n)}(t=Object(Mn.i)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=oR.RAW),this._throwIfRoot("putString");var r=uR(e,t),i=Object(je.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new hI(new XR(this._delegate,new RR(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,ZR(t=Object(Mn.i)(t))).then(function(t){return new dI(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return tI(t=Object(Mn.i)(t),e)}(this._delegate,t||void 0).then(function(t){return new dI(t,e.storage)})},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(je.b)(this,void 0,void 0,function(){var e;return Object(je.d)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=HR(t.storage,t._location,PR()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object(Mn.i)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(je.b)(this,void 0,void 0,function(){var n;return Object(je.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=ER(e.fullServerUrl(),t.host),s=FR(n,r),o=t.maxOperationRetryTime,a=new MR(i,"PATCH",UR(t,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=qR(e),a}(t.storage,t._location,e,PR()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}(t=Object(Mn.i)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(je.b)(this,void 0,void 0,function(){var e;return Object(je.d)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=ER(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,s=new MR(r,"GET",function(t,e){return function(n,r){var i=LR(t,r,e);return VR(null!==i),function(t,e,n){var r=IR(e);if(null===r)return null;if(!vR(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var s=encodeURIComponent;return i.split(",").map(function(e){var r=t.fullPath;return ER("/b/"+s(t.bucket)+"/o/"+s(r),n)+CR({alt:"media",token:e})})[0]}(i,r,t.host)}}(t,n),i);return s.errorHandler=qR(e),s}(t.storage,t._location,PR()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(t){if(null===t)throw new Xk("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=Object(Mn.i)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(je.b)(this,void 0,void 0,function(){var e;return Object(je.d)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=ER(e.fullServerUrl(),t.host),r=new MR(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=qR(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object(Mn.i)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw rR(t)},t}(),pI=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(nI(t))throw eR("ref() expected a child path but got a URL, use refFromURL instead.");return new fI(aI(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!nI(t))throw eR("refFromURL() expected a full URL but got a child path, use ref() instead.");try{yR.makeFromUrl(t,this._delegate.host)}catch(ny){throw eR("refFromUrl() expected a valid full URL but got an invalid one.")}return new fI(aI(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function mI(t){const e=function(t){return new _t.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(hb(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(St.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function gI(t,e,n){return{getDownloadURL:()=>Object(Ne.a)(void 0).pipe(Object(Nn.b)(e.outsideAngular),ly(()=>t.getDownloadURL()),n),getMetadata:()=>Object(Ne.a)(void 0).pipe(Object(Nn.b)(e.outsideAngular),ly(()=>t.getMetadata()),n),delete:()=>Object(vt.a)(t.delete()),child:r=>gI(t.child(r),e,n),updateMetadata:e=>Object(vt.a)(t.updateMetadata(e)),put:(e,n)=>mI(t.put(e,n)),putString:(e,n,r)=>mI(t.putString(e,n,r)),listAll:()=>Object(vt.a)(t.listAll())}}cI={TaskState:dR,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:oR,Storage:oI,Reference:fI},(uI=Fn.a).INTERNAL.registerComponent(new sy.a("storage",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new pI(r,new oI(r,i,s,new gR,n,Fn.a.SDK_VERSION))},"PUBLIC").setServiceProps(cI).setMultipleInstances(!0)),uI.registerVersion("@firebase/storage","0.5.5");const yI=new r.s("angularfire2.storageBucket"),bI=new r.s("angularfire2.storage.maxUploadRetryTime"),vI=new r.s("angularfire2.storage.maxOperationRetryTime");let _I=(()=>{class t{constructor(t,e,n,r,i,s,o){this.schedulers=new Pn.d(i),this.keepUnstableUntilFirst=Object(Pn.h)(this.schedulers);const a=Object(Pn.g)(t,i,e);this.storage=Object(Pn.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return s&&t.setMaxUploadRetryTime(s),o&&t.setMaxOperationRetryTime(o),t},[s,o])}ref(t){return gI(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return gI(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return gI(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(Pn.c),r.ec(Pn.b,8),r.ec(yI,8),r.ec(r.D),r.ec(r.B),r.ec(bI,8),r.ec(vI,8))},t.\u0275prov=r.Nb({factory:function(){return new t(r.ec(Pn.c),r.ec(Pn.b,8),r.ec(yI,8),r.ec(r.D),r.ec(r.B),r.ec(bI,8),r.ec(vI,8))},token:t,providedIn:"any"}),t})(),wI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})(),SI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:[_I],imports:[wI]}),t})(),EI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[M,jw],jw]}),t})(),CI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[jw,M],jw]}),t})(),OI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[jw],jw]}),t})(),xI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[jw],jw]}),t})(),TI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})(),kI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[TI,Gw,jw,bb],TI,jw]}),t})(),RI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[jw,Gw],jw]}),t})();class II{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class AI extends II{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class DI extends II{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class jI extends II{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class NI extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof AI?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof DI?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof jI?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let PI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({}),t})();const LI=Ib();class FI{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=cb(-this._previousScrollPosition.left),t.style.top=cb(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),LI&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),LI&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class MI{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class VI{enable(){}disable(){}attach(){}}function UI(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function BI(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class qI{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();UI(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let HI=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new VI,this.close=t=>new MI(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new FI(this._viewportRuler,this._document),this.reposition=t=>new qI(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.ec(uE),r.ec(cE),r.ec(r.B),r.ec(o))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(uE),Object(r.ec)(cE),Object(r.ec)(r.B),Object(r.ec)(o))},token:t,providedIn:"root"}),t})();class zI{constructor(t){if(this.scrollStrategy=new VI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class WI{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class $I{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let KI=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(o))},token:t,providedIn:"root"}),t})(),GI=(()=>{class t extends KI{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(o))},token:t,providedIn:"root"}),t})(),QI=(()=>{class t extends KI{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){if(super.add(t),!this._isAttached){const t=this._document.body;t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o),r.ec(Sb))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(o),Object(r.ec)(Sb))},token:t,providedIn:"root"}),t})();const XI=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let YI=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||XI){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),XI?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.ec(o),r.ec(Sb))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(o),Object(r.ec)(Sb))},token:t,providedIn:"root"}),t})();class ZI{constructor(t,e,n,r,i,s,o,a,u){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new ay.a,this._attachments=new ay.a,this._detachments=new ay.a,this._locationChanges=py.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new ay.a,this._outsidePointerEvents=new ay.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ey(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=cb(this._config.width),t.height=cb(this._config.height),t.minWidth=cb(this._config.minWidth),t.minHeight=cb(this._config.minHeight),t.maxWidth=cb(this._config.maxWidth),t.maxHeight=cb(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;ub(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(tS(Object(uy.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const JI="cdk-overlay-connected-position-bounding-box",tA=/([A-Za-z%]+)$/;class eA{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ay.a,this._resizeSubscription=py.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(JI),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),u=this._getOverlayFit(a,e,n,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(u,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<u.visibleArea)&&(i={overlayFit:u,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&nA(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(JI),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=iA(e);let{x:s,y:o}=t,a=this._getOffset(r,"x"),u=this._getOffset(r,"y");a&&(s+=a),u&&(o+=u);let c=0-o,l=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,c,l),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=rA(this._overlayRef.getConfig().minHeight),o=rA(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=iA(e),i=this._viewportRect,s=Math.max(t.x+r.width-i.width,0),o=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),u=Math.max(i.left-n.left-t.x,0);let c=0,l=0;return c=r.width<=i.width?u||-s:t.x<this._viewportMargin?i.left-n.left-t.x:0,l=r.height<=i.height?a||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:c,y:l},{x:t.x+c,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new $I(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,u,c;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,u=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-r/2)}return{top:s,left:u,bottom:o,right:c,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=cb(n.height),r.top=cb(n.top),r.bottom=cb(n.bottom),r.width=cb(n.width),r.left=cb(n.left),r.right=cb(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=cb(t)),i&&(r.maxWidth=cb(i))}this._lastBoundingBoxSize=n,nA(this._boundingBox.style,r)}_resetBoundingBoxStyles(){nA(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){nA(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();nA(n,this._getExactOverlayY(e,t,r)),nA(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),u=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),u&&(o+=`translateY(${u}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=cb(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=cb(s.maxWidth):i&&(n.maxWidth="")),nA(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=cb(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=cb(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:BI(t,n),isOriginOutsideView:UI(t,n),isOverlayClipped:BI(e,n),isOverlayOutsideView:UI(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ub(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function nA(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function rA(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(tA);return n&&"px"!==n?null:parseFloat(e)}return t||null}function iA(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class sA{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new eA(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new WI(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const oA="cdk-global-overlay-wrapper";class aA{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(oA),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),u=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(oA),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let uA=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new aA}connectedTo(t,e,n){return new sA(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new eA(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(cE),r.ec(o),r.ec(Sb),r.ec(YI))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ec)(cE),Object(r.ec)(o),Object(r.ec)(Sb),Object(r.ec)(YI))},token:t,providedIn:"root"}),t})(),cA=0,lA=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u,c,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=u,this._location=c,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new zI(t);return i.direction=i.direction||this._directionality.value,new ZI(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+cA++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new NI(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.ec(HI),r.ec(YI),r.ec(r.j),r.ec(uA),r.ec(GI),r.ec(r.t),r.ec(r.B),r.ec(o),r.ec(Hb),r.ec(w),r.ec(QI))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const hA={provide:new r.s("cdk-connected-overlay-scroll-strategy"),deps:[lA],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let dA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:[lA,hA],imports:[[zb,PI,hE],hE]}),t})();const fA={provide:new r.s("mat-select-scroll-strategy"),deps:[lA],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let pA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({providers:[fA],imports:[[M,dA,Xw,jw],lE,NS,Xw,jw]}),t})();n("z6cu");let mA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[jw],jw]}),t})(),gA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[M,jw],jw]}),t})(),yA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Bb,jw],jw]}),t})(),bA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({imports:[[Vw,Gw,jw,Qw,M],Vw,jw,Qw,xI]}),t})(),vA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Pb({type:t,bootstrap:[$T]}),t.\u0275inj=r.Ob({providers:[],imports:[[Rw,bt,WT,Ae,Ie,vn,Pn.a.initializeApp(Gk),SI,Rw,EI,NS,XS,rE,CI,OI,xI,kI,RI,pA,IC,mA,gA,yA,bA,Kk]]}),t})();Object(r.V)(),gt().bootstrapModule(vA).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);